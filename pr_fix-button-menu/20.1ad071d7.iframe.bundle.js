(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{4984:function(module,__webpack_exports__,__webpack_require__){"use strict";var defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),get=(__webpack_require__(11),__webpack_require__(80),__webpack_require__(56),__webpack_require__(21)),get_default=__webpack_require__.n(get),persistedViews={};__webpack_exports__.a={persistViewInfo:function persistViewInfo(location,info){var level=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;persistedViews=Object.assign({},persistedViews,defineProperty_default()({},location,{level:level,info:Object.assign({},get_default()(persistedViews,[location,"info"],{}),info)}))},viewInfoSelector:function viewInfoSelector(location){return get_default()(persistedViews,[location,"info"],{})},clearPersistedViews:function clearPersistedViews(){var level=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;persistedViews=Object.assign({},Object.keys(persistedViews).reduce((function(acc,key){var persistedView=persistedViews[key];return Object.assign({},acc,persistedView.level<level&&defineProperty_default()({},key,persistedView))}),{}))}}},4986:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DetailLink}));__webpack_require__(33),__webpack_require__(152),__webpack_require__(1),__webpack_require__(2277);var tocco_util_src_queryString__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4988),tocco_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5186),react_intl__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(374),_utils_routing__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4991),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),DetailLinkRelativeWithoutIntl=function DetailLinkRelativeWithoutIntl(_ref){var entityKey=_ref.entityKey,children=_ref.children,relation=_ref.relation,intl=_ref.intl;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(tocco_ui__WEBPACK_IMPORTED_MODULE_5__.a,{"aria-label":function msg(id){return intl.formatMessage({id:id})}("client.component.navigationStrategy.detailLinkRelative"),to:"".concat(relation?relation+"/":"").concat(entityKey),children:children})};DetailLinkRelativeWithoutIntl.displayName="DetailLinkRelativeWithoutIntl";var DetailLinkRelative=Object(react_intl__WEBPACK_IMPORTED_MODULE_6__.c)(DetailLinkRelativeWithoutIntl),DetailLink=function DetailLink(_ref2){var entityName=_ref2.entityName,entityKey=_ref2.entityKey,children=_ref2.children;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(tocco_ui__WEBPACK_IMPORTED_MODULE_5__.a,{to:"/e/".concat(entityName,"/").concat(entityKey),target:"_blank",neutral:"false",children:children})};DetailLink.displayName="DetailLink";var ListLink=function ListLink(_ref3){var entityName=_ref3.entityName,entityKeys=_ref3.entityKeys,children=_ref3.children,queryString=entityKeys&&entityKeys.length>0&&"tql=KEYS("+entityKeys.join(",")+")";return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(tocco_ui__WEBPACK_IMPORTED_MODULE_5__.a,{to:{pathname:"/e/".concat(entityName,"/list"),search:"?".concat(queryString)},target:"_blank",children:children})};ListLink.displayName="ListLink",__webpack_exports__.b=function(history,match){return{DetailLink:DetailLink,ListLink:ListLink,DetailLinkRelative:DetailLinkRelative,navigateToCreateRelative:function navigateToCreateRelative(relationName,state){if(relationName)history.push({pathname:"".concat(match.url,"/").concat(relationName,"/create"),state:state});else{var entityBaseUrl=Object(_utils_routing__WEBPACK_IMPORTED_MODULE_7__.a)(match.url);history.push({pathname:entityBaseUrl+"/create",state:state})}},navigateToActionRelative:function navigateToActionRelative(definition,selection){var entityBaseUrl=Object(_utils_routing__WEBPACK_IMPORTED_MODULE_7__.a)(match.url),search=tocco_util_src_queryString__WEBPACK_IMPORTED_MODULE_4__.a.toQueryString({selection:selection,actionProperties:definition.properties});history.push({pathname:entityBaseUrl+"/action/"+definition.appId,state:{definition:definition,selection:selection},search:search})},openDetail:function openDetail(entityName,key){var url=history.createHref({pathname:"/e/".concat(entityName,"/").concat(key)});window.open(url,"_blank")}}},DetailLink.__docgenInfo={description:"",methods:[],displayName:"DetailLink",props:{entityName:{type:{name:"string"},required:!0,description:""},entityKey:{type:{name:"string"},required:!0,description:""},children:{type:{name:"any"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/utils/navigationStrategy.js"]={name:"DetailLink",docgenInfo:DetailLink.__docgenInfo,path:"packages/admin/src/routes/entities/utils/navigationStrategy.js"}),ListLink.__docgenInfo={description:"",methods:[],displayName:"ListLink",props:{entityName:{type:{name:"string"},required:!0,description:""},children:{type:{name:"any"},required:!0,description:""},entityKeys:{type:{name:"arrayOf",value:{name:"string"}},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/utils/navigationStrategy.js"]={name:"ListLink",docgenInfo:ListLink.__docgenInfo,path:"packages/admin/src/routes/entities/utils/navigationStrategy.js"})},4988:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(36);var query_string=__webpack_require__(4985),query_string_default=__webpack_require__.n(query_string),isObject=__webpack_require__(142),isObject_default=__webpack_require__.n(isObject),mapValues=__webpack_require__(104),mapValues_default=__webpack_require__.n(mapValues),hasJsonStructure=function hasJsonStructure(str){if("string"!=typeof str)return!1;try{var parsed=JSON.parse(str);return"[object Object]"===Object.prototype.toString.call(parsed)}catch(err){return!1}};__webpack_exports__.a={fromQueryString:function fromQueryString(queryString){var obj=query_string_default.a.parse(queryString);return mapValues_default()(obj,(function(value){return hasJsonStructure(value)?JSON.parse(value):value}))},toQueryString:function toQueryString(obj){var stringifiedValues=mapValues_default()(obj,(function(value){return isObject_default()(value)?JSON.stringify(value):value}));return query_string_default.a.stringify(stringifiedValues)}}},4991:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return goBack}));__webpack_require__(195),__webpack_require__(75),__webpack_require__(4993);var goBack=function goBack(url){for(var amount=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,normalizedUrl=url.replace(/\/$/,""),i=0;i<amount;i++)normalizedUrl=normalizedUrl.substring(0,normalizedUrl.lastIndexOf("/"));return normalizedUrl}},5032:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"imgs/tocco-circle.25b8cb1141417ffc7763e9309b5a36ec.svg"},5033:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"imgs/tocco_red.6ab51a129d1195d204cd84e69da2f044.svg"},5132:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"imgs/tocco_white.8f9290d80aa3635828f36920cf13aa11.svg"},5133:function(module){module.exports=JSON.parse('{"name":"tocco-admin","version":"0.5.28","description":"Alpha version of new tocco admin.","main":"dist/index.js","scripts":{"compile:prod":"cd ../../ && npm run compile:prod -- --package=admin","prepublish":"npm run compile:prod"},"devDependencies":{"path-to-regexp":"^3.0.0","react-burger-menu":"^2.6.11","react-helmet":"^5.2.1","tocco-app-extensions":"*","tocco-copy":"*","tocco-delete":"*","tocco-docs-browser":"*","tocco-entity-detail":"*","tocco-entity-list":"*","tocco-input-edit":"*","tocco-login":"*","tocco-merge":"*","tocco-resource-scheduler":"*","tocco-sso-login":"*","tocco-test-util":"*","tocco-theme":"*","tocco-two-factor-connector":"*","tocco-ui":"*","tocco-user-qr-action":"*","tocco-util":"*"}}')},5179:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return LoginGuardContainer}));var es=__webpack_require__(25),injectIntl=__webpack_require__(374),notification=__webpack_require__(26),login=__webpack_require__(249),react=__webpack_require__(1),react_default=__webpack_require__.n(react),LoadMask=(__webpack_require__(2277),__webpack_require__(2276)),Helmet=__webpack_require__(5125),slicedToArray=__webpack_require__(34),slicedToArray_default=__webpack_require__.n(slicedToArray),main=__webpack_require__(981),classCallCheck=(__webpack_require__(135),__webpack_require__(36),__webpack_require__(65),__webpack_require__(116)),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(117),createClass_default=__webpack_require__.n(createClass),inherits=__webpack_require__(118),inherits_default=__webpack_require__.n(inherits),possibleConstructorReturn=__webpack_require__(119),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(73),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),reducer=(__webpack_require__(80),__webpack_require__(18)),appFactory=__webpack_require__(58),externalEvents=__webpack_require__(57),regenerator=(__webpack_require__(6),__webpack_require__(3)),regenerator_default=__webpack_require__.n(regenerator),rest=__webpack_require__(19),cache=__webpack_require__(87),src_intl=__webpack_require__(705),redux_saga_effects_npm_proxy_esm=__webpack_require__(2),defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),reduce=(__webpack_require__(27),__webpack_require__(11),__webpack_require__(109)),reduce_default=__webpack_require__.n(reduce),providers_transformProviderEntities=function transformProviderEntities(response){return response.data.map((function(provider){return reduce_default()(provider.paths,(function(result,value,key){return Object.assign({},result,defineProperty_default()({},key,value.value))}),{})}))},setProviders=function setProviders(providers){return{type:"root/SET_PROVIDERS",payload:{providers:providers}}},_marked=regenerator_default.a.mark(sagas_loadProviders),_marked2=regenerator_default.a.mark(sagas_loginCompleted),_marked3=regenerator_default.a.mark(mainSagas),intlSelector=function intlSelector(state){return state.intl};function sagas_loadProviders(){var intl,query,entities;return regenerator_default.a.wrap((function loadProviders$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.f)(intlSelector);case 2:return intl=_context.sent,query={paths:["unique_id","label","button_primary_color","button_secondary_color","button_icon","button_label"],conditions:{locale:intl.locale,active:!0}},_context.next=6,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.fetchEntities,"Openid_provider",query,{method:"GET"},providers_transformProviderEntities);case 6:return entities=_context.sent,_context.next=9,Object(redux_saga_effects_npm_proxy_esm.e)(setProviders(entities));case 9:case"end":return _context.stop()}}),_marked)}function sagas_loginCompleted(_ref){var result,_yield$all,_yield$all2,revisionChanged,localChanged;return regenerator_default.a.wrap((function loginCompleted$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return result=_ref.payload.result,_context2.next=3,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.hasRevisionIdChanged),Object(redux_saga_effects_npm_proxy_esm.b)(src_intl.a.hasUserLocaleChanged)]);case 3:if(_yield$all=_context2.sent,_yield$all2=slicedToArray_default()(_yield$all,2),revisionChanged=_yield$all2[0],localChanged=_yield$all2[1],!revisionChanged&&!localChanged){_context2.next=12;break}return _context2.next=10,Object(redux_saga_effects_npm_proxy_esm.b)(cache.a.clearAll);case 10:_context2.next=14;break;case 12:return _context2.next=14,Object(redux_saga_effects_npm_proxy_esm.b)(cache.a.clearShortTerm);case 14:return _context2.next=16,Object(redux_saga_effects_npm_proxy_esm.e)(externalEvents.a.fireExternalEvent("loginCompleted",result));case 16:case"end":return _context2.stop()}}),_marked2)}function mainSagas(){return regenerator_default.a.wrap((function mainSagas$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.j)("root/LOAD_PROVIDERS",sagas_loadProviders),Object(redux_saga_effects_npm_proxy_esm.j)("root/LOGIN_COMPLETED",sagas_loginCompleted)]);case 2:case"end":return _context3.stop()}}),_marked3)}var ACTION_HANDLERS=defineProperty_default()({},"root/SET_PROVIDERS",reducer.a.singleTransferReducer("providers")),initialState={providers:[]};function reducer_reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0,handler=ACTION_HANDLERS[action.type];return handler?handler(state,action):state}reducer_reducer.__docgenInfo={description:"",methods:[],displayName:"reducer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/modules/reducer.js"]={name:"reducer",docgenInfo:reducer_reducer.__docgenInfo,path:"packages/sso-login/src/modules/reducer.js"});var modules={ssoLogin:reducer_reducer},sagas=[mainSagas],taggedTemplateLiteral=__webpack_require__(13),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),styled_components_browser_esm=(__webpack_require__(235),__webpack_require__(5)),toConsumableArray=(__webpack_require__(33),__webpack_require__(22)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),loginWindow_openLoginWindow=(__webpack_require__(152),function openLoginWindow(loginEndpoint,loginCompleted,provider){var encodedWindowUrl=encodeURIComponent(window.location.href),url="".concat("https://master.tocco.ch").concat(loginEndpoint,"?provider=").concat(provider.unique_id,"&sourceUri=").concat(encodedWindowUrl),popUp=window.open(url,provider.label,function getPopUpFeatures(){var height=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,width=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,features={height:height,width:width,left:window.screen.width/2-width/2,top:window.screen.height/2-height/2,resizable:1,scrollbars:1,status:1};return reduce_default()(features,(function(result,value,key){return[].concat(toConsumableArray_default()(result),["".concat(key,"=").concat(value)])}),[]).join(",")}(650,500));window.ssoPopUpCallback=function(result){popUp.close(),loginCompleted(result)}}),LazyIcon=__webpack_require__(713),get=__webpack_require__(21),get_default=__webpack_require__.n(get),StyledButton=__webpack_require__(1365),modularScale=__webpack_require__(29),resolveThemePath=__webpack_require__(35),declareInteractionColors=__webpack_require__(171);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  && {\n    margin-right: 0;\n    flex: 1;\n    font-size: ",";\n    justify-content: center;\n    border-radius: ",";\n    ","\n    span {\n      margin-left: .5em;\n      padding: .9rem 0;\n    }\n  }\n"]);return _templateObject=function _templateObject(){return data},data}var StyledProviderButton=Object(styled_components_browser_esm.default)(StyledButton.a)(_templateObject(),modularScale.a.font(1.3),resolveThemePath.a.radii("large"),(function(props){return Object(declareInteractionColors.b)(Object(declareInteractionColors.d)(props,{bg:props.primaryColor,fg:props.secondaryColor||"".concat(get_default()(props.theme,"colors.paper"),", ").concat(get_default()(props.theme,"colors.text"))}))})),jsx_runtime=__webpack_require__(0),ProviderButton_ProviderButton=function ProviderButton(_ref){var provider=_ref.provider,loginCompleted=_ref.loginCompleted,loginEndpoint=_ref.loginEndpoint;return Object(jsx_runtime.jsxs)(StyledProviderButton,{primaryColor:provider.button_primary_color,secondaryColor:provider.button_secondary_color,onClick:function clickHandler(){loginWindow_openLoginWindow(loginEndpoint,loginCompleted,provider)},children:[provider.button_icon&&Object(jsx_runtime.jsx)(LazyIcon.a,{position:"prepend",icon:provider.button_icon}),Object(jsx_runtime.jsx)("span",{children:provider.button_label})]})};ProviderButton_ProviderButton.displayName="ProviderButton",ProviderButton_ProviderButton.__docgenInfo={description:"",methods:[],displayName:"ProviderButton",props:{provider:{type:{name:"shape",value:{button_primary_color:{name:"string",required:!1},button_secondary_color:{name:"string",required:!1},button_icon:{name:"string",required:!1},button_label:{name:"string",required:!1}}},required:!1,description:""},loginEndpoint:{type:{name:"string"},required:!0,description:""},loginCompleted:{type:{name:"func"},required:!0,description:""}}};var components_ProviderButton_ProviderButton=ProviderButton_ProviderButton;function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}function LoginBox_templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  margin-top: 3rem;\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n\n  @media (max-width: 1024px) {\n    margin-top: 1.5rem;\n  }\n"]);return LoginBox_templateObject=function _templateObject(){return data},data}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/components/ProviderButton/ProviderButton.js"]={name:"ProviderButton",docgenInfo:ProviderButton_ProviderButton.__docgenInfo,path:"packages/sso-login/src/components/ProviderButton/ProviderButton.js"});var StyledButtonContainer=styled_components_browser_esm.default.div(LoginBox_templateObject()),LoginBox_LoginBox=function(_React$Component){inherits_default()(LoginBox,_React$Component);var _super=_createSuper(LoginBox);function LoginBox(props){var _this;return classCallCheck_default()(this,LoginBox),_this=_super.call(this,props),props.loadProviders(),_this}return createClass_default()(LoginBox,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){var _this2=this;if(this.props.autoLogin&&0===prevProps.providers.length&&this.props.providers.length>0){var autoLoginProvider=this.props.providers.find((function(entity){return entity.unique_id===_this2.props.autoLogin}));autoLoginProvider&&loginWindow_openLoginWindow(this.props.loginEndpoint,this.props.loginCompleted,autoLoginProvider)}}},{key:"render",value:function render(){var _this3=this;return Object(jsx_runtime.jsx)(StyledButtonContainer,{children:this.props.providers.map((function(provider,idx){return Object(jsx_runtime.jsx)(components_ProviderButton_ProviderButton,{provider:provider,loginEndpoint:_this3.props.loginEndpoint,loginCompleted:_this3.props.loginCompleted},idx)}))})}}]),LoginBox}(react_default.a.Component);LoginBox_LoginBox.__docgenInfo={description:"",methods:[],displayName:"LoginBox",props:{loginEndpoint:{type:{name:"string"},required:!1,description:""},loginCompleted:{type:{name:"func"},required:!0,description:""},loadProviders:{type:{name:"func"},required:!0,description:""},providers:{type:{name:"array"},required:!1,description:""},autoLogin:{type:{name:"string"},required:!1,description:""}}};var components_LoginBox_LoginBox=LoginBox_LoginBox;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/components/LoginBox/LoginBox.js"]={name:"LoginBox",docgenInfo:LoginBox_LoginBox.__docgenInfo,path:"packages/sso-login/src/components/LoginBox/LoginBox.js"});var components_LoginBox=components_LoginBox_LoginBox,mapActionCreators={loadProviders:function loadProviders(){return{type:"root/LOAD_PROVIDERS"}},loginCompleted:function loginCompleted(result){return{type:"root/LOGIN_COMPLETED",payload:{result:result}}}},LoginBoxContainer=Object(es.connect)((function mapStateToProps(state){return{providers:state.ssoLogin.providers,loginEndpoint:state.input.ssoLoginEndpoint,autoLogin:state.input.autoLogin}}),mapActionCreators)(components_LoginBox);function main_createSuper(Derived){var hasNativeReflectConstruct=function main_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}var EXTERNAL_EVENTS=["loginCompleted"],main_ref=Object(jsx_runtime.jsx)(LoginBoxContainer,{}),main_initApp=function initApp(id,input,events,publicPath){var content=main_ref,store=appFactory.a.createStore(modules,sagas,input,"sso-login");return externalEvents.a.addToStore(store,events),appFactory.a.createApp("sso-login",content,store,{input:input,events:events,actions:[],publicPath:publicPath,textResourceModules:["component","common","sso-login"]})},main_SsoLoginApp=function(_React$Component){inherits_default()(SsoLoginApp,_React$Component);var _super=main_createSuper(SsoLoginApp);function SsoLoginApp(props){var _this;classCallCheck_default()(this,SsoLoginApp),_this=_super.call(this,props);var events=EXTERNAL_EVENTS.reduce((function(events,event){return props[event]&&(events[event]=props[event]),events}),{});return _this.app=main_initApp(0,props,events),_this}return createClass_default()(SsoLoginApp,[{key:"render",value:function render(){return this.app.component}}]),SsoLoginApp}(react_default.a.Component);main_SsoLoginApp.__docgenInfo={description:"",methods:[],displayName:"SsoLoginApp",props:{ssoLoginEndpoint:{type:{name:"string"},required:!0,description:""},locale:{type:{name:"string"},required:!1,description:""},autoLogin:{type:{name:"bool"},required:!1,description:""}}};var src_main=main_SsoLoginApp;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/main.js"]={name:"SsoLoginApp",docgenInfo:main_SsoLoginApp.__docgenInfo,path:"packages/sso-login/src/main.js"});var message=__webpack_require__(1972),js_cookie=__webpack_require__(2173),js_cookie_default=__webpack_require__.n(js_cookie),tocco_white=__webpack_require__(5132),tocco_white_default=__webpack_require__.n(tocco_white),StyledHeading=__webpack_require__(232),StyledMisc=__webpack_require__(52),tocco_circle=__webpack_require__(5032),tocco_circle_default=__webpack_require__.n(tocco_circle);function _templateObject9(){var data=taggedTemplateLiteral_default()(["\n  && {\n    color: ",";\n  }\n"]);return _templateObject9=function _templateObject9(){return data},data}function _templateObject8(){var data=taggedTemplateLiteral_default()(["\n  && {\n    display: inline-block;\n    text-align: center;\n    font-weight: ",";\n    width: 100%;\n    color: ",";\n  }\n"]);return _templateObject8=function _templateObject8(){return data},data}function _templateObject7(){var data=taggedTemplateLiteral_default()(["\n  display: none;\n  max-width: 400px;\n  width: 95%;\n  height: auto;\n  position: relative;\n  margin: auto;\n  top: 45px;\n\n  @media (max-width: 1024px) {\n    display: block;\n  }\n\n  @media (max-width: 425px) {\n    max-width: 280px;\n  }\n"]);return _templateObject7=function _templateObject7(){return data},data}function _templateObject6(){var data=taggedTemplateLiteral_default()(["\n  transform: rotate(270deg);\n  position: relative;\n  top: 12.5vw;\n  left: -8%;\n  width: 25vw;\n\n  @media (max-width: 1024px) {\n    display: none;\n  }\n"]);return _templateObject6=function _templateObject6(){return data},data}function _templateObject5(){var data=taggedTemplateLiteral_default()(["\n  max-width: 410px;\n  margin: 6% 5% 0 28%;\n\n  && {\n    .tocco-login * {\n      font-size: ",";\n    }\n\n    @media (max-width: 1024px) {\n      margin: 14rem auto 0;\n      padding-left: 2rem;\n      padding-right: 2rem;\n    }\n\n    @media (max-width: 425px) {\n      margin-top: 12rem;\n    }\n  }\n"]);return _templateObject5=function _templateObject5(){return data},data}function _templateObject4(){var data=taggedTemplateLiteral_default()(["\n  && {\n    text-align: center;\n    font-size: ",";\n    display: inline-block;\n    width: 100%;\n    margin: 1rem 0 1.8rem;\n  }\n"]);return _templateObject4=function _templateObject4(){return data},data}function _templateObject3(){var data=taggedTemplateLiteral_default()(["\n  && {\n    font-size: ",";\n  }\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=taggedTemplateLiteral_default()(["\n  height: 100vh;\n  width: 100vw;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: 61vw;\n  background-position-y: -25vw;\n  background-position-x: -41vw;\n\n  .tocco-sso-login {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1.8rem;\n  }\n\n  @media (max-width: 1024px) {\n    background-size: 2000px;\n    background-position: 50% -1850px;\n  }\n\n  @media (max-width: 425px) {\n    background-position: 50% -1890px;\n  }\n"]);return _templateObject2=function _templateObject2(){return data},data}function StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  @media (max-width: 1024px) {\n    body {\n      overflow: auto !important;\n    }\n  }\n"]);return StyledComponents_templateObject=function _templateObject(){return data},data}var GlobalBodyStyle=Object(styled_components_browser_esm.createGlobalStyle)(StyledComponents_templateObject()),StyledLogin=styled_components_browser_esm.default.div(_templateObject2(),tocco_circle_default.a),StyledHeadingLogin=Object(styled_components_browser_esm.default)(StyledHeading.a)(_templateObject3(),modularScale.a.font(11)),StyledSpanLogin=Object(styled_components_browser_esm.default)(StyledMisc.p)(_templateObject4(),modularScale.a.font(1.3)),StyledLoginWrapper=styled_components_browser_esm.default.div(_templateObject5(),modularScale.a.font(1.3)),StyledSloganImg=styled_components_browser_esm.default.img(_templateObject6()),StyledMobileSloganImg=styled_components_browser_esm.default.img(_templateObject7()),StyledSsoMsg=Object(styled_components_browser_esm.default)(StyledMisc.p)(_templateObject8(),resolveThemePath.a.fontWeight("bold"),resolveThemePath.a.color("signal.info.text")),StyledSsoError=Object(styled_components_browser_esm.default)(StyledSsoMsg)(_templateObject9(),resolveThemePath.a.color("signal.danger.text")),Login_ref5=Object(jsx_runtime.jsx)(StyledSsoMsg,{breakWords:!0,children:Object(jsx_runtime.jsx)(message.a,{id:"client.sso-login.registration"})}),_ref6=Object(jsx_runtime.jsx)(StyledSsoError,{breakWords:!0,children:Object(jsx_runtime.jsx)(message.a,{id:"client.sso-login.error"})}),_ref7=Object(jsx_runtime.jsx)(StyledSpanLogin,{children:Object(jsx_runtime.jsx)(message.a,{id:"client.admin.loginChoice"})}),_ref8=Object(jsx_runtime.jsx)(GlobalBodyStyle,{}),_ref9=Object(jsx_runtime.jsx)(StyledMobileSloganImg,{src:tocco_white_default.a,alt:"Tocco Slogan",height:"42.3",width:"460"}),Login_ref10=Object(jsx_runtime.jsx)(StyledSloganImg,{src:tocco_white_default.a,alt:"Tocco Slogan",height:"42.3",width:"460"}),_ref11=Object(jsx_runtime.jsx)(StyledHeadingLogin,{children:Object(jsx_runtime.jsx)(message.a,{id:"client.admin.welcomeTitle"})}),Login_Login=function Login(_ref){var ssoAvailable=_ref.ssoAvailable,loginSuccessful=_ref.loginSuccessful,checkSsoAvailable=_ref.checkSsoAvailable,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),showError=_useState2[0],setShowError=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),showRegistrationText=_useState4[0],setShowRegistrationText=_useState4[1],autoLogin=js_cookie_default.a.get("sso-autologin");Object(react.useEffect)((function(){checkSsoAvailable()}),[]);var _ref4=Object(jsx_runtime.jsx)(src_main,{ssoLoginEndpoint:"/sso",loginCompleted:function ssoLoginCompleted(_ref3){var successful=_ref3.successful,provider=_ref3.provider,registration=_ref3.registration;successful?(js_cookie_default.a.set("sso-autologin",provider,{expires:365}),loginSuccessful(30)):!successful&&registration?setShowRegistrationText(!0):setShowError(!0)},autoLogin:autoLogin}),SsoLoginPart=function SsoLoginPart(){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[_ref4,showRegistrationText&&Login_ref5,showError&&_ref6,_ref7]})};return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[_ref8,Object(jsx_runtime.jsxs)(StyledLogin,{children:[_ref9,Login_ref10,Object(jsx_runtime.jsxs)(StyledLoginWrapper,{children:[_ref11,ssoAvailable&&Object(jsx_runtime.jsx)(SsoLoginPart,{}),Object(jsx_runtime.jsx)(main.b,{loginSuccess:function loginSuccess(_ref2){var timeout=_ref2.timeout;loginSuccessful(timeout)},showTitle:!1})]})]})]})};Login_Login.__docgenInfo={description:"",methods:[],displayName:"Login",props:{ssoAvailable:{type:{name:"bool"},required:!1,description:""},loginSuccessful:{type:{name:"func"},required:!0,description:""},checkSsoAvailable:{type:{name:"func"},required:!0,description:""}}};var components_Login_Login=Login_Login;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Login/Login.js"]={name:"Login",docgenInfo:Login_Login.__docgenInfo,path:"packages/admin/src/components/Login/Login.js"});var actions=__webpack_require__(182),LoginContainer_mapActionCreators={loginSuccessful:actions.p,checkSsoAvailable:actions.l},LoginContainer=Object(es.connect)((function mapStateToProps(state,props){return{ssoAvailable:state.session.ssoAvailable}}),LoginContainer_mapActionCreators)(Object(injectIntl.c)(components_Login_Login)),navigation_actions=__webpack_require__(97),preferences_actions=__webpack_require__(274),react_router=(__webpack_require__(481),__webpack_require__(75),__webpack_require__(195),__webpack_require__(715)),history_es=__webpack_require__(5157),BurgerButton=__webpack_require__(2268),viewPersistor=__webpack_require__(4984),navigationStrategy=__webpack_require__(4986),SearchBox=(__webpack_require__(81),__webpack_require__(572),__webpack_require__(703)),declareFont=(__webpack_require__(82),__webpack_require__(106),__webpack_require__(141),__webpack_require__(79));function StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  margin-bottom: ",";\n\n  > div {\n    margin-bottom: ",";\n  }\n"]);return StyledComponents_templateObject2=function _templateObject2(){return data},data}function MenuTree_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  ","\n\n  && {\n    padding-left: ","px;\n    line-height: ",";\n  }\n  ","\n"]);return MenuTree_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledMenuEntry=styled_components_browser_esm.default.div(MenuTree_StyledComponents_templateObject(),Object(declareFont.a)(),(function(_ref){return 7*_ref.level}),resolveThemePath.a.lineHeight("light"),(function(_ref2){return 0===_ref2.childrenCount&&"margin-bottom: 0 !important"})),StyledMenuEntryWrapper=styled_components_browser_esm.default.div(StyledComponents_templateObject2(),modularScale.a.space(.6),modularScale.a.space(0)),MenuTree_MenuItem=function MenuItem(_ref){var item=_ref.item,typeMapping=_ref.typeMapping;if(!item)return null;var mappedType=typeMapping[item.menuType];if(!mappedType)return null;var Component=mappedType.component;return Object(jsx_runtime.jsxs)(StyledMenuEntry,Object.assign({},item,{childrenCount:item.children?item.children.length:0,children:[Object(jsx_runtime.jsx)(Component,Object.assign({item:item},mappedType.props)),item.children&&item.children.map((function(child){return Object(jsx_runtime.jsx)(MenuItem,{item:child,typeMapping:typeMapping},child.name)}))]}))};MenuTree_MenuItem.displayName="MenuItem";var prepareTree=function prepareTree(item,searchFilter,typeMapping){var level=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,mappedType=typeMapping[item.menuType];if(!mappedType)return null;var matchingAttribute,children=(item.children||[]).map((function(child){return prepareTree(child,searchFilter,typeMapping,level+1)})).filter((function(c){return null!==c}));return 0===children.length&&searchFilter&&!(matchingAttribute=mappedType.filterAttributes.find((function(filterAttribute){return item[filterAttribute]&&item[filterAttribute].toLowerCase().includes(searchFilter.toLowerCase())})))?null:Object.assign({},item,{level:level,children:children,matchingAttribute:matchingAttribute})},MenuTree_MenuTree=function MenuTree(_ref2){var items=_ref2.items,searchFilter=_ref2.searchFilter,typeMapping=_ref2.typeMapping;return _ref2.requireSearch&&!searchFilter?null:items&&0!==items.length?Object(jsx_runtime.jsx)(StyledMenuEntryWrapper,{children:items.map((function(item){return Object(jsx_runtime.jsx)(MenuTree_MenuItem,{item:prepareTree(item,searchFilter,typeMapping),typeMapping:typeMapping},item.name)}))}):null};MenuTree_MenuTree.displayName="MenuTree",MenuTree_MenuTree.__docgenInfo={description:"",methods:[],displayName:"MenuTree",props:{items:{type:{name:"array"},required:!1,description:""},searchFilter:{type:{name:"string"},required:!1,description:""},typeMapping:{type:{name:"objectOf",value:{name:"shape",value:{component:{name:"func",required:!1},filterAttribute:{name:"arrayOf",value:{name:"string"},required:!1}}}},required:!1,description:""},requireSearch:{type:{name:"bool"},required:!1,description:""}}};var components_MenuTree_MenuTree=react_default.a.memo(MenuTree_MenuTree);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/MenuTree/MenuTree.js"]={name:"MenuTree",docgenInfo:MenuTree_MenuTree.__docgenInfo,path:"packages/admin/src/components/MenuTree/MenuTree.js"});var components_MenuTree=components_MenuTree_MenuTree,react_router_dom=__webpack_require__(4983),StyledScrollbar=__webpack_require__(946),Button=__webpack_require__(71);function StyledComponents_templateObject8(){var data=taggedTemplateLiteral_default()(["\n  height: 50px;\n  padding-bottom: ",";\n"]);return StyledComponents_templateObject8=function _templateObject8(){return data},data}function StyledComponents_templateObject7(){var data=taggedTemplateLiteral_default()(["\n  overflow: hidden;\n  flex: ",";\n  justify-content: center;\n  border-radius: 0;\n  margin: 5px;\n  border-top: 5px solid ",";\n  color: ",";\n  font-weight: ",";\n\n  &:hover {\n    border-color: ",";\n    background-color: transparent;\n    color: ",";\n  }\n\n  &:focus {\n    background-color: transparent;\n  }\n\n  & > * {\n    display: inline-block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]);return StyledComponents_templateObject7=function _templateObject7(){return data},data}function StyledComponents_templateObject6(){var data=taggedTemplateLiteral_default()(["\n  font-size: ",";\n  justify-content: center;\n  border-radius: 0;\n  margin: 12px 5px 5px;\n\n  &:hover {\n    background-color: transparent;\n    color: ",";\n  }\n"]);return StyledComponents_templateObject6=function _templateObject6(){return data},data}function StyledComponents_templateObject5(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  margin-bottom: 10px;\n  border-bottom: 3px solid ",";\n\n  &:focus {\n    background-color: transparent;\n  }\n\n  span {\n    padding-top: .4rem;\n    padding-bottom: .4rem;\n  }\n"]);return StyledComponents_templateObject5=function _templateObject5(){return data},data}function StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    font-weight: ",";\n    color: ",";\n  }\n\n  &.active {\n    text-decoration: underline;\n  }\n"]);return StyledComponents_templateObject4=function _templateObject4(){return data},data}function StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  color: ",";\n  font-weight: ",";\n"]);return StyledComponents_templateObject3=function _templateObject3(){return data},data}function Navigation_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  height: 100%;\n  overflow: auto;\n  padding: "," 0 0 ",";\n  ","\n"]);return Navigation_StyledComponents_templateObject2=function _templateObject2(){return data},data}function Navigation_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .StyledSearchBox {\n    margin: 1.5rem 3rem 1.8rem 1.8rem;\n  }\n"]);return Navigation_StyledComponents_templateObject=function _templateObject(){return data},data}var secondary=resolveThemePath.a.color("secondary"),secondaryLight=resolveThemePath.a.color("secondaryLight"),StyledNav=styled_components_browser_esm.default.nav(Navigation_StyledComponents_templateObject()),StyledMenuWrapper=styled_components_browser_esm.default.div(Navigation_StyledComponents_templateObject2(),modularScale.a.space(.6),modularScale.a.space(.6),StyledScrollbar.a),StyledComponents_StyledMenuEntry=styled_components_browser_esm.default.span(StyledComponents_templateObject3(),resolveThemePath.a.color("text"),resolveThemePath.a.fontWeight("bold")),StyledMenuLink=Object(styled_components_browser_esm.default)(react_router_dom.a)(StyledComponents_templateObject4(),resolveThemePath.a.color("text"),resolveThemePath.a.color("secondaryLight"),resolveThemePath.a.fontWeight("bold"),secondaryLight),StyledTabsContainer=styled_components_browser_esm.default.div(StyledComponents_templateObject5(),resolveThemePath.a.color("backgroundBody")),StyledNavSwitchButton=Object(styled_components_browser_esm.default)(Button.a)(StyledComponents_templateObject6(),modularScale.a.font(0),secondaryLight),StyledNavButton=Object(styled_components_browser_esm.default)(Button.a)(StyledComponents_templateObject7(),(function(_ref){return _ref.narrow?.2:1}),(function(_ref2){return _ref2.active?secondary:"transparent"}),(function(_ref3){return _ref3.active?secondary:secondaryLight}),resolveThemePath.a.fontWeight("bold"),(function(_ref4){return _ref4.active?secondary:secondaryLight}),(function(_ref5){return _ref5.active?secondary:secondaryLight})),StyledSearchBoxWrapper=styled_components_browser_esm.default.div(StyledComponents_templateObject8(),modularScale.a.space(-.5)),Navigation_MenuMenuEntry=function MenuMenuEntry(_ref){var item=_ref.item;return Object(jsx_runtime.jsx)(StyledComponents_StyledMenuEntry,{children:item.label})};Navigation_MenuMenuEntry.displayName="MenuMenuEntry";var Navigation_EntityExplorerMenuEntry=function EntityExplorerMenuEntry(_ref2){var onClick=_ref2.onClick,item=_ref2.item,entityNameDisplay="entity"===item.matchingAttribute?Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[" (",item.entity,")"]}):"";return Object(jsx_runtime.jsxs)(StyledMenuLink,{onClick:onClick,to:"/e/".concat(item.entity),children:[item.label,entityNameDisplay]})};Navigation_EntityExplorerMenuEntry.displayName="EntityExplorerMenuEntry";var Navigation_ActionMenuEntry=function ActionMenuEntry(_ref3){var onClick=_ref3.onClick,item=_ref3.item;return Object(jsx_runtime.jsx)(StyledMenuLink,{onClick:onClick,to:"/e/action/".concat(item.name),children:item.label})};Navigation_ActionMenuEntry.displayName="ActionMenuEntry";var tabs_MODULES="modules",tabs_SETTINGS="settings",tabs_SYSTEM="system",tabs_COMPLETE="complete",Navigation_Navigation=function Navigation(_ref4){var modulesMenuTree=_ref4.modulesMenuTree,settingsMenuTree=_ref4.settingsMenuTree,systemMenuTree=_ref4.systemMenuTree,completeMenuTree=_ref4.completeMenuTree,menuOpen=_ref4.menuOpen,onClick=_ref4.onClick,activeMenuTab=_ref4.activeMenuTab,setActiveMenuTab=_ref4.setActiveMenuTab,intl=_ref4.intl,setVisibleMenus=_ref4.setVisibleMenus,visibleMenus=_ref4.visibleMenus,inputEl=Object(react.useRef)(null),navigationEl=Object(react.useRef)(null),_useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),filter=_useState2[0],setFilter=_useState2[1],map=Object(react.useMemo)((function(){return{menu:{component:Navigation_MenuMenuEntry,filterAttributes:[]},"entity-explorer":{component:Navigation_EntityExplorerMenuEntry,props:{onClick:onClick},filterAttributes:["label","entity"]},action:{component:Navigation_ActionMenuEntry,props:{onClick:onClick},filterAttributes:["label"]}}}),[]);Object(react.useEffect)((function(){menuOpen&&(activeMenuTab||setActiveMenuTab(tabs_MODULES),inputEl.current.select(),inputEl.current.focus())}),[menuOpen]);var msg=function msg(id){return intl.formatMessage({id:id})};return Object(jsx_runtime.jsxs)(StyledNav,{ref:navigationEl,onKeyDown:function onKeyDown(e){"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),function handleCursorNavigation(key){var focusableElements=navigationEl.current.querySelectorAll("a, input"),currentIndex=toConsumableArray_default()(focusableElements).findIndex((function(el){return document.activeElement.isEqualNode(el)}));-1!==currentIndex&&focusableElements[(currentIndex+("ArrowDown"===key?1:focusableElements.length-1))%focusableElements.length].focus()}(e.key))},children:[Object(jsx_runtime.jsxs)(StyledTabsContainer,{children:["main"===visibleMenus&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(StyledNavSwitchButton,{active:!1,onClick:function onClick(){setVisibleMenus("additional"),setActiveMenuTab(tabs_COMPLETE)},icon:"chevron-right",narrow:!0}),Object(jsx_runtime.jsx)(StyledNavButton,{active:activeMenuTab===tabs_MODULES,onClick:function onClick(){return setActiveMenuTab(tabs_MODULES)},label:msg("client.admin.navigation.modules")}),Object(jsx_runtime.jsx)(StyledNavButton,{active:activeMenuTab===tabs_SETTINGS,onClick:function onClick(){return setActiveMenuTab(tabs_SETTINGS)},label:msg("client.admin.navigation.settings")})]}),"additional"===visibleMenus&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(StyledNavSwitchButton,{active:!1,onClick:function onClick(){setVisibleMenus("main"),setActiveMenuTab(tabs_MODULES)},icon:"chevron-left",narrow:!0}),Object(jsx_runtime.jsx)(StyledNavButton,{active:activeMenuTab===tabs_SYSTEM,onClick:function onClick(){return setActiveMenuTab(tabs_SYSTEM)},label:msg("client.admin.navigation.system")}),Object(jsx_runtime.jsx)(StyledNavButton,{active:activeMenuTab===tabs_COMPLETE,onClick:function onClick(){return setActiveMenuTab(tabs_COMPLETE)},label:msg("client.admin.navigation.complete")})]})]}),Object(jsx_runtime.jsx)(StyledSearchBoxWrapper,{children:Object(jsx_runtime.jsx)(SearchBox.a,{minInputLength:2,onSearch:setFilter,ref:inputEl,placeholder:msg("client.admin.navigation.searchBoxPlaceHolder"),"aria-label":msg("client.admin.navigation.searchBoxPlaceHolder")})}),activeMenuTab===tabs_MODULES&&Object(jsx_runtime.jsx)(StyledMenuWrapper,{children:Object(jsx_runtime.jsx)(components_MenuTree,{items:modulesMenuTree,searchFilter:filter,typeMapping:map})}),activeMenuTab===tabs_SETTINGS&&Object(jsx_runtime.jsx)(StyledMenuWrapper,{children:Object(jsx_runtime.jsx)(components_MenuTree,{items:settingsMenuTree,searchFilter:filter,typeMapping:map})}),activeMenuTab===tabs_SYSTEM&&Object(jsx_runtime.jsx)(StyledMenuWrapper,{children:Object(jsx_runtime.jsx)(components_MenuTree,{items:systemMenuTree,searchFilter:filter,typeMapping:map})}),activeMenuTab===tabs_COMPLETE&&Object(jsx_runtime.jsx)(StyledMenuWrapper,{children:Object(jsx_runtime.jsx)(components_MenuTree,{items:completeMenuTree,searchFilter:filter,typeMapping:map,requireSearch:!0})})]})};Navigation_Navigation.displayName="Navigation",Navigation_Navigation.__docgenInfo={description:"",methods:[],displayName:"Navigation",props:{intl:{type:{name:"object"},required:!0,description:""},activeMenuTab:{type:{name:"string"},required:!0,description:""},settingsMenuTree:{type:{name:"array"},required:!1,description:""},modulesMenuTree:{type:{name:"array"},required:!1,description:""},systemMenuTree:{type:{name:"array"},required:!1,description:""},completeMenuTree:{type:{name:"array"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""},setActiveMenuTab:{type:{name:"func"},required:!1,description:""},menuOpen:{type:{name:"bool"},required:!1,description:""},visibleMenus:{type:{name:"string"},required:!1,description:""},setVisibleMenus:{type:{name:"func"},required:!1,description:""}}};var components_Navigation_Navigation=Navigation_Navigation;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Navigation/Navigation.js"]={name:"Navigation",docgenInfo:Navigation_Navigation.__docgenInfo,path:"packages/admin/src/components/Navigation/Navigation.js"});var NavigationContainer_mapActionCreators={setActiveMenuTab:navigation_actions.k,setVisibleMenus:navigation_actions.q},components_Navigation=Object(es.connect)((function mapStateToProps(state,props){return{settingsMenuTree:state.navigation.settingsMenuTree,modulesMenuTree:state.navigation.modulesMenuTree,systemMenuTree:state.navigation.systemMenuTree,completeMenuTree:state.navigation.completeMenuTree,menuOpen:state.navigation.menuOpen,activeMenuTab:state.navigation.activeMenuTab,visibleMenus:state.navigation.visibleMenus}}),NavigationContainer_mapActionCreators)(Object(injectIntl.c)(components_Navigation_Navigation)),tocco_red=__webpack_require__(5033),tocco_red_default=__webpack_require__.n(tocco_red);function Dashboard_StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  height: auto;\n"]);return Dashboard_StyledComponents_templateObject4=function _templateObject4(){return data},data}function Dashboard_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  && {\n    font-size: 3rem;\n    color: ",";\n  }\n"]);return Dashboard_StyledComponents_templateObject3=function _templateObject3(){return data},data}function Dashboard_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  max-width: 900px;\n  width: 100%;\n  height: 100px;\n  text-align: right;\n  margin-bottom: 150px;\n  margin-right: 100px;\n  margin-left: 100px;\n\n  @media (max-width: 568px) {\n    margin-right: 25px;\n    margin-left: 25px;\n    margin-bottom: 0;\n  }\n"]);return Dashboard_StyledComponents_templateObject2=function _templateObject2(){return data},data}function Dashboard_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n\n  @media (max-width: 568px) {\n    justify-content: center;\n    align-items: center;\n  }\n"]);return Dashboard_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledDashBoardWrapper=styled_components_browser_esm.default.div(Dashboard_StyledComponents_templateObject(),resolveThemePath.a.color("backgroundBody")),StyledSlogan=styled_components_browser_esm.default.div(Dashboard_StyledComponents_templateObject2()),StyledTitle=Object(styled_components_browser_esm.default)(StyledHeading.c)(Dashboard_StyledComponents_templateObject3(),resolveThemePath.a.color("primary")),StyledLogo=styled_components_browser_esm.default.img(Dashboard_StyledComponents_templateObject4()),Dashboard_ref=Object(jsx_runtime.jsx)(StyledLogo,{src:tocco_red_default.a,alt:"tocco-logo",height:"53.34",width:"580"}),Dashboard_Dashboard=function Dashboard(){var packageJson=__webpack_require__(5133);return Object(jsx_runtime.jsx)(StyledDashBoardWrapper,{children:Object(jsx_runtime.jsxs)(StyledSlogan,{children:[Dashboard_ref,Object(jsx_runtime.jsxs)(StyledTitle,{children:["beta v",packageJson.version]})]})})};Dashboard_Dashboard.displayName="Dashboard",Dashboard_Dashboard.__docgenInfo={description:"",methods:[],displayName:"Dashboard",props:{match:{type:{name:"object"},required:!1,description:""}}};var components_Dashboard_Dashboard=react_default.a.memo(Dashboard_Dashboard,(function(){return!0}));"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/dashboard/components/Dashboard/Dashboard.js"]={name:"Dashboard",docgenInfo:Dashboard_Dashboard.__docgenInfo,path:"packages/admin/src/routes/dashboard/components/Dashboard/Dashboard.js"});var components_Dashboard=components_Dashboard_Dashboard,route=(__webpack_require__(56),__webpack_require__(386),__webpack_require__(94),__webpack_require__(98),__webpack_require__(64),__webpack_require__(68),__webpack_require__(326)),js=__webpack_require__(163),omit=__webpack_require__(287),omit_default=__webpack_require__.n(omit),omitBy=__webpack_require__(5134),omitBy_default=__webpack_require__.n(omitBy),ignoredAttributes=["location.key","location.search","location.hash"];function areEqual(prevProps,nextProps){var diff=js.a.difference(prevProps,nextProps),clean=omitBy_default()(omit_default()(diff,ignoredAttributes),(function(v){return 0===Object.keys(v).length}));return 0===Object.entries(clean).length}var routes_entities=Object(react.memo)((function(props){return Object(jsx_runtime.jsx)(es.ReactReduxContext.Consumer,{children:function children(_ref){var store=_ref.store,Component=route.a.loadRoute(store,{},(function(){return Promise.all([__webpack_require__.e(0),__webpack_require__.e(5),__webpack_require__.e(1),__webpack_require__.e(6),__webpack_require__.e(25)]).then(__webpack_require__.bind(null,5178))}));return Object(jsx_runtime.jsx)(Component,Object.assign({},props))}})}),areEqual),docs_Route=function Route(props){var store=Object(es.useStore)(),Component=Object(react.useMemo)((function(){return route.a.loadRoute(store,{},(function(){return Promise.all([__webpack_require__.e(5),__webpack_require__.e(6),__webpack_require__.e(27)]).then(__webpack_require__.bind(null,5163))}),"docs")}),[]);return Object(jsx_runtime.jsx)(Component,Object.assign({},props))};docs_Route.displayName="Route",docs_Route.__docgenInfo={description:"",methods:[],displayName:"Route"};var docs=docs_Route;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/docs/index.js"]={name:"Route",docgenInfo:docs_Route.__docgenInfo,path:"packages/admin/src/routes/docs/index.js"});var Typography=__webpack_require__(17),Settings_ref=Object(jsx_runtime.jsx)(Typography.a.H2,{children:"Settings"}),Settings=function Settings(props){return Settings_ref};Settings.displayName="Settings",Settings.__docgenInfo={description:"",methods:[],displayName:"Settings"};var Settings_Settings=Settings;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/settings/components/Settings/Settings.js"]={name:"Settings",docgenInfo:Settings.__docgenInfo,path:"packages/admin/src/routes/settings/components/Settings/Settings.js"});var components_Settings=Settings_Settings,StyledBall=__webpack_require__(2236),ButtonMenu=__webpack_require__(1376),Menu_MenuItem=__webpack_require__(385),BallMenu=__webpack_require__(4957),two_factor_connector_src_main=__webpack_require__(2210),react_dom=__webpack_require__(77),react_dom_default=__webpack_require__.n(react_dom),usePopper=__webpack_require__(1371),Ball=__webpack_require__(1374);function Header_StyledComponents_templateObject8(){var data=taggedTemplateLiteral_default()(["\n  width: 7px;\n  height: 7px;\n  position: absolute;\n  top: 3px;\n  left: 21.5px;\n  background-color: ",";\n  border-radius: 50%;\n  display: inline-block;\n"]);return Header_StyledComponents_templateObject8=function _templateObject8(){return data},data}function Header_StyledComponents_templateObject7(){var data=taggedTemplateLiteral_default()(["\n  margin-left: ",";\n"]);return Header_StyledComponents_templateObject7=function _templateObject7(){return data},data}function Header_StyledComponents_templateObject6(){var data=taggedTemplateLiteral_default()(["\n  position: relative;\n"]);return Header_StyledComponents_templateObject6=function _templateObject6(){return data},data}function Header_StyledComponents_templateObject5(){var data=taggedTemplateLiteral_default()(["\n  width: 350px;\n  z-index: 1001; // higher than bm-overlay\n  box-shadow: 0 0 5px rgba(0, 0, 0, .3);\n"]);return Header_StyledComponents_templateObject5=function _templateObject5(){return data},data}function Header_StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  position: absolute;\n  z-index: 3; // higher than StyledBackgroundCover to prevent coverage\n  height: 40px;\n  width: 100%;\n  background-color: ",";\n  mask-image: url(",");\n  mask-repeat: no-repeat;\n  mask-position: -300px -900px;\n"]);return Header_StyledComponents_templateObject4=function _templateObject4(){return data},data}function Header_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  flex: 1;\n  z-index: 2;\n  display: flex;\n  justify-content: flex-end;\n  padding: 7px;\n"]);return Header_StyledComponents_templateObject3=function _templateObject3(){return data},data}function Header_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  grid-area: header;\n  display: flex;\n  height: 40px;\n  padding-right: 10px;\n  padding-left: 40px;\n  position: relative;\n  z-index: 3; // higher than StyledBackgroundCover to enable button interactions\n"]);return Header_StyledComponents_templateObject2=function _templateObject2(){return data},data}function Header_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  position: absolute;\n  z-index: 2; // higher than StyledTether to prevent cover on scroll\n  height: 40px;\n  width: 100%;\n  background-color: ",";\n"]);return Header_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledBackgroundCover=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject(),resolveThemePath.a.color("paper")),StyledHeader=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject2()),StyledConfig=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject3()),StyledBackgroundLogo=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject4(),(function(_ref){var runEnv=_ref.runEnv,theme=_ref.theme;return"PRODUCTION"===runEnv?theme.colors.primary:theme.colors.secondary}),tocco_circle_default.a),StyledPopper=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject5()),StyledNotificationBellWrapper=styled_components_browser_esm.default.span(Header_StyledComponents_templateObject6()),StyledComponents_StyledBall=Object(styled_components_browser_esm.default)(Ball.a)(Header_StyledComponents_templateObject7(),modularScale.a.space(-.5)),StyledRedDot=styled_components_browser_esm.default.span(Header_StyledComponents_templateObject8(),resolveThemePath.a.color("secondaryLight")),NotificationCenterRedDot_NotificationCenterRedDot=function NotificationCenterRedDot(_ref){var unreadNotificationKeys=_ref.unreadNotificationKeys,onClick=_ref.onClick,innerRef=_ref.innerRef;return unreadNotificationKeys.length>0&&Object(jsx_runtime.jsx)(StyledRedDot,{onClick:onClick,ref:innerRef})};NotificationCenterRedDot_NotificationCenterRedDot.__docgenInfo={description:"",methods:[],displayName:"NotificationCenterRedDot",props:{unreadNotificationKeys:{type:{name:"arrayOf",value:{name:"string"}},required:!1,description:""},onClick:{type:{name:"func"},required:!0,description:""},innerRef:{type:{name:"shape",value:{current:{name:"any",required:!1}}},required:!1,description:""}}};var Header_NotificationCenterRedDot=NotificationCenterRedDot_NotificationCenterRedDot;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Header/NotificationCenterRedDot.js"]={name:"NotificationCenterRedDot",docgenInfo:NotificationCenterRedDot_NotificationCenterRedDot.__docgenInfo,path:"packages/admin/src/components/Header/NotificationCenterRedDot.js"});var NotificationCenterRedDotContainer=Object(es.connect)((function mapStateToProps(state){return{unreadNotificationKeys:state.notification.center.unreadNotificationKeys}}),null)(Object(injectIntl.c)(Header_NotificationCenterRedDot)),popperModifiers=[{name:"offset",options:{offset:[0,3]}},{name:"preventOverflow",options:{padding:35}}],NotificationCenterButton_NotificationCenterButton=function NotificationCenterButton(){var _useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),visible=_useState2[0],setVisibility=_useState2[1],referenceElement=Object(react.useRef)(null),popperElement=Object(react.useRef)(null),redDotElement=Object(react.useRef)(null),handleMouseDown=function handleMouseDown(e){popperElement.current&&!popperElement.current.contains(e.target)&&referenceElement.current&&!referenceElement.current.contains(e.target)&&redDotElement.current&&!redDotElement.current.contains(e.target)&&setVisibility(!1)};Object(react.useEffect)((function(){return document.addEventListener("mousedown",handleMouseDown),function(){document.removeEventListener("mousedown",handleMouseDown)}}),[referenceElement,popperElement]);var _usePopper=Object(usePopper.a)(referenceElement.current,popperElement.current,{modifiers:popperModifiers}),styles=_usePopper.styles,attributes=_usePopper.attributes;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(StyledNotificationBellWrapper,{title:"notifications",children:[Object(jsx_runtime.jsx)(StyledComponents_StyledBall,{onClick:function onClick(){return setVisibility(!visible)},icon:"bell",ref:referenceElement}),Object(jsx_runtime.jsx)("span",{ref:redDotElement,children:Object(jsx_runtime.jsx)(NotificationCenterRedDotContainer,{onClick:function onClick(){return setVisibility(!visible)}})})]}),react_dom_default.a.createPortal(Object(jsx_runtime.jsx)(StyledPopper,Object.assign({ref:popperElement,style:styles.popper},attributes.popper,{children:visible&&Object(jsx_runtime.jsx)(notification.a.NotificationCenter,{navigationStrategy:Object(navigationStrategy.b)()})})),document.body)]})};NotificationCenterButton_NotificationCenterButton.__docgenInfo={description:"",methods:[],displayName:"NotificationCenterButton"};var Header_NotificationCenterButton=NotificationCenterButton_NotificationCenterButton;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Header/NotificationCenterButton.js"]={name:"NotificationCenterButton",docgenInfo:NotificationCenterButton_NotificationCenterButton.__docgenInfo,path:"packages/admin/src/components/Header/NotificationCenterButton.js"});var Link=__webpack_require__(2275);function AboutTocco_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  margin-top: ",";\n  width: 80%;\n  height: auto;\n"]);return AboutTocco_StyledComponents_templateObject3=function _templateObject3(){return data},data}function AboutTocco_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  margin-top: ",";\n"]);return AboutTocco_StyledComponents_templateObject2=function _templateObject2(){return data},data}function AboutTocco_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  font-size: ",";\n  margin-top: ",";\n"]);return AboutTocco_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledFormattedMessageWrapper=styled_components_browser_esm.default.div(AboutTocco_StyledComponents_templateObject(),modularScale.a.font(-1.5),modularScale.a.space(.5)),StyledBlockWrapper=styled_components_browser_esm.default.div(AboutTocco_StyledComponents_templateObject2(),modularScale.a.space(.5)),StyledComponents_StyledLogo=styled_components_browser_esm.default.img(AboutTocco_StyledComponents_templateObject3(),modularScale.a.space(1)),AboutTocco_ref2=Object(jsx_runtime.jsx)(StyledComponents_StyledLogo,{src:tocco_red_default.a,height:"53.34",width:"580",alt:"tocco-logo"}),AboutTocco_ref3=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.tocco.homepage"}),AboutTocco_ref4=Object(jsx_runtime.jsx)("br",{}),AboutTocco_ref5=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.tocco.email"}),AboutTocco_ref6=Object(jsx_runtime.jsx)("br",{}),AboutTocco_ref7=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.tocco.phone"}),AboutTocco_ref8=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.about.versionLabel"}),AboutTocco_ref9=Object(jsx_runtime.jsx)("br",{}),AboutTocco_ref10=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.about.revisionLabel"}),AboutTocco_ref11=Object(jsx_runtime.jsx)(StyledFormattedMessageWrapper,{children:Object(jsx_runtime.jsx)(message.a,{id:"client.admin.copyright"})}),AboutTocco_AboutTocco=function AboutTocco(_ref){var niceVersion=_ref.niceVersion,niceRevision=_ref.niceRevision,intl=_ref.intl,msg=function msg(id){return intl.formatMessage({id:id})};return Object(jsx_runtime.jsxs)(Typography.a.Span,{children:[AboutTocco_ref2,Object(jsx_runtime.jsx)("div",{dangerouslySetInnerHTML:{__html:msg("client.admin.tocco.address")}}),Object(jsx_runtime.jsxs)(Typography.a.P,{children:[Object(jsx_runtime.jsx)(Link.a,{href:msg("client.admin.tocco.homepage"),neutral:!0,target:"_blank",children:AboutTocco_ref3}),AboutTocco_ref4,Object(jsx_runtime.jsx)(Link.a,{href:"mailto:"+msg("client.admin.tocco.email"),neutral:!0,target:"_blank",children:AboutTocco_ref5}),AboutTocco_ref6,Object(jsx_runtime.jsx)(Link.a,{href:"tel:"+msg("client.admin.tocco.phone"),neutral:!0,target:"_blank",children:AboutTocco_ref7})]}),Object(jsx_runtime.jsx)(StyledBlockWrapper,{children:Object(jsx_runtime.jsxs)(Typography.a.P,{children:[AboutTocco_ref8,":  ",niceVersion,AboutTocco_ref9,AboutTocco_ref10,":  ",niceRevision]})}),AboutTocco_ref11]})};AboutTocco_AboutTocco.displayName="AboutTocco",AboutTocco_AboutTocco.__docgenInfo={description:"",methods:[],displayName:"AboutTocco",props:{intl:{type:{name:"object"},required:!1,description:""},niceVersion:{type:{name:"string"},required:!1,description:""},niceRevision:{type:{name:"string"},required:!1,description:""}}};var components_AboutTocco_AboutTocco=AboutTocco_AboutTocco;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/AboutTocco/AboutTocco.js"]={name:"AboutTocco",docgenInfo:AboutTocco_AboutTocco.__docgenInfo,path:"packages/admin/src/components/AboutTocco/AboutTocco.js"});var AboutToccoContainer=Object(es.connect)((function mapStateToProps(state){return{niceVersion:state.preferences.serverSettings.niceVersion,niceRevision:state.preferences.serverSettings.niceRevision}}),null)(Object(injectIntl.c)(components_AboutTocco_AboutTocco));function Header_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  margin-top: 2px;\n\n  "," {\n    font-size: ",";\n  }\n"]);return Header_templateObject=function _templateObject(){return data},data}var StyledBallMenuWrapper=styled_components_browser_esm.default.span(Header_templateObject(),StyledBall.a,modularScale.a.font(1)),Header_ref2=Object(jsx_runtime.jsx)(StyledBackgroundCover,{}),Header_ref3=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.passwordUpdate"}),Header_ref4=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.twoFactorConnector"}),Header_ref5=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.logout"}),Header_ref6=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.doc"}),Header_ref7=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.restDoc"}),Header_ref8=Object(jsx_runtime.jsx)(AboutToccoContainer,{}),Header_ref9=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.aboutToccoTitle"}),Header_ref10=Object(jsx_runtime.jsx)(Header_NotificationCenterButton,{}),Header_Header=function Header(_ref){var username=_ref.username,currentBusinessUnit=_ref.currentBusinessUnit,businessUnits=_ref.businessUnits,loadBusinessUnits=_ref.loadBusinessUnits,changeBusinessUnit=_ref.changeBusinessUnit,doLogout=_ref.doLogout,runEnv=_ref.runEnv,niceVersion=_ref.niceVersion,openModalComponent=_ref.openModalComponent,removeModalComponent=_ref.removeModalComponent,info=_ref.info,intl=_ref.intl;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(StyledBackgroundLogo,{runEnv:runEnv}),Header_ref2,Object(jsx_runtime.jsx)(StyledHeader,{children:Object(jsx_runtime.jsxs)(StyledConfig,{children:[Object(jsx_runtime.jsx)(ButtonMenu.a,{label:currentBusinessUnit.label,onOpen:function handleBusinessUnitOpen(){0===businessUnits.length&&loadBusinessUnits()},children:businessUnits.map((function(bU){return Object(jsx_runtime.jsx)(Menu_MenuItem.a,{disabled:bU.id===currentBusinessUnit.id,onClick:function onClick(){changeBusinessUnit(bU.id)},children:bU.label},"buMenu-".concat(bU.id))}))}),Object(jsx_runtime.jsxs)(ButtonMenu.a,{label:username,children:[Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:function openPasswordUpdate(){openModalComponent("passwordUpdateModal","client.login.passwordUpdate.title",null,(function(){return Object(jsx_runtime.jsx)(main.a,{username:username,success:function success(){removeModalComponent("passwordUpdateModal"),info("success","client.login.passwordUpdate.success")}})}),!0)},children:Header_ref3}),Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:function openTwoFactorConnector(){openModalComponent("passwordUpdateModal","client.actions.two-factor-connector.title",null,(function(){return Object(jsx_runtime.jsx)(two_factor_connector_src_main.a,{onSuccess:function onSuccess(){removeModalComponent("passwordUpdateModal")}})}),!0)},children:Header_ref4}),Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:doLogout,children:Header_ref5})]}),Object(jsx_runtime.jsxs)(StyledBallMenuWrapper,{children:[Object(jsx_runtime.jsxs)(BallMenu.a,{buttonProps:{icon:"question-circle",title:function msg(id){return intl.formatMessage({id:id})}("client.admin.header.help")},children:[niceVersion&&Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:function onClick(){window.open("https://".concat(niceVersion.replace(".",""),".docs.tocco.ch/de/"),"_blank")},children:Header_ref6}),Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:function onClick(){window.open("/nice2/swagger","_blank")},children:Header_ref7}),Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:function onClick(){openModalComponent("about",null,null,(function(){return Header_ref8}),!0)},children:Header_ref9})]}),Header_ref10]})]})})]})};Header_Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{username:{type:{name:"string"},required:!1,description:""},currentBusinessUnit:{type:{name:"custom",raw:"bUPropType"},required:!1,description:""},businessUnits:{type:{name:"arrayOf",value:{name:"custom",raw:"bUPropType"}},required:!1,description:""},doLogout:{type:{name:"func"},required:!0,description:""},changeBusinessUnit:{type:{name:"func"},required:!0,description:""},loadBusinessUnits:{type:{name:"func"},required:!0,description:""},runEnv:{type:{name:"string"},required:!1,description:""},niceVersion:{type:{name:"string"},required:!1,description:""},openModalComponent:{type:{name:"func"},required:!0,description:""},removeModalComponent:{type:{name:"func"},required:!0,description:""},info:{type:{name:"func"},required:!0,description:""},intl:{type:{name:"object"},required:!0,description:""}}};var components_Header_Header=Header_Header;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Header/Header.js"]={name:"Header",docgenInfo:Header_Header.__docgenInfo,path:"packages/admin/src/components/Header/Header.js"});var HeaderContainer_mapActionCreators={doLogout:actions.m,loadBusinessUnits:actions.n,changeBusinessUnit:actions.k,openModalComponent:notification.a.modal,removeModalComponent:notification.a.removeModal,info:notification.a.toaster},HeaderContainer=Object(es.connect)((function mapStateToProps(state,props){return{username:state.session.username,currentBusinessUnit:state.session.currentBusinessUnit,businessUnits:state.session.businessUnits,runEnv:state.preferences.serverSettings.runEnv,niceVersion:state.preferences.serverSettings.niceVersion}}),HeaderContainer_mapActionCreators)(Object(injectIntl.c)(components_Header_Header)),slide=__webpack_require__(5136),slide_default=__webpack_require__.n(slide);function Admin_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  grid-area: menu;\n"]);return Admin_StyledComponents_templateObject3=function _templateObject3(){return data},data}function Admin_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  grid-area: content;\n  background-color: ",";\n  overflow: hidden;\n  display: flex;\n"]);return Admin_StyledComponents_templateObject2=function _templateObject2(){return data},data}function Admin_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: grid;\n  grid-template:\n    'header header' auto\n    'menu content' 1fr / auto 1fr;\n  background-color: ",";\n  height: calc(var(--vh, 1vh) * 100);\n\n  .bm-burger-button button:focus {\n    outline: 0;\n  }\n"]);return Admin_StyledComponents_templateObject=function _templateObject(){return data},data}var calcViewportHeight=function calcViewportHeight(){var vh=.01*document.documentElement.clientHeight;document.documentElement.style.setProperty("--vh","".concat(vh,"px"))};calcViewportHeight(),window.addEventListener("resize",(function(){return calcViewportHeight()})),window.addEventListener("orientationchange",(function(){return calcViewportHeight()}));var StyledWrapper=styled_components_browser_esm.default.div(Admin_StyledComponents_templateObject(),resolveThemePath.a.color("paper")),StyledContent=styled_components_browser_esm.default.div(Admin_StyledComponents_templateObject2(),resolveThemePath.a.color("backgroundBody")),StyledMenu=Object(styled_components_browser_esm.default)(slide_default.a)(Admin_StyledComponents_templateObject3()),burgerMenuStyles={bmBurgerButton:{position:"absolute",outline:"0",width:"24px",height:"24px",left:"17px",top:"10px",zIndex:3},bmBurgerBarsHover:{background:"#a90000"},bmMenuWrap:{position:"fixed",height:"100%",width:"16%",minWidth:"350px"},bmMenu:{background:"#fff",padding:"0 0 3rem 0",fontSize:"1.15em",overflow:"hidden"},bmMorphShape:{fill:"#373a47"},bmItemList:{color:"#b8b7ad",height:"100%"},bmItem:{display:"inline-block"},bmOverlay:{background:"rgba(0, 0, 0, 0.3)"}},Admin_ref2=Object(jsx_runtime.jsx)(message.a,{id:"client.common.ok"}),Admin_ref3=Object(jsx_runtime.jsx)(message.a,{id:"client.common.cancel"}),Admin_ref4=Object(jsx_runtime.jsx)(HeaderContainer,{}),Admin_ref6=Object(jsx_runtime.jsx)(react_router.c,{exact:!0,path:"/dashboard",component:components_Dashboard}),Admin_ref7=Object(jsx_runtime.jsx)(react_router.c,{path:"/e",component:routes_entities}),Admin_ref8=Object(jsx_runtime.jsx)(react_router.c,{path:"/s",component:components_Settings}),Admin_ref9=Object(jsx_runtime.jsx)(react_router.c,{path:"/docs",component:docs}),Admin_Admin=function Admin(_ref){var initializeNavigation=_ref.initializeNavigation,setMenuOpen=_ref.setMenuOpen,menuOpen=_ref.menuOpen,baseRoute=_ref.baseRoute,confirm=_ref.confirm,loadPrincipal=_ref.loadPrincipal,loadSettingsAndPreferences=_ref.loadSettingsAndPreferences,theme=_ref.theme,_useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),history=_useState2[0],setHistory=_useState2[1];Object(react.useEffect)((function(){initializeHistory(),initializeNavigation(),loadPrincipal(),loadSettingsAndPreferences()}),[]);var initializeHistory=function initializeHistory(){var browserHistory=Object(history_es.a)(Object.assign({},baseRoute&&{basename:baseRoute},{getUserConfirmation:function getUserConfirmation(message,confirmCallback){confirm("",message,Admin_ref2,Admin_ref3,(function(){return confirmCallback(!0)}),(function(){return confirmCallback(!1)}))}}));setHistory(browserHistory)};return Object(jsx_runtime.jsx)(LoadMask.a,{required:[null!==history],children:Object(jsx_runtime.jsxs)(react_router.d,{history:history||{},children:[Object(jsx_runtime.jsx)(notification.a.Notifications,{navigationStrategy:Object(navigationStrategy.b)()}),Object(jsx_runtime.jsxs)(StyledWrapper,{id:"outer-container",children:[Admin_ref4,Object(jsx_runtime.jsx)(StyledMenu,{isOpen:menuOpen,onStateChange:function isMenuOpen(state){state.isOpen!==menuOpen&&setMenuOpen(state.isOpen)},customCrossIcon:!1,customBurgerIcon:Object(jsx_runtime.jsx)(BurgerButton.a,{isOpen:menuOpen,size:"20",color:theme.colors.paper}),styles:burgerMenuStyles,pageWrapId:"page-wrap",outerContainerId:"outer-container",children:Object(jsx_runtime.jsx)(components_Navigation,{onClick:function onClick(){setMenuOpen(!1),viewPersistor.a.clearPersistedViews()}})}),Object(jsx_runtime.jsx)(StyledContent,{id:"page-wrap",children:Object(jsx_runtime.jsxs)(react_router.e,{children:[Object(jsx_runtime.jsx)(react_router.c,{exact:!0,path:"/",render:function render(_ref5){var match=_ref5.match;return Object(jsx_runtime.jsx)(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/dashboard")})}}),Admin_ref6,Admin_ref7,Admin_ref8,Admin_ref9,Object(jsx_runtime.jsx)(react_router.c,{render:function render(_ref10){var match=_ref10.match;return Object(jsx_runtime.jsx)(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/dashboard")})}})]})})]})]})})};Admin_Admin.displayName="Admin",Admin_Admin.__docgenInfo={description:"",methods:[],displayName:"Admin",props:{baseRoute:{type:{name:"string"},required:!1,description:""},loggedIn:{type:{name:"bool"},required:!1,description:""},menuOpen:{type:{name:"bool"},required:!1,description:""},loadPrincipal:{type:{name:"func"},required:!0,description:""},setMenuOpen:{type:{name:"func"},required:!0,description:""},confirm:{type:{name:"func"},required:!0,description:""},initializeNavigation:{type:{name:"func"},required:!0,description:""},loadSettingsAndPreferences:{type:{name:"func"},required:!0,description:""},theme:{type:{name:"object"},required:!0,description:""}}};var components_Admin_Admin=Object(styled_components_browser_esm.withTheme)(Admin_Admin);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Admin/Admin.js"]={name:"Admin",docgenInfo:Admin_Admin.__docgenInfo,path:"packages/admin/src/components/Admin/Admin.js"});var AdminContainer_mapActionCreators={loadPrincipal:actions.o,confirm:notification.a.confirm,initializeNavigation:navigation_actions.j,setMenuOpen:navigation_actions.m,loadSettingsAndPreferences:preferences_actions.e},AdminContainer=Object(es.connect)((function mapStateToProps(state,props){return{baseRoute:state.input.baseRoute,menuOpen:state.navigation.menuOpen}}),AdminContainer_mapActionCreators)(Object(injectIntl.c)(components_Admin_Admin)),LoginGuard_ref2=Object(jsx_runtime.jsx)(Helmet.Helmet,{defer:!1,children:Object(jsx_runtime.jsx)("title",{children:"Tocco"})}),LoginGuard_ref3=Object(jsx_runtime.jsx)(LoginContainer,{}),LoginGuard_ref4=Object(jsx_runtime.jsx)(AdminContainer,{}),LoginGuard_LoginGuard=function LoginGuard(_ref){var doSessionCheck=_ref.doSessionCheck,loggedIn=_ref.loggedIn;return Object(react.useEffect)((function(){doSessionCheck()}),[]),Object(jsx_runtime.jsxs)("div",{children:[LoginGuard_ref2,Object(jsx_runtime.jsx)(LoadMask.a,{required:[void 0!==loggedIn],loadingText:"Logging in...",children:Object(jsx_runtime.jsx)("div",{children:loggedIn?LoginGuard_ref4:LoginGuard_ref3})})]})};LoginGuard_LoginGuard.displayName="LoginGuard",LoginGuard_LoginGuard.__docgenInfo={description:"",methods:[],displayName:"LoginGuard",props:{loggedIn:{type:{name:"bool"},required:!1,description:""},doSessionCheck:{type:{name:"func"},required:!0,description:""}}};var components_LoginGuard_LoginGuard=LoginGuard_LoginGuard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/LoginGuard/LoginGuard.js"]={name:"LoginGuard",docgenInfo:LoginGuard_LoginGuard.__docgenInfo,path:"packages/admin/src/components/LoginGuard/LoginGuard.js"});var LoginGuardContainer_mapActionCreators={doSessionCheck:login.a.doSessionCheck,confirm:notification.a.confirm},LoginGuardContainer=Object(es.connect)((function mapStateToProps(state,props){return{loggedIn:state.login.loggedIn}}),LoginGuardContainer_mapActionCreators)(Object(injectIntl.c)(components_LoginGuard_LoginGuard))},5186:function(module,__webpack_exports__,__webpack_require__){"use strict";var taggedTemplateLiteral=__webpack_require__(9),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),react_router_dom=__webpack_require__(4983),styled_components_browser_esm=__webpack_require__(5),declareFont=__webpack_require__(79),resolveThemePath=__webpack_require__(35);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  ","\n  color: ",";\n\n  * {\n    color: ",";\n    text-decoration: ",";\n  }\n\n  &:hover,\n  &:hover *,\n  &:focus,\n  &:focus * {\n    text-decoration: ",";\n  }\n\n  &:active,\n  &:active * {\n    text-decoration: ",";\n  }\n"]);return _templateObject=function _templateObject(){return data},data}var linkStyle=Object(styled_components_browser_esm.css)(_templateObject(),Object(declareFont.a)(),resolveThemePath.a.color("text"),resolveThemePath.a.color("text"),(function(_ref){return _ref.neutral?"none":"underline"}),(function(_ref2){return _ref2.neutral?"none":"underline"}),(function(_ref3){return _ref3.neutral?"none":"underline"}));function StyledLink_templateObject(){var data=taggedTemplateLiteral_default()(["\n  ","\n"]);return StyledLink_templateObject=function _templateObject(){return data},data}__webpack_exports__.a=Object(styled_components_browser_esm.default)(react_router_dom.a)(StyledLink_templateObject(),linkStyle)}}]);