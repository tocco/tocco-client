(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{2300:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return goBack}));__webpack_require__(1037),__webpack_require__(66),__webpack_require__(130);var goBack=function(url){for(var amount=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,normalizedUrl=url.replace(/\/$/,""),i=0;i<amount;i++)normalizedUrl=normalizedUrl.substring(0,normalizedUrl.lastIndexOf("/"));return normalizedUrl}},2301:function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(2356),decodeComponent=__webpack_require__(2357),splitOnFirst=__webpack_require__(2358);function encode(value,options){return options.encode?options.strict?strictUriEncode(value):encodeURIComponent(value):value}function decode(value,options){return options.decode?decodeComponent(value):value}function removeHash(input){const hashStart=input.indexOf("#");return-1!==hashStart&&(input=input.slice(0,hashStart)),input}function extract(input){const queryStart=(input=removeHash(input)).indexOf("?");return-1===queryStart?"":input.slice(queryStart+1)}function parseValue(value,options){return options.parseNumbers&&!Number.isNaN(Number(value))&&"string"==typeof value&&""!==value.trim()?value=Number(value):!options.parseBooleans||null===value||"true"!==value.toLowerCase()&&"false"!==value.toLowerCase()||(value="true"===value.toLowerCase()),value}function parse(input,options){const formatter=function parserForArrayFormat(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key),key=key.replace(/\[\d*\]$/,""),result?(void 0===accumulator[key]&&(accumulator[key]={}),accumulator[key][result[1]]=value):accumulator[key]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key),key=key.replace(/\[\]$/,""),result?void 0!==accumulator[key]?accumulator[key]=[].concat(accumulator[key],value):accumulator[key]=[value]:accumulator[key]=value};case"comma":return(key,value,accumulator)=>{const newValue="string"==typeof value&&value.split("").indexOf(",")>-1?value.split(","):value;accumulator[key]=newValue};default:return(key,value,accumulator)=>{void 0!==accumulator[key]?accumulator[key]=[].concat(accumulator[key],value):accumulator[key]=value}}}(options=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},options)),ret=Object.create(null);if("string"!=typeof input)return ret;if(!(input=input.trim().replace(/^[?#&]/,"")))return ret;for(const param of input.split("&")){let[key,value]=splitOnFirst(param.replace(/\+/g," "),"=");value=void 0===value?null:decode(value,options),formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if("object"==typeof value&&null!==value)for(const k of Object.keys(value))value[k]=parseValue(value[k],options);else ret[key]=parseValue(value,options)}return!1===options.sort?ret:(!0===options.sort?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];return Boolean(value)&&"object"==typeof value&&!Array.isArray(value)?result[key]=function keysSorter(input){return Array.isArray(input)?input.sort():"object"==typeof input?keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key]):input}(value):result[key]=value,result},Object.create(null))}exports.extract=extract,exports.parse=parse,exports.stringify=(object,options)=>{if(!object)return"";const formatter=function encoderForArrayFormat(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;return void 0===value?result:null===value?[...result,[encode(key,options),"[",index,"]"].join("")]:[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>void 0===value?result:null===value?[...result,[encode(key,options),"[]"].join("")]:[...result,[encode(key,options),"[]=",encode(value,options)].join("")];case"comma":return key=>(result,value,index)=>null==value||0===value.length?result:0===index?[[encode(key,options),"=",encode(value,options)].join("")]:[[result,encode(value,options)].join(",")];default:return key=>(result,value)=>void 0===value?result:null===value?[...result,encode(key,options)]:[...result,[encode(key,options),"=",encode(value,options)].join("")]}}(options=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},options)),keys=Object.keys(object);return!1!==options.sort&&keys.sort(options.sort),keys.map(key=>{const value=object[key];return void 0===value?"":null===value?encode(key,options):Array.isArray(value)?value.reduce(formatter(key),[]).join("&"):encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")},exports.parseUrl=(input,options)=>({url:removeHash(input).split("?")[0]||"",query:parse(extract(input),options)})},2355:function(module,exports){module.exports=pathToRegexp,module.exports.parse=parse,module.exports.compile=function compile(str,options){return tokensToFunction(parse(str,options))},module.exports.tokensToFunction=tokensToFunction,module.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function parse(str,options){for(var res,tokens=[],key=0,index=0,path="",defaultDelimiter=options&&options.delimiter||"/",whitelist=options&&options.whitelist||void 0,pathEscaped=!1;null!==(res=PATH_REGEXP.exec(str));){var m=res[0],escaped=res[1],offset=res.index;if(path+=str.slice(index,offset),index=offset+m.length,escaped)path+=escaped[1],pathEscaped=!0;else{var prev="",name=res[2],capture=res[3],group=res[4],modifier=res[5];if(!pathEscaped&&path.length){var k=path.length-1,c=path[k];(!whitelist||whitelist.indexOf(c)>-1)&&(prev=c,path=path.slice(0,k))}path&&(tokens.push(path),path="",pathEscaped=!1);var repeat="+"===modifier||"*"===modifier,optional="?"===modifier||"*"===modifier,pattern=capture||group,delimiter=prev||defaultDelimiter;tokens.push({name:name||key++,prefix:prev,delimiter:delimiter,optional:optional,repeat:repeat,pattern:pattern?escapeGroup(pattern):"[^"+escapeString(delimiter===defaultDelimiter?delimiter:delimiter+defaultDelimiter)+"]+?"})}}return(path||index<str.length)&&tokens.push(path+str.substr(index)),tokens}function tokensToFunction(tokens){for(var matches=new Array(tokens.length),i=0;i<tokens.length;i++)"object"==typeof tokens[i]&&(matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$"));return function(data,options){for(var path="",encode=options&&options.encode||encodeURIComponent,i=0;i<tokens.length;i++){var token=tokens[i];if("string"!=typeof token){var segment,value=data?data[token.name]:void 0;if(Array.isArray(value)){if(!token.repeat)throw new TypeError('Expected "'+token.name+'" to not repeat, but got array');if(0===value.length){if(token.optional)continue;throw new TypeError('Expected "'+token.name+'" to not be empty')}for(var j=0;j<value.length;j++){if(segment=encode(value[j],token),!matches[i].test(segment))throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'"');path+=(0===j?token.prefix:token.delimiter)+segment}}else if("string"!=typeof value&&"number"!=typeof value&&"boolean"!=typeof value){if(!token.optional)throw new TypeError('Expected "'+token.name+'" to be '+(token.repeat?"an array":"a string"))}else{if(segment=encode(String(value),token),!matches[i].test(segment))throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but got "'+segment+'"');path+=token.prefix+segment}}else path+=token}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$/()])/g,"\\$1")}function flags(options){return options&&options.sensitive?"":"i"}function tokensToRegExp(tokens,keys,options){for(var strict=(options=options||{}).strict,start=!1!==options.start,end=!1!==options.end,delimiter=options.delimiter||"/",endsWith=[].concat(options.endsWith||[]).map(escapeString).concat("$").join("|"),route=start?"^":"",i=0;i<tokens.length;i++){var token=tokens[i];if("string"==typeof token)route+=escapeString(token);else{var capture=token.repeat?"(?:"+token.pattern+")(?:"+escapeString(token.delimiter)+"(?:"+token.pattern+"))*":token.pattern;keys&&keys.push(token),token.optional?token.prefix?route+="(?:"+escapeString(token.prefix)+"("+capture+"))?":route+="("+capture+")?":route+=escapeString(token.prefix)+"("+capture+")"}}if(end)strict||(route+="(?:"+escapeString(delimiter)+")?"),route+="$"===endsWith?"$":"(?="+endsWith+")";else{var endToken=tokens[tokens.length-1],isEndDelimited="string"==typeof endToken?endToken[endToken.length-1]===delimiter:void 0===endToken;strict||(route+="(?:"+escapeString(delimiter)+"(?="+endsWith+"))?"),isEndDelimited||(route+="(?="+escapeString(delimiter)+"|"+endsWith+")")}return new RegExp(route,flags(options))}function pathToRegexp(path,keys,options){return path instanceof RegExp?function regexpToRegexp(path,keys){if(!keys)return path;var groups=path.source.match(/\((?!\?)/g);if(groups)for(var i=0;i<groups.length;i++)keys.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return path}(path,keys):Array.isArray(path)?function arrayToRegexp(path,keys,options){for(var parts=[],i=0;i<path.length;i++)parts.push(pathToRegexp(path[i],keys,options).source);return new RegExp("(?:"+parts.join("|")+")",flags(options))}(path,keys,options):function stringToRegexp(path,keys,options){return tokensToRegExp(parse(path,options),keys,options)}(path,keys,options)}},2356:function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`)},2357:function(module,exports,__webpack_require__){"use strict";var singleMatcher=new RegExp("%[a-f0-9]{2}","gi"),multiMatcher=new RegExp("(%[a-f0-9]{2})+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(1===components.length)return components;split=split||1;var left=components.slice(0,split),right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){for(var tokens=input.match(singleMatcher),i=1;i<tokens.length;i++)tokens=(input=decodeComponents(tokens,i).join("")).match(singleMatcher);return input}}module.exports=function(encodedURI){if("string"!=typeof encodedURI)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`");try{return encodedURI=encodedURI.replace(/\+/g," "),decodeURIComponent(encodedURI)}catch(err){return function customDecodeURIComponent(input){for(var replaceMap={"%FE%FF":"��","%FF%FE":"��"},match=multiMatcher.exec(input);match;){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);result!==match[0]&&(replaceMap[match[0]]=result)}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";for(var entries=Object.keys(replaceMap),i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}(encodedURI)}}},2358:function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if("string"!=typeof string||"string"!=typeof separator)throw new TypeError("Expected the arguments to be of type `string`");if(""===separator)return[string];const separatorIndex=string.indexOf(separator);return-1===separatorIndex?[string]:[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},2370:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var redux=__webpack_require__(96),toConsumableArray=(__webpack_require__(24),__webpack_require__(21),__webpack_require__(115),__webpack_require__(30),__webpack_require__(127),__webpack_require__(201),__webpack_require__(76),__webpack_require__(17),__webpack_require__(66),__webpack_require__(126),__webpack_require__(22),__webpack_require__(33)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),regenerator=__webpack_require__(2),regenerator_default=__webpack_require__.n(regenerator),path_to_regexp=(__webpack_require__(56),__webpack_require__(2355)),path_to_regexp_default=__webpack_require__.n(path_to_regexp),rest=__webpack_require__(40),viewPersistor=__webpack_require__(357),get=__webpack_require__(28),get_default=__webpack_require__.n(get),pickBy=__webpack_require__(596),pickBy_default=__webpack_require__.n(pickBy),pick=__webpack_require__(104),pick_default=__webpack_require__.n(pick),redux_saga_effects_npm_proxy_esm=__webpack_require__(1),cacheModel=function(entity,model){return{type:"path/CACHE_MODEL",payload:{entity:entity,model:model}}},setCurrentViewInfo=function(location,currentViewInfo){return{type:"path/SET_CURRENT_VIEW_INFO",payload:{location:location,currentViewInfo:currentViewInfo}}},setRelations=function(relations){return{type:"path/SET_RELATIONS",payload:{relations:relations}}},cacheDisplay=function(entity,key,display){return{type:"path/CACHE_DISPLAY",payload:{entity:entity,key:key,display:display}}},_marked=regenerator_default.a.mark(getModel),_marked2=regenerator_default.a.mark(extractMultiRelations),_marked3=regenerator_default.a.mark(getDisplay),_marked5=regenerator_default.a.mark(addEntityToBreadcrumbs),_marked6=regenerator_default.a.mark(loadRelationCounts),_marked7=regenerator_default.a.mark(addRecordToBreadcrumbs),_marked8=regenerator_default.a.mark(sagas_loadCurrentViewInfo),_marked9=regenerator_default.a.mark(handleActionRoute),_marked10=regenerator_default.a.mark(mainSagas),modelSelector=function(state,entity){return get_default()(state,"entities.path.modelCache.".concat(entity),null)},displaySelector=function(state,entity,key){return get_default()(state,"entities.path.displayCache.".concat(entity,".").concat(key),null)},currentViewInfosSelector=function(state){return state.entities.path.currentViewInfos};function getModel(entity){var cachedModel,entityModel;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.f)(modelSelector,entity);case 2:if(!(cachedModel=_context.sent)){_context.next=5;break}return _context.abrupt("return",cachedModel);case 5:return _context.next=7,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.fetchModel,entity);case 7:return entityModel=_context.sent,_context.next=10,Object(redux_saga_effects_npm_proxy_esm.e)(cacheModel(entity,entityModel));case 10:return _context.abrupt("return",entityModel);case 11:case"end":return _context.stop()}}),_marked)}function extractMultiRelations(model,key){var relations,relationsTransformed;return regenerator_default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null===key){_context2.next=7;break}return relations=pickBy_default()(model.paths,(function(value){return value.relationDisplay&&value.relationDisplay.show})),relationsTransformed=Object.keys(relations).map((function(k){return pick_default()(relations[k],["relationName","reverseRelationName","targetEntity","relationDisplay.label","relationDisplay.order"])})).sort((function(a,b){return a.relationDisplay.order>b.relationDisplay.order?1:-1})),_context2.next=5,Object(redux_saga_effects_npm_proxy_esm.e)(setRelations(relationsTransformed));case 5:return _context2.next=7,Object(redux_saga_effects_npm_proxy_esm.g)(loadRelationCounts,model.name,key);case 7:case"end":return _context2.stop()}}),_marked2)}function getDisplay(entityName,key){var display;return regenerator_default.a.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(redux_saga_effects_npm_proxy_esm.f)(displaySelector,entityName,key);case 2:if(display=_context3.sent){_context3.next=9;break}return _context3.next=6,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.fetchDisplay,entityName,key);case 6:return display=_context3.sent,_context3.next=9,Object(redux_saga_effects_npm_proxy_esm.e)(cacheDisplay(entityName,key,display));case 9:return _context3.abrupt("return",display);case 10:case"end":return _context3.stop()}}),_marked3)}function addEntityToBreadcrumbs(path,entityName,breadcrumbs){var display;return regenerator_default.a.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:"list",display=entityName,breadcrumbs.push({display:display,path:path,type:"list"});case 3:case"end":return _context5.stop()}}),_marked5)}function loadRelationCounts(model,key){var resource,relationCountRepsonse;return regenerator_default.a.wrap((function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return resource="/client/entities/".concat(model,"/").concat(key,"/relation-count"),_context6.next=3,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.requestSaga,resource);case 3:return relationCountRepsonse=_context6.sent,_context6.next=6,Object(redux_saga_effects_npm_proxy_esm.e)({type:"path/SET_RELATION_COUNT",payload:{relationsCount:relationCountRepsonse.body.relationCounts}});case 6:case"end":return _context6.stop()}}),_marked6)}function addRecordToBreadcrumbs(path,entityName,key,breadcrumbs){var type,display;return regenerator_default.a.wrap((function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return type="record",_context7.next=3,Object(redux_saga_effects_npm_proxy_esm.b)(getDisplay,entityName,key,breadcrumbs.length);case 3:display=_context7.sent,breadcrumbs.push({display:display,path:path,type:type});case 5:case"end":return _context7.stop()}}),_marked7)}function sagas_loadCurrentViewInfo(_ref){var location,pathname,currentViewInfo,breadcrumbs,pathParts,re,res,path,baseEntityModel,splittedRelation,i,relationStringPart,breadcrumbPath,relationName,targetEntity,key;return regenerator_default.a.wrap((function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(location=_ref.payload.location,pathname=location.pathname,currentViewInfo={model:null,key:null,reverseRelation:null,parentModel:null,pathname:pathname,level:0},breadcrumbs=[],pathParts=[],"/e/:entity/:key?/:relation*/:view(list|detail|edit|create|relations|action)/:actionId?",re=path_to_regexp_default()("/e/:entity/:key?/:relation*/:view(list|detail|edit|create|relations|action)/:actionId?",pathParts),null===(res=re.exec(pathname))){_context8.next=65;break}if(path={},pathParts.forEach((function(key,idx){path[key.name]=res[idx+1]})),!path.entity){_context8.next=63;break}return _context8.next=14,Object(redux_saga_effects_npm_proxy_esm.b)(getModel,path.entity);case 14:return baseEntityModel=_context8.sent,_context8.next=17,Object(redux_saga_effects_npm_proxy_esm.b)(addEntityToBreadcrumbs,path.entity,baseEntityModel.label,breadcrumbs);case 17:if(currentViewInfo.model=baseEntityModel,currentViewInfo.level=0,!path.key){_context8.next=52;break}return currentViewInfo.key=path.key,currentViewInfo.level=1,_context8.next=24,Object(redux_saga_effects_npm_proxy_esm.b)(addRecordToBreadcrumbs,path.entity+"/"+path.key,path.entity,path.key,breadcrumbs);case 24:if(!path.relation){_context8.next=52;break}splittedRelation=path.relation.split("/"),i=0;case 27:if(!(i<splittedRelation.length)){_context8.next=52;break}if(relationStringPart=splittedRelation[i],breadcrumbPath=[path.entity,path.key].concat(toConsumableArray_default()(path.relation.split("/").slice(0,i+1))).join("/"),currentViewInfo.level=i+2,0!=i%2){_context8.next=45;break}return relationName=relationStringPart,targetEntity=currentViewInfo.model.paths[relationName].targetEntity,currentViewInfo.parentKey=currentViewInfo.key,currentViewInfo.key=null,currentViewInfo.reverseRelation=currentViewInfo.model.paths[relationName].reverseRelationName,currentViewInfo.parentModel=currentViewInfo.model,_context8.next=40,Object(redux_saga_effects_npm_proxy_esm.b)(getModel,targetEntity);case 40:return currentViewInfo.model=_context8.sent,_context8.next=43,Object(redux_saga_effects_npm_proxy_esm.b)(addEntityToBreadcrumbs,breadcrumbPath,currentViewInfo.model.label,breadcrumbs);case 43:_context8.next=49;break;case 45:return key=relationStringPart,currentViewInfo.key=key,_context8.next=49,Object(redux_saga_effects_npm_proxy_esm.b)(addRecordToBreadcrumbs,breadcrumbPath,currentViewInfo.model.name,key,breadcrumbs);case 49:i++,_context8.next=27;break;case 52:return path.actionId&&(currentViewInfo.actionId=path.actionId),_context8.next=55,Object(redux_saga_effects_npm_proxy_esm.g)(extractMultiRelations,currentViewInfo.model,currentViewInfo.key);case 55:return _context8.next=57,Object(redux_saga_effects_npm_proxy_esm.f)(currentViewInfosSelector);case 57:if(_context8.sent[pathname]){_context8.next=61;break}return _context8.next=61,Object(redux_saga_effects_npm_proxy_esm.e)(setCurrentViewInfo(pathname,currentViewInfo));case 61:return _context8.next=63,Object(redux_saga_effects_npm_proxy_esm.e)(viewPersistor.a.clearPersistedViews(currentViewInfo.level+1));case 63:_context8.next=67;break;case 65:return _context8.next=67,Object(redux_saga_effects_npm_proxy_esm.b)(handleActionRoute,pathname,pathParts);case 67:return _context8.next=69,Object(redux_saga_effects_npm_proxy_esm.e)({type:"path/SET_BREADCRUMBS_INFO",payload:{breadcrumbsInfo:breadcrumbs}});case 69:case"end":return _context8.stop()}}),_marked8)}function handleActionRoute(pathname,pathParts){var actionPathRegex,result;return regenerator_default.a.wrap((function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return actionPathRegex=path_to_regexp_default()("/e/action/:actionId",pathParts),result=actionPathRegex.exec(pathname),_context9.next=4,Object(redux_saga_effects_npm_proxy_esm.e)(setCurrentViewInfo(pathname,{actionId:result[1],pathname:pathname}));case 4:case"end":return _context9.stop()}}),_marked9)}function mainSagas(){return regenerator_default.a.wrap((function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.j)("path/LOAD_CURRENT_VIEW_INFO",sagas_loadCurrentViewInfo)]);case 2:case"end":return _context10.stop()}}),_marked10)}__webpack_require__(18),__webpack_require__(32),__webpack_require__(31),__webpack_require__(27),__webpack_require__(34),__webpack_require__(35);var _ACTION_HANDLERS,defineProperty=__webpack_require__(4),defineProperty_default=__webpack_require__.n(defineProperty),reducer=__webpack_require__(29);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var ACTION_HANDLERS=(_ACTION_HANDLERS={},defineProperty_default()(_ACTION_HANDLERS,"path/CACHE_MODEL",(function(state,_ref){var _ref$payload=_ref.payload,entity=_ref$payload.entity,model=_ref$payload.model;return _objectSpread({},state,{modelCache:_objectSpread({},state.modelCache,defineProperty_default()({},entity,model))})})),defineProperty_default()(_ACTION_HANDLERS,"path/CACHE_DISPLAY",(function(state,_ref2){var _ref2$payload=_ref2.payload,entity=_ref2$payload.entity,key=_ref2$payload.key,display=_ref2$payload.display;return _objectSpread({},state,{displayCache:_objectSpread({},state.displayCache,defineProperty_default()({},entity,_objectSpread({},state.displayCache[entity],defineProperty_default()({},key,display))))})})),defineProperty_default()(_ACTION_HANDLERS,"path/SET_CURRENT_VIEW_INFO",(function(state,_ref3){var _ref3$payload=_ref3.payload,location=_ref3$payload.location,currentViewInfo=_ref3$payload.currentViewInfo;return _objectSpread({},state,{currentViewInfos:_objectSpread({},state.currentViewInfos,defineProperty_default()({},location,currentViewInfo))})})),defineProperty_default()(_ACTION_HANDLERS,"path/SET_BREADCRUMBS_INFO",reducer.a.singleTransferReducer("breadcrumbsInfo")),defineProperty_default()(_ACTION_HANDLERS,"path/SET_RELATIONS",reducer.a.singleTransferReducer("relations")),defineProperty_default()(_ACTION_HANDLERS,"path/SET_RELATION_COUNT",reducer.a.singleTransferReducer("relationsCount")),defineProperty_default()(_ACTION_HANDLERS,"path/SET_CURRENT_VIEW_TITLE",reducer.a.singleTransferReducer("currentViewTitle")),_ACTION_HANDLERS),initialState={modelCache:{},displayCache:{},currentViewInfos:{},breadcrumbsInfo:[],relations:null,relationsCount:{}};function reducer_reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:initialState,action=1<arguments.length?arguments[1]:void 0,handler=ACTION_HANDLERS[action.type];return handler?handler(state,action):state}reducer_reducer.__docgenInfo={description:"",methods:[],displayName:"reducer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/modules/path/reducer.js"]={name:"reducer",docgenInfo:reducer_reducer.__docgenInfo,path:"packages/admin/src/routes/entities/modules/path/reducer.js"});var modules_path=reducer_reducer,es=__webpack_require__(39),index_es=__webpack_require__(14),root=__webpack_require__(100),taggedTemplateLiteral=(__webpack_require__(184),__webpack_require__(26)),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_router=__webpack_require__(358),prop_types=__webpack_require__(1035),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__(7),src=__webpack_require__(5),react_router_dom=__webpack_require__(2299);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  ","\n  text-decoration: none;\n  color: ",";\n\n  * {\n    color: ",";\n    text-decoration: none;\n  }\n\n  &:hover,\n  &:hover *,\n  &:focus,\n  &:focus * {\n    color: ",";\n    text-decoration: ",";\n  }\n\n  &:active,\n  &:active * {\n    color: ",";\n    text-decoration: ",";\n  }\n"]);return _templateObject=function(){return data},data}var linkStyle=Object(styled_components_browser_esm.css)(_templateObject(),Object(src.E)(),src.I.color("text"),src.I.color("text"),src.I.color("secondaryLight"),(function(props){return props.neutral?"none":"underline"}),(function(props){return props.neutral?Object(src.H)(get_default()(props.theme,"colors.text"),2):Object(src.H)(get_default()(props.theme,"colors.primary"),2)}),(function(props){return props.neutral?"none":"underline"}));function StyledNavLink_templateObject(){var data=taggedTemplateLiteral_default()(["\n  ",";\n"]);return StyledNavLink_templateObject=function(){return data},data}Object(styled_components_browser_esm.default)(react_router_dom.b)(StyledNavLink_templateObject(),linkStyle);function StyledLink_templateObject(){var data=taggedTemplateLiteral_default()(["\n  ","\n"]);return StyledLink_templateObject=function(){return data},data}var StyledLink=Object(styled_components_browser_esm.default)(react_router_dom.a)(StyledLink_templateObject(),linkStyle),EntitiesOverview_ref=react_default.a.createElement("div",null,react_default.a.createElement(src.C.H2,null,"Entities Overview"),react_default.a.createElement(src.C.Span,null,"List of all available Entities"),react_default.a.createElement("ul",null,react_default.a.createElement("li",null,react_default.a.createElement(StyledLink,{to:"/e/User"},"User")),react_default.a.createElement("li",null,react_default.a.createElement(StyledLink,{to:"/e/Address"},"Address")))),EntitiesOverview=function(){return EntitiesOverview_ref};EntitiesOverview.displayName="EntitiesOverview",EntitiesOverview.__docgenInfo={description:"",methods:[],displayName:"EntitiesOverview"};var EntitiesOverview_EntitiesOverview=EntitiesOverview;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/EntitiesOverview/EntitiesOverview.js"]={name:"EntitiesOverview",docgenInfo:EntitiesOverview.__docgenInfo,path:"packages/admin/src/routes/entities/components/EntitiesOverview/EntitiesOverview.js"});var components_EntitiesOverview=EntitiesOverview_EntitiesOverview,slicedToArray=(__webpack_require__(130),__webpack_require__(146),__webpack_require__(103),__webpack_require__(244),__webpack_require__(95)),slicedToArray_default=__webpack_require__.n(slicedToArray),js=__webpack_require__(168),main=__webpack_require__(591),query_string=__webpack_require__(2301),query_string_default=__webpack_require__.n(query_string);function _templateObject5(){var data=taggedTemplateLiteral_default()(["\n  && {\n    max-width: 110px;\n  }\n"]);return _templateObject5=function(){return data},data}function _templateObject4(){var data=taggedTemplateLiteral_default()(["\n  border-radius: ",";\n  padding: "," ",";\n  display: flex;\n  background-color: ",";\n\n  &&& {\n    * {\n      color: ",";\n      box-sizing: initial;\n    }\n  }\n  ",";\n\n  &:hover "," {\n    display: flex;\n  }\n\n  && {\n    :hover{\n      background-color: ",";\n\n      * {\n        color: ",";\n      }\n      cursor: pointer;\n    }\n  }\n\n  ",":hover * {\n    color: ",";\n  }\n"]);return _templateObject4=function(){return data},data}function _templateObject3(){var data=taggedTemplateLiteral_default()(["\n  display: none;\n  margin-left: auto;\n\n  * {\n    color: ",";\n    padding-left: ",";\n  }\n"]);return _templateObject3=function(){return data},data}function _templateObject2(){var data=taggedTemplateLiteral_default()(["\n  background-color: ",";\n  padding: ",";\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 200px);\n  grid-gap: ",";\n  justify-content: space-between;\n"]);return _templateObject2=function(){return data},data}function StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  background-color: ",";\n  padding: ",";\n  margin-top: ",";\n\n  "," {\n    padding-left: ",";\n\n    &:nth-child(2) {\n      padding-left: ",";\n    }\n  }\n"]);return StyledComponents_templateObject=function(){return data},data}var StyledPreviewBox=styled_components_browser_esm.default.div(StyledComponents_templateObject(),src.I.color("paper"),src.G.space(-1),src.G.space(-1),StyledLink,src.G.space(-.5),src.G.space(-1.1)),StyledRelationBox=styled_components_browser_esm.default.div(_templateObject2(),src.I.color("paper"),src.G.space(-1),src.G.space(-2)),RelationLinks=styled_components_browser_esm.default.div(_templateObject3(),src.I.color("text"),src.G.space(-2)),RelationBox=styled_components_browser_esm.default.div(_templateObject4(),src.I.radii("large"),src.G.space(-2.7),src.G.space(-1),(function(_ref){return _ref.selected&&src.I.color("secondary")}),(function(_ref2){return _ref2.selected&&src.I.color("paper")}),(function(_ref3){return _ref3.selected&&"\n    ".concat(RelationLinks," {\n      display: flex;\n    }\n    ")}),RelationLinks,src.I.color("secondaryLight"),src.I.color("paper"),StyledLink,src.I.color("secondary")),RelationLabel=Object(styled_components_browser_esm.default)(src.B)(_templateObject5()),routing=__webpack_require__(2300),modelPropType=prop_types_default.a.shape({label:prop_types_default.a.string.isRequired,name:prop_types_default.a.string.isRequired,paths:prop_types_default.a.objectOf(prop_types_default.a.shape({type:prop_types_default.a.string.isRequired,fieldName:prop_types_default.a.string,relationName:prop_types_default.a.string}))}),RelationsView_ref2=(prop_types_default.a.shape({pathname:prop_types_default.a.string.isRequired,level:prop_types_default.a.number,key:prop_types_default.a.string,model:modelPropType,parentModel:modelPropType,reverseRelation:prop_types_default.a.string,actionId:prop_types_default.a.string}),react_default.a.createElement(src.h,{icon:"arrow-right"})),RelationsView_ref3=react_default.a.createElement(src.h,{icon:"plus"}),_ref4=react_default.a.createElement(src.h,{icon:"arrow-right"}),_ref5=react_default.a.createElement(src.h,{icon:"plus"}),RelationsView=function(_ref){var history=_ref.history,match=_ref.match,currentViewInfo=_ref.currentViewInfo,relations=_ref.relations,relationsCount=_ref.relationsCount,persistViewInfo=_ref.persistViewInfo,persistedViewInfo=_ref.persistedViewInfo,_useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),selectedRelation=_useState2[0],selectRelation=_useState2[1];Object(react.useEffect)((function(){if(relations&&0<relations.length){var queryRelation=query_string_default.a.parse(history.location.search).relation;queryRelation?selectRelation(relations.find((function(r){return r.relationName===queryRelation}))):persistedViewInfo.selectedRelation?selectRelation(relations.find((function(r){return r.relationName===persistedViewInfo.selectedRelation}))):selectRelation(relations[0])}}),[relations]);return relations&&0!==relations.length&&currentViewInfo?react_default.a.createElement("div",null,react_default.a.createElement(StyledRelationBox,null,relations.map((function(relation){return react_default.a.createElement(RelationBox,{key:"relation-".concat(relation.relationName),selected:selectedRelation&&relation.relationName===selectedRelation.relationName,onClick:function onClick(){selectRelation(relation),history.replace({search:"?relation="+relation.relationName}),persistViewInfo(currentViewInfo.location,currentViewInfo.level,{selectedRelation:relation.relationName})}},react_default.a.createElement(RelationLabel,{title:relation.relationDisplay.label},relation.relationDisplay.label),(relationName=relation.relationName,relationsCount[relationName]?react_default.a.createElement(RelationLabel,null," (",relationsCount[relationName],")"):null),react_default.a.createElement(RelationLinks,null,react_default.a.createElement(StyledLink,{to:match.url.replace(/(relations|detail)$/,relation.relationName)},RelationsView_ref2),react_default.a.createElement(StyledLink,{to:match.url.replace(/(relations|detail)$/,relation.relationName)+"/create"},RelationsView_ref3)));var relationName}))),selectedRelation&&react_default.a.createElement(StyledPreviewBox,null,react_default.a.createElement(src.C.H4,null,selectedRelation.relationDisplay.label,react_default.a.createElement(StyledLink,{to:match.url.replace(/(relations|detail)$/,selectedRelation.relationName)},_ref4),react_default.a.createElement(StyledLink,{to:match.url.replace(/(relations|detail)$/,selectedRelation.relationName)+"/create"},_ref5)),react_default.a.createElement(main.a,{id:"preview"+selectedRelation.reverseRelationName+selectedRelation.targetEntity,key:selectedRelation.reverseRelationName+selectedRelation.targetEntity,entityName:selectedRelation.targetEntity,formName:selectedRelation.targetEntity,parent:{key:currentViewInfo.key,reverseRelationName:selectedRelation.reverseRelationName,model:currentViewInfo.model.name},showLink:!0,linkFactory:{detail:function detail(entity,relation,key,children){return entity?react_default.a.createElement(StyledLink,{to:"/e/".concat(entity,"/").concat(key),target:"_blank"},children):react_default.a.createElement(StyledLink,{to:selectedRelation.relationName+"/"+key},children)}},onRowClick:function onRowClick(_ref6){var id=_ref6.id,entityBaseUrl=match.url.replace(/detail$/,"");history.push("".concat(entityBaseUrl).concat(selectedRelation.relationName,"/").concat(id))},onNavigateToCreate:function onNavigateToCreate(){var entityBaseUrl=Object(routing.a)(match.url);history.push(entityBaseUrl+"/"+selectedRelation.relationName+"/create")},searchFormType:"simple",selectionStyle:"none",store:persistedViewInfo["store-".concat(selectedRelation.relationName)],onStoreCreate:function onStoreCreate(store){persistViewInfo(currentViewInfo.location,currentViewInfo.level,defineProperty_default()({},"store-".concat(selectedRelation.relationName),store))},showActions:!1}))):null};RelationsView.displayName="RelationsView";var updateIgnoreProps=["persistedViewInfo"];RelationsView.__docgenInfo={description:"",methods:[],displayName:"RelationsView",props:{history:{type:{name:"object"},required:!0,description:""},match:{type:{name:"object"},required:!0,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},relations:{type:{name:"array"},required:!1,description:""},relationsCount:{type:{name:"object"},required:!1,description:""},persistedViewInfo:{type:{name:"shape",value:{selectedRelation:{name:"string",required:!1}}},required:!1,description:""},persistViewInfo:{type:{name:"func"},required:!0,description:""}}};var RelationsView_RelationsView=react_default.a.memo(RelationsView,(function(prevProps,nextProps){return 0===Object.keys(js.a.difference(prevProps,nextProps)).filter((function(key){return!updateIgnoreProps.includes(key)})).length}));"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/RelationsView/RelationsView.js"]={name:"RelationsView",docgenInfo:RelationsView.__docgenInfo,path:"packages/admin/src/routes/entities/components/RelationsView/RelationsView.js"});var mapActionCreators={persistViewInfo:viewPersistor.a.persistViewInfo},components_RelationsView=Object(es.connect)((function(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname],relations:state.entities.path.relations,relationsCount:state.entities.path.relationsCount,persistedViewInfo:viewPersistor.a.viewInfoSelector(state,props.history.location.pathname)}}),mapActionCreators)(Object(index_es.injectIntl)(RelationsView_RelationsView)),actionEmitter=__webpack_require__(134),src_main=__webpack_require__(2302),consoleLogger=__webpack_require__(87),selectionTypes={ID:"ID",QUERY:"QUERY"};var node_modules_prop_types=__webpack_require__(10),node_modules_prop_types_default=__webpack_require__.n(node_modules_prop_types),src_selection_selectionToQueryString=(node_modules_prop_types_default.a.shape({entityName:node_modules_prop_types_default.a.string.isRequired,ids:function ids(props,propName,componentName){if(props.selection&&props.selection.type===selectionTypes.ID&&!props.selection[propName])return new Error("Selection.ids prop not defined. Component: ".concat(componentName,"'."))},query:function query(props,propName,componentName){if(props.selection&&props.selection.type===selectionTypes.QUERY&&!props.selection[propName])return new Error("Selection.query prop not defined. Component: ".concat(componentName,"'."))},type:node_modules_prop_types_default.a.oneOf(Object.keys(selectionTypes)).isRequired,count:node_modules_prop_types_default.a.number}).isRequired,function(selection){return"selection=".concat(encodeURIComponent(JSON.stringify(selection)))}),src_selection_queryStringToSelection=function(queryString){var obj=query_string_default.a.parse(queryString);return obj.selection?JSON.parse(obj.selection):null},actions=(__webpack_require__(41),__webpack_require__(91),{"user-qr-action":Object(react.lazy)((function(){return __webpack_require__.e(1).then(__webpack_require__.bind(null,2374))})),"input-edit":Object(react.lazy)((function(){return __webpack_require__.e(1).then(__webpack_require__.bind(null,2365))})),resourcescheduler:Object(react.lazy)((function(){return __webpack_require__.e(1).then(__webpack_require__.bind(null,2366))})),cash_management_import:Object(react.lazy)((function(){return __webpack_require__.e(1).then(__webpack_require__.bind(null,2367))})),"show-output-jobs-action":Object(react.lazy)((function(){return __webpack_require__.e(1).then(__webpack_require__.bind(null,2368))}))}),LazyAction_ref=react_default.a.createElement(src.k,null),renderLoader=function(){return LazyAction_ref};renderLoader.displayName="renderLoader";var LazyAction_LazyAction=function(props){var appId=props.appId,LazyAction=actions[appId];if(!LazyAction)return consoleLogger.a.logError("no action found with id: ".concat(appId)),null;var ActionComponent=Object(es.connect)(null,{emitAction:function emitAction(action){return actionEmitter.a.dispatchEmittedAction(action)}})(LazyAction);return react_default.a.createElement(react.Suspense,{fallback:renderLoader()},react_default.a.createElement(ActionComponent,props))};LazyAction_LazyAction.displayName="LazyAction";var Action_LazyAction=LazyAction_LazyAction,EditView=function(props){var _useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),touched=_useState2[0],setTouched=_useState2[1];if(!props.currentViewInfo||props.currentViewInfo.pathname!==props.history.location.pathname)return null;var queryFormName=query_string_default.a.parse(location.search).formName,entityName=props.currentViewInfo.model.name;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(react_router.a,{when:touched,message:function message(location){return props.history.location.pathname!==location.pathname&&(id="client.entity-browser.detail.confirmTouchedFormLeave",props.intl.formatMessage({id:id}));var id}}),react_default.a.createElement(src_main.a,{entityName:entityName,entityId:props.currentViewInfo.key,formName:queryFormName||entityName,mode:"update",emitAction:props.emitAction,onTouchedChange:function handleToucheChanged(_ref){var touched=_ref.touched;setTouched(touched)},linkFactory:{detail:function detail(entity,relation,key,children){return react_default.a.createElement(StyledLink,{to:"/e/".concat(entity,"/").concat(key),target:"_blank"},children)}},onNavigateToCreate:function handleNavigateToCreate(relationName){if(relationName)props.history.push("".concat(props.match.url,"/").concat(relationName,"/create"));else{var entityBaseUrl=Object(routing.a)(props.match.url,2);props.history.push(entityBaseUrl+"/create")}},onNavigateToAction:function handleNavigateToAction(_ref2){var definition=_ref2.definition,selection=_ref2.selection,entityBaseUrl=Object(routing.a)(props.match.url),search=src_selection_selectionToQueryString(selection);props.history.push({pathname:entityBaseUrl+"/action/"+definition.appId,state:{definition:definition,selection:selection},search:search})},onEntityDeleted:function handleEntityDeleted(){var entityBaseUrl=Object(routing.a)(props.match.url,2);props.history.push(entityBaseUrl)},actionAppComponent:Action_LazyAction,onSubGridRowClick:function handleSubGridRowClick(_ref3){var id=_ref3.id,relationName=_ref3.relationName,entityBaseUrl=Object(routing.a)(props.match.url);props.history.push("".concat(entityBaseUrl,"/").concat(relationName,"/").concat(id))}}))};EditView.displayName="EditView",EditView.__docgenInfo={description:"",methods:[],displayName:"EditView",props:{intl:{type:{name:"custom",raw:"intlShape"},required:!1,description:""},match:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},emitAction:{type:{name:"func"},required:!0,description:""}}};var EditView_EditView=EditView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/EditView/EditView.js"]={name:"EditView",docgenInfo:EditView.__docgenInfo,path:"packages/admin/src/routes/entities/components/EditView/EditView.js"});var EditViewContainer_mapActionCreators={emitAction:function emitAction(action){return actionEmitter.a.dispatchEmittedAction(action)}},EditViewContainer=Object(es.connect)((function(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname]}}),EditViewContainer_mapActionCreators)(Object(index_es.injectIntl)(EditView_EditView));function DetailView_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  padding: 1rem .5rem 2rem 1.5rem;\n  margin-right: 1rem;\n  background-color: ",";\n"]);return DetailView_templateObject3=function(){return data},data}function DetailView_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  flex: 1;\n"]);return DetailView_templateObject2=function(){return data},data}function DetailView_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  flex-direction: row;\n\n  .react-bs-container-body {\n    height: auto !important;\n  }\n"]);return DetailView_templateObject=function(){return data},data}var DetailViewContainer=styled_components_browser_esm.default.div(DetailView_templateObject()),DetailViewPart=styled_components_browser_esm.default.div(DetailView_templateObject2()),DetailViewPartEdit=Object(styled_components_browser_esm.default)(DetailViewPart)(DetailView_templateObject3(),src.I.color("paper")),DetailView=function(props){return react_default.a.createElement(DetailViewContainer,null,react_default.a.createElement(DetailViewPartEdit,null,react_default.a.createElement(EditViewContainer,{match:props.match,history:props.history})),react_default.a.createElement(DetailViewPart,null,react_default.a.createElement(components_RelationsView,{match:props.match,history:props.history})))};DetailView.displayName="DetailView",DetailView.__docgenInfo={description:"",methods:[],displayName:"DetailView",props:{intl:{type:{name:"custom",raw:"intlShape"},required:!1,description:""},match:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""}}};var DetailView_DetailView=DetailView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/DetailView/DetailView.js"]={name:"DetailView",docgenInfo:DetailView.__docgenInfo,path:"packages/admin/src/routes/entities/components/DetailView/DetailView.js"});var DetaiViewContainer=Object(es.connect)((function(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname]}}),{})(Object(index_es.injectIntl)(DetailView_DetailView)),ActionView=function(_ref){var history=_ref.history,match=_ref.match,setCurrentViewTitle=_ref.setCurrentViewTitle,currentViewInfo=_ref.currentViewInfo,intl=_ref.intl,location=history.location;if(Object(react.useEffect)((function(){return currentViewInfo&&setCurrentViewTitle(intl.formatMessage({id:"client.actions.".concat(currentViewInfo.actionId,".title")})),function(){setCurrentViewTitle(null)}}),[currentViewInfo]),!currentViewInfo)return null;var selection=function(location){return location.state&&location.state.selection?location.state.selection:src_selection_queryStringToSelection(location.search)}(location);return react_default.a.createElement(Action_LazyAction,{history:history,match:match,appId:currentViewInfo.actionId,selection:selection})};ActionView.displayName="ActionView",ActionView.__docgenInfo={description:"",methods:[],displayName:"ActionView",props:{intl:{type:{name:"custom",raw:"intlShape.isRequired"},required:!1,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},setCurrentViewTitle:{type:{name:"func"},required:!0,description:""},history:{type:{name:"shape",value:{location:{name:"shape",value:{search:{name:"string",required:!1},state:{name:"shape",value:{selection:{name:"object",required:!1},definition:{name:"shape",value:{appId:{name:"string",required:!1}},required:!1}},required:!1}},required:!1}}},required:!0,description:""},match:{type:{name:"object"},required:!1,description:""}}};var ActionView_ActionView=ActionView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/ActionView/ActionView.js"]={name:"ActionView",docgenInfo:ActionView.__docgenInfo,path:"packages/admin/src/routes/entities/components/ActionView/ActionView.js"});var ActionViewContainer_mapActionCreators={setCurrentViewTitle:function(currentViewTitle){return{type:"path/SET_CURRENT_VIEW_TITLE",payload:{currentViewTitle:currentViewTitle}}}},ActionViewContainer=Object(es.connect)((function(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname]}}),ActionViewContainer_mapActionCreators)(Object(index_es.injectIntl)(ActionView_ActionView));var EntityRecordRoute=function(_ref){var match=_ref.match,count=function wordCount(str,word){return str.split(word).length-1}(match.path,":relation");return react_default.a.createElement(react_router.e,null,react_default.a.createElement(react_router.c,{exact:!0,path:"".concat(match.url),render:function render(_ref2){var match=_ref2.match;return react_default.a.createElement(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/detail")})}}),react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/detail"),component:DetaiViewContainer}),react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/edit"),component:EditViewContainer}),react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/relations"),component:components_RelationsView}),react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/action"),component:ActionViewContainer}),react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/:relation_").concat(count),component:components_EntityRoute}))};EntityRecordRoute.displayName="EntityRecordRoute",EntityRecordRoute.__docgenInfo={description:"",methods:[],displayName:"EntityRecordRoute",props:{match:{type:{name:"object"},required:!0,description:""}}};var EntityRecordRoute_EntityRecordRoute=EntityRecordRoute;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/EntityRecordRoute/EntityRecordRoute.js"]={name:"EntityRecordRoute",docgenInfo:EntityRecordRoute.__docgenInfo,path:"packages/admin/src/routes/entities/components/EntityRecordRoute/EntityRecordRoute.js"});var components_EntityRecordRoute=EntityRecordRoute_EntityRecordRoute;function CreateView_templateObject(){var data=taggedTemplateLiteral_default()(["\n  margin: 1rem 0 1rem 1rem;\n"]);return CreateView_templateObject=function(){return data},data}var EntityDetailAppWrapper=styled_components_browser_esm.default.div(CreateView_templateObject()),CreateView=function(props){var _useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),touched=_useState2[0],setTouched=_useState2[1];if(!props.currentViewInfo)return null;var _props$currentViewInf=props.currentViewInfo,model=_props$currentViewInf.model,reverseRelation=_props$currentViewInf.reverseRelation,key=_props$currentViewInf.key,entityName=model.name,isMultiReverseRelation=get_default()(model,"paths.".concat(reverseRelation,".multi"),!1),defaultValues=toConsumableArray_default()(reverseRelation&&key?[{id:reverseRelation,value:isMultiReverseRelation?[key]:key}]:[]);return react_default.a.createElement(EntityDetailAppWrapper,null,react_default.a.createElement(react_router.a,{when:touched,message:function msg(id){return props.intl.formatMessage({id:id})}("client.entity-browser.detail.confirmTouchedFormLeave")}),react_default.a.createElement(src_main.a,{entityName:entityName,formName:entityName,mode:"create",defaultValues:defaultValues,emitAction:function emitAction(action){props.dispatchEmittedAction(action)},onEntityCreated:function handleEntityCreated(_ref){var id=_ref.id;setTouched(!1),props.history.push(props.match.url.replace(/create$/,id))},onTouchedChange:function handleToucheChanged(_ref2){var touched=_ref2.touched;setTouched(touched)}}))};CreateView.displayName="CreateView",CreateView.__docgenInfo={description:"",methods:[],displayName:"CreateView",props:{intl:{type:{name:"custom",raw:"intlShape"},required:!1,description:""},match:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},dispatchEmittedAction:{type:{name:"func"},required:!0,description:""}}};var CreateView_CreateView=CreateView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/CreateView/CreateView.js"]={name:"CreateView",docgenInfo:CreateView.__docgenInfo,path:"packages/admin/src/routes/entities/components/CreateView/CreateView.js"});var CreateViewContainer_mapActionCreators={dispatchEmittedAction:actionEmitter.a.dispatchEmittedAction},CreateViewContainer=Object(es.connect)((function(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname]}}),CreateViewContainer_mapActionCreators)(Object(index_es.injectIntl)(CreateView_CreateView)),helpers_extends=__webpack_require__(42),extends_default=__webpack_require__.n(helpers_extends),ListView=function(_ref){var match=_ref.match,history=_ref.history,currentViewInfo=_ref.currentViewInfo,emitAction=_ref.emitAction,persistViewInfo=_ref.persistViewInfo,persistedViewInfo=_ref.persistedViewInfo;if(!currentViewInfo)return null;var queryParams=query_string_default.a.parse(location.search);return react_default.a.createElement(main.a,extends_default()({emitAction:emitAction,limit:40,id:"".concat(currentViewInfo.model.name,"_list"),entityName:currentViewInfo.model.name,formName:queryParams.formName||currentViewInfo.model.name,onRowClick:function handleRowClick(_ref2){var id=_ref2.id;history.push(match.url.replace(/list$/,"")+id)}},currentViewInfo.reverseRelation&&{parent:{key:currentViewInfo.parentKey,reverseRelationName:currentViewInfo.reverseRelation,model:currentViewInfo.parentModel.name}},{showLink:!0,linkFactory:{detail:function detail(entity,relation,key,children){return entity?react_default.a.createElement(StyledLink,{to:"/e/".concat(entity,"/").concat(key),target:"_blank"},children):react_default.a.createElement(StyledLink,{to:key},children)}},onNavigateToCreate:function handleNavigateToCreate(relationName){if(relationName)history.push("".concat(match.url,"/").concat(relationName,"/create"));else{var entityBaseUrl=Object(routing.a)(match.url);history.push(entityBaseUrl+"/create")}},searchFormPosition:"left",searchFormType:"admin",store:persistedViewInfo.store,onStoreCreate:function onStoreCreate(store){persistViewInfo(history.location.pathname,currentViewInfo.level,{store:store})},onNavigateToAction:function handleNavigateToAction(_ref3){var definition=_ref3.definition,selection=_ref3.selection,entityBaseUrl=Object(routing.a)(match.url),search=src_selection_selectionToQueryString(selection);history.push({pathname:entityBaseUrl+"/action/"+definition.appId,state:{definition:definition,selection:selection},search:search})},actionAppComponent:Action_LazyAction,tql:queryParams.tql}))};ListView.displayName="ListView",ListView.__docgenInfo={description:"",methods:[],displayName:"ListView",props:{match:{type:{name:"object"},required:!0,description:""},emitAction:{type:{name:"func"},required:!0,description:""},persistViewInfo:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},currentViewInfo:{type:{name:"custom",raw:"currentViewPropType"},required:!1,description:""},persistedViewInfo:{type:{name:"shape",value:{store:{name:"object",required:!1}}},required:!1,description:""}}};var ListView_ListView=ListView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/ListView/ListView.js"]={name:"ListView",docgenInfo:ListView.__docgenInfo,path:"packages/admin/src/routes/entities/components/ListView/ListView.js"});var ListViewContainer_mapActionCreators={emitAction:function emitAction(action){return actionEmitter.a.dispatchEmittedAction(action)},persistViewInfo:viewPersistor.a.persistViewInfo},ListViewContainer=Object(es.connect)((function(state,props){return{currentViewInfo:state.entities.path.currentViewInfos[props.history.location.pathname],persistedViewInfo:viewPersistor.a.viewInfoSelector(state,props.history.location.pathname)}}),ListViewContainer_mapActionCreators)(Object(index_es.injectIntl)(ListView_ListView)),EntityRoute=function(_ref){var match=_ref.match;return react_default.a.createElement(react_router.e,null,react_default.a.createElement(react_router.c,{exact:!0,path:match.url,render:function render(_ref2){var match=_ref2.match;return react_default.a.createElement(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/list")})}}),react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/action/:id"),component:ActionViewContainer}),react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/list"),component:ListViewContainer}),react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/create"),component:CreateViewContainer}),react_default.a.createElement(react_router.c,{path:"".concat(match.path,"/:key"),component:components_EntityRecordRoute}))};EntityRoute.displayName="EntityRoute",EntityRoute.__docgenInfo={description:"",methods:[],displayName:"EntityRoute",props:{match:{type:{name:"object"},required:!0,description:""}}};var EntityRoute_EntityRoute=EntityRoute;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/EntityRoute/EntityRoute.js"]={name:"EntityRoute",docgenInfo:EntityRoute.__docgenInfo,path:"packages/admin/src/routes/entities/components/EntityRoute/EntityRoute.js"});var components_EntityRoute=EntityRoute_EntityRoute,Helmet=(__webpack_require__(83),__webpack_require__(2309));function StyledBreadcrumbs_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  font-weight: ",";\n  text-decoration: none;\n  color: ",";\n\n  & * {\n    font-weight: ",";\n    text-decoration: none;\n    color: ",";\n    margin-right: .5rem;\n  }\n\n  &:active * {\n    color: ",";\n  }\n"]);return StyledBreadcrumbs_templateObject3=function(){return data},data}function StyledBreadcrumbs_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  font-weight: ",";\n  text-decoration: none;\n  color: ",";\n\n  & * {\n    font-weight: ",";\n    text-decoration: none;\n    color: ",";\n    margin-right: .5rem;\n  }\n\n  &:hover,\n  &:hover *  {\n    color: ",";\n  }\n\n  &:focus,\n  &:active,\n  &:focus *,\n  &:active * {\n    color: ",";\n  }\n"]);return StyledBreadcrumbs_templateObject2=function(){return data},data}function StyledBreadcrumbs_templateObject(){var data=taggedTemplateLiteral_default()(["\n  background-color: ",";\n  width: 100%;\n  padding: .8rem 1.7rem;\n\n  span:nth-child(even) {\n    margin-left: 1.5rem;\n    margin-right: 1.5rem;\n  }\n"]);return StyledBreadcrumbs_templateObject=function(){return data},data}var StyledBreadcumbs=styled_components_browser_esm.default.div(StyledBreadcrumbs_templateObject(),src.I.color("backgroundBreadcrumbs")),StyledBreadcrumbsLink=Object(styled_components_browser_esm.default)(StyledLink)(StyledBreadcrumbs_templateObject2(),src.I.fontWeight("bold"),(function(props){return props.active&&src.I.color("primary")}),src.I.fontWeight("bold"),(function(props){return props.active&&src.I.color("primary")}),src.I.color("secondaryLight"),src.I.color("primary")),StyledBreadcrumbsTitle=styled_components_browser_esm.default.span(StyledBreadcrumbs_templateObject3(),src.I.fontWeight("bold"),(function(props){return props.active&&src.I.color("primary")}),src.I.fontWeight("bold"),(function(props){return props.active&&src.I.color("primary")}),src.I.color("primary")),Breadcrumbs_ref2=react_default.a.createElement(src.h,{icon:"list-ul"}),Breadcrumbs_ref3=react_default.a.createElement(src.h,{icon:"angle-right"}),Breadcrumbs=function(_ref){var breadcrumbsInfo=_ref.breadcrumbsInfo,currentViewTitle=_ref.currentViewTitle,breadcrumbs=[].concat(toConsumableArray_default()(breadcrumbsInfo||[]),toConsumableArray_default()(currentViewTitle?[{display:currentViewTitle}]:[]));return 0===breadcrumbs.length?null:react_default.a.createElement(StyledBreadcumbs,null,react_default.a.createElement(Helmet.Helmet,{defer:!1},react_default.a.createElement("title",null,function(breadcrumbsInfo){return breadcrumbsInfo.slice(breadcrumbsInfo.length-2).map((function(breadcrumb){return breadcrumb.display})).reverse().join(" - ")}(breadcrumbsInfo))),react_default.a.createElement("div",null,"  ",breadcrumbs.map((function(b,idx){var display=b.display||"",Comp=idx===breadcrumbs.length-1?StyledBreadcrumbsTitle:StyledBreadcrumbsLink;return react_default.a.createElement(src.C.Span,{key:"breadcrumbItem-".concat(idx)},react_default.a.createElement(Comp,extends_default()({neutral:"true"},idx===breadcrumbsInfo.length-1&&{active:"true"},{to:"/e/".concat(b.path)}),"list"===b.type&&Breadcrumbs_ref2,"  ",display))})).reduce((function(prev,curr,idx){return[prev,react_default.a.createElement(src.C.Span,{key:"icon"+idx}," ",Breadcrumbs_ref3," "),curr]})),"  "))};Breadcrumbs.displayName="Breadcrumbs",Breadcrumbs.__docgenInfo={description:"",methods:[],displayName:"Breadcrumbs",props:{match:{type:{name:"object"},required:!1,description:""},breadcrumbsInfo:{type:{name:"arrayOf",value:{name:"shape",value:{display:{name:"string",required:!1},path:{name:"string",required:!1},type:{name:"string",required:!1}}}},required:!1,description:""},currentViewTitle:{type:{name:"string"},required:!1,description:""}}};var Breadcrumbs_Breadcrumbs=Breadcrumbs;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/Breadcrumbs/Breadcrumbs.js"]={name:"Breadcrumbs",docgenInfo:Breadcrumbs.__docgenInfo,path:"packages/admin/src/routes/entities/components/Breadcrumbs/Breadcrumbs.js"});var BreadcrumbsContainer=Object(es.connect)((function(state){return{breadcrumbsInfo:state.entities.path.breadcrumbsInfo,currentViewTitle:state.entities.path.currentViewTitle}}),{})(Object(index_es.injectIntl)(Breadcrumbs_Breadcrumbs));function EntitiesRoute_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  grid-area: breadcrumbs;\n"]);return EntitiesRoute_templateObject3=function(){return data},data}function EntitiesRoute_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  grid-area: content;\n  overflow-x: hidden;\n  padding-right: ",";\n  ","\n"]);return EntitiesRoute_templateObject2=function(){return data},data}function EntitiesRoute_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: grid;\n  grid-template-rows: auto  1fr;\n  grid-template-areas:\n    'breadcrumbs'\n    'content';\n  height: 100%;\n  width: 100%;\n"]);return EntitiesRoute_templateObject=function(){return data},data}var StyledWrapper=styled_components_browser_esm.default.div(EntitiesRoute_templateObject()),StyledContent=styled_components_browser_esm.default.div(EntitiesRoute_templateObject2(),src.G.space(-1),src.A),StyledBreadcrumbs=styled_components_browser_esm.default.div(EntitiesRoute_templateObject3()),EntitiesRoute_ref2=react_default.a.createElement(StyledBreadcrumbs,null,react_default.a.createElement(BreadcrumbsContainer,null)),EntitiesRoute=function(_ref){var match=_ref.match,history=_ref.history,loadCurrentViewInfo=_ref.loadCurrentViewInfo;return Object(react.useEffect)((function(){loadCurrentViewInfo(history.location)}),[]),react_default.a.createElement(StyledWrapper,null,EntitiesRoute_ref2,react_default.a.createElement(StyledContent,null,react_default.a.createElement(react_router.e,null,react_default.a.createElement(react_router.c,{path:"".concat(match.url,"/action/:actionId"),component:ActionViewContainer}),react_default.a.createElement(react_router.c,{path:"".concat(match.url,"/:entity"),component:components_EntityRoute}),react_default.a.createElement(react_router.c,{exact:!0,path:match.url,component:components_EntitiesOverview}))))};EntitiesRoute.displayName="EntitiesRoute",EntitiesRoute.__docgenInfo={description:"",methods:[],displayName:"EntitiesRoute",props:{loadCurrentViewInfo:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},match:{type:{name:"object"},required:!0,description:""}}};var EntitiesRoute_EntitiesRoute=EntitiesRoute;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/components/EntitiesRoute/EntitiesRoute.js"]={name:"EntitiesRoute",docgenInfo:EntitiesRoute.__docgenInfo,path:"packages/admin/src/routes/entities/components/EntitiesRoute/EntitiesRoute.js"});var EntitiesRouteContainer_mapActionCreators={loadCurrentViewInfo:function(location){return{type:"path/LOAD_CURRENT_VIEW_INFO",payload:{location:location}}}},components_EntitiesRoute=Object(root.hot)(Object(es.connect)(null,EntitiesRouteContainer_mapActionCreators)(Object(index_es.injectIntl)(EntitiesRoute_EntitiesRoute)));__webpack_exports__.default={container:components_EntitiesRoute,reducers:{entities:Object(redux.combineReducers)({path:modules_path})},sagas:[mainSagas]}}}]);
//# sourceMappingURL=9.a953182d86bae395f853.bundle.js.map