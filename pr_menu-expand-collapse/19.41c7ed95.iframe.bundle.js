(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{4996:function(module,__webpack_exports__,__webpack_require__){"use strict";var defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),get=(__webpack_require__(11),__webpack_require__(80),__webpack_require__(56),__webpack_require__(21)),get_default=__webpack_require__.n(get),persistedViews={};__webpack_exports__.a={persistViewInfo:function persistViewInfo(location,info){var level=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;persistedViews=Object.assign({},persistedViews,defineProperty_default()({},location,{level:level,info:Object.assign({},get_default()(persistedViews,[location,"info"],{}),info)}))},viewInfoSelector:function viewInfoSelector(location){return get_default()(persistedViews,[location,"info"],{})},clearPersistedViews:function clearPersistedViews(){var level=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;persistedViews=Object.assign({},Object.keys(persistedViews).reduce((function(acc,key){var persistedView=persistedViews[key];return Object.assign({},acc,persistedView.level<level&&defineProperty_default()({},key,persistedView))}),{}))}}},4997:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DetailLink}));__webpack_require__(30),__webpack_require__(153),__webpack_require__(1),__webpack_require__(2284);var tocco_util_src_queryString__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4999),tocco_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5229),react_intl__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(376),_utils_routing__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5005),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),DetailLinkRelativeWithoutIntl=function DetailLinkRelativeWithoutIntl(_ref){var entityKey=_ref.entityKey,children=(_ref.entityModel,_ref.children),relation=_ref.relation,intl=_ref.intl;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(tocco_ui__WEBPACK_IMPORTED_MODULE_5__.a,{"aria-label":function msg(id){return intl.formatMessage({id:id})}("client.component.navigationStrategy.detailLinkRelative"),to:"".concat(relation?relation+"/":"").concat(entityKey),children:children})};DetailLinkRelativeWithoutIntl.displayName="DetailLinkRelativeWithoutIntl";var DetailLinkRelative=Object(react_intl__WEBPACK_IMPORTED_MODULE_6__.c)(DetailLinkRelativeWithoutIntl),DetailLink=function DetailLink(_ref2){var entityName=_ref2.entityName,entityKey=_ref2.entityKey,children=_ref2.children;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(tocco_ui__WEBPACK_IMPORTED_MODULE_5__.a,{to:"/e/".concat(entityName,"/").concat(entityKey),target:"_blank",neutral:!1,children:children})};DetailLink.displayName="DetailLink";var ListLink=function ListLink(_ref3){var entityName=_ref3.entityName,entityKeys=_ref3.entityKeys,children=_ref3.children,queryString=(null==entityKeys?void 0:entityKeys.length)&&"tql=KEYS("+entityKeys.join(",")+")";return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(tocco_ui__WEBPACK_IMPORTED_MODULE_5__.a,{to:{pathname:"/e/".concat(entityName,"/list"),search:"?".concat(queryString)},target:"_blank",children:children})};ListLink.displayName="ListLink";var ListOrDetailLink=function ListOrDetailLink(_ref4){var entityName=_ref4.entityName,entityKeys=_ref4.entityKeys,children=_ref4.children;return 1===(null==entityKeys?void 0:entityKeys.length)?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(DetailLink,{entityName:entityName,entityKey:entityKeys[0],children:children}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(ListLink,{entityName:entityName,entityKeys:entityKeys,children:children})};ListOrDetailLink.displayName="ListOrDetailLink",__webpack_exports__.b=function(history,match){return{DetailLink:DetailLink,ListLink:ListLink,ListOrDetailLink:ListOrDetailLink,DetailLinkRelative:DetailLinkRelative,navigateToCreateRelative:function navigateToCreateRelative(relationName,state){if(relationName)history.push({pathname:"".concat(match.url,"/").concat(relationName,"/create"),state:state});else{var entityBaseUrl=Object(_utils_routing__WEBPACK_IMPORTED_MODULE_7__.a)(match.url);history.push({pathname:entityBaseUrl+"/create",state:state})}},navigateToActionRelative:function navigateToActionRelative(definition,selection){var entityBaseUrl=Object(_utils_routing__WEBPACK_IMPORTED_MODULE_7__.a)(match.url),search=tocco_util_src_queryString__WEBPACK_IMPORTED_MODULE_4__.a.toQueryString({selection:selection,actionProperties:definition.properties});history.push({pathname:entityBaseUrl+"/action/"+definition.appId,state:{definition:definition,selection:selection},search:search})},openDetail:function openDetail(entityName,key){var inNewTab=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],pathname="/e/".concat(entityName,"/").concat(key);if(inNewTab){var url=history.createHref({pathname:pathname});window.open(url,"_blank")}else history.push({pathname:pathname})}}},DetailLink.__docgenInfo={description:"",methods:[],displayName:"DetailLink",props:{entityName:{type:{name:"string"},required:!0,description:""},entityKey:{type:{name:"string"},required:!0,description:""},children:{type:{name:"any"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/utils/navigationStrategy.js"]={name:"DetailLink",docgenInfo:DetailLink.__docgenInfo,path:"packages/admin/src/routes/entities/utils/navigationStrategy.js"}),ListLink.__docgenInfo={description:"",methods:[],displayName:"ListLink",props:{entityName:{type:{name:"string"},required:!0,description:""},children:{type:{name:"any"},required:!0,description:""},entityKeys:{type:{name:"arrayOf",value:{name:"string"}},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/utils/navigationStrategy.js"]={name:"ListLink",docgenInfo:ListLink.__docgenInfo,path:"packages/admin/src/routes/entities/utils/navigationStrategy.js"}),ListOrDetailLink.__docgenInfo={description:"",methods:[],displayName:"ListOrDetailLink",props:{entityName:{type:{name:"string"},required:!0,description:""},children:{type:{name:"any"},required:!0,description:""},entityKeys:{type:{name:"arrayOf",value:{name:"string"}},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/entities/utils/navigationStrategy.js"]={name:"ListOrDetailLink",docgenInfo:ListOrDetailLink.__docgenInfo,path:"packages/admin/src/routes/entities/utils/navigationStrategy.js"})},4999:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(35);var query_string=__webpack_require__(4995),query_string_default=__webpack_require__.n(query_string),isObject=__webpack_require__(143),isObject_default=__webpack_require__.n(isObject),mapValues=__webpack_require__(104),mapValues_default=__webpack_require__.n(mapValues),hasJsonStructure=function hasJsonStructure(str){if("string"!=typeof str)return!1;try{var parsed=JSON.parse(str);return"[object Object]"===Object.prototype.toString.call(parsed)}catch(err){return!1}};__webpack_exports__.a={fromQueryString:function fromQueryString(queryString){var obj=query_string_default.a.parse(queryString);return mapValues_default()(obj,(function(value){return hasJsonStructure(value)?JSON.parse(value):value}))},toQueryString:function toQueryString(obj){var stringifiedValues=mapValues_default()(obj,(function(value){return isObject_default()(value)?JSON.stringify(value):value}));return query_string_default.a.stringify(stringifiedValues)}}},5005:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return goBack}));__webpack_require__(199),__webpack_require__(76),__webpack_require__(5007);var goBack=function goBack(url){for(var amount=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,normalizedUrl=url.replace(/\/$/,""),i=0;i<amount;i++)normalizedUrl=normalizedUrl.substring(0,normalizedUrl.lastIndexOf("/"));return normalizedUrl}},5049:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"imgs/tocco-circle.25b8cb1141417ffc7763e9309b5a36ec.svg"},5063:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return components_ErrorView_ErrorView}));var taggedTemplateLiteral=__webpack_require__(13),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),modularScale=(__webpack_require__(1),__webpack_require__(27)),resolveThemePath=__webpack_require__(36),LazyIcon=__webpack_require__(719),Typography=__webpack_require__(17),styled_components_browser_esm=__webpack_require__(5),jsx_runtime=(__webpack_require__(2284),__webpack_require__(0));function _templateObject2(){var data=taggedTemplateLiteral_default()(["\n  color: ",";\n  font-size: ",";\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 50vw;\n  max-width: 650px;\n  padding: ",";\n  text-align: center;\n  margin: 20vh auto auto;\n\n  h1 {\n    margin: 0 auto;\n  }\n"]);return _templateObject=function _templateObject(){return data},data}var StyledErrorView=styled_components_browser_esm.default.div(_templateObject(),modularScale.a.space(1)),StyledIconWrapper=styled_components_browser_esm.default.span(_templateObject2(),resolveThemePath.a.color("signal.danger.text"),modularScale.a.font(13.4)),_ref2=Object(jsx_runtime.jsx)(StyledIconWrapper,{children:Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"times"})}),ErrorView_ErrorView=function ErrorView(_ref){var title=_ref.title,message=_ref.message;return Object(jsx_runtime.jsxs)(StyledErrorView,{children:[_ref2,Object(jsx_runtime.jsx)(Typography.a.H1,{children:title}),Object(jsx_runtime.jsx)(Typography.a.Span,{children:message})]})};ErrorView_ErrorView.displayName="ErrorView",ErrorView_ErrorView.__docgenInfo={description:"",methods:[],displayName:"ErrorView",props:{title:{type:{name:"element"},required:!0,description:""},message:{type:{name:"element"},required:!0,description:""}}};var components_ErrorView_ErrorView=ErrorView_ErrorView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/ErrorView/ErrorView.js"]={name:"ErrorView",docgenInfo:ErrorView_ErrorView.__docgenInfo,path:"packages/admin/src/components/ErrorView/ErrorView.js"})},5160:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"imgs/tocco_white.8f9290d80aa3635828f36920cf13aa11.svg"},5186:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"imgs/tocco_red.6ab51a129d1195d204cd84e69da2f044.svg"},5217:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return LoginGuardContainer}));var es=__webpack_require__(25),injectIntl=__webpack_require__(376),notification=__webpack_require__(26),login=__webpack_require__(238),react=__webpack_require__(1),react_default=__webpack_require__.n(react),LoadMask=(__webpack_require__(2284),__webpack_require__(2283)),Helmet=__webpack_require__(5153),slicedToArray=__webpack_require__(34),slicedToArray_default=__webpack_require__.n(slicedToArray),main=__webpack_require__(987),classCallCheck=(__webpack_require__(136),__webpack_require__(35),__webpack_require__(66),__webpack_require__(116)),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(117),createClass_default=__webpack_require__.n(createClass),inherits=__webpack_require__(118),inherits_default=__webpack_require__.n(inherits),possibleConstructorReturn=__webpack_require__(119),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(74),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),reducer=(__webpack_require__(80),__webpack_require__(18)),appFactory=__webpack_require__(58),cache=__webpack_require__(63),externalEvents=__webpack_require__(57),node_modules_prop_types=__webpack_require__(6),node_modules_prop_types_default=__webpack_require__.n(node_modules_prop_types),regenerator=__webpack_require__(3),regenerator_default=__webpack_require__.n(regenerator),src_intl=__webpack_require__(711),rest=__webpack_require__(19),redux_saga_effects_npm_proxy_esm=__webpack_require__(2),defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),reduce=(__webpack_require__(28),__webpack_require__(11),__webpack_require__(109)),reduce_default=__webpack_require__.n(reduce),providers_transformProviderEntities=function transformProviderEntities(response){return response.data.map((function(provider){return reduce_default()(provider.paths,(function(result,value,key){return Object.assign({},result,defineProperty_default()({},key,value.value))}),{})}))},setProviders=function setProviders(providers){return{type:"root/SET_PROVIDERS",payload:{providers:providers}}},_marked=regenerator_default.a.mark(sagas_loadProviders),_marked2=regenerator_default.a.mark(sagas_loginCompleted),_marked3=regenerator_default.a.mark(mainSagas),intlSelector=function intlSelector(state){return state.intl};function sagas_loadProviders(){var intl,query,entities;return regenerator_default.a.wrap((function loadProviders$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.g)(intlSelector);case 2:return intl=_context.sent,query={paths:["unique_id","label","button_primary_color","button_secondary_color","button_icon","button_label"],conditions:{locale:intl.locale,active:!0}},_context.next=6,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.fetchEntities,"Openid_provider",query,{method:"GET"},providers_transformProviderEntities);case 6:return entities=_context.sent,_context.next=9,Object(redux_saga_effects_npm_proxy_esm.f)(setProviders(entities));case 9:case"end":return _context.stop()}}),_marked)}function sagas_loginCompleted(_ref){var result;return regenerator_default.a.wrap((function loginCompleted$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return result=_ref.payload.result,_context2.next=3,Object(redux_saga_effects_npm_proxy_esm.b)(src_intl.a.hasUserLocaleChanged);case 3:if(!_context2.sent){_context2.next=9;break}return _context2.next=7,Object(redux_saga_effects_npm_proxy_esm.b)(cache.a.clearAll);case 7:_context2.next=11;break;case 9:return _context2.next=11,Object(redux_saga_effects_npm_proxy_esm.b)(cache.a.clearShortTerm);case 11:return _context2.next=13,Object(redux_saga_effects_npm_proxy_esm.f)(externalEvents.a.fireExternalEvent("loginCompleted",result));case 13:case"end":return _context2.stop()}}),_marked2)}function mainSagas(){return regenerator_default.a.wrap((function mainSagas$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.k)("root/LOAD_PROVIDERS",sagas_loadProviders),Object(redux_saga_effects_npm_proxy_esm.k)("root/LOGIN_COMPLETED",sagas_loginCompleted)]);case 2:case"end":return _context3.stop()}}),_marked3)}var ACTION_HANDLERS=defineProperty_default()({},"root/SET_PROVIDERS",reducer.a.singleTransferReducer("providers")),initialState={providers:[]};function reducer_reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0,handler=ACTION_HANDLERS[action.type];return handler?handler(state,action):state}reducer_reducer.__docgenInfo={description:"",methods:[],displayName:"reducer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/modules/reducer.js"]={name:"reducer",docgenInfo:reducer_reducer.__docgenInfo,path:"packages/sso-login/src/modules/reducer.js"});var modules={ssoLogin:reducer_reducer},sagas=[mainSagas],taggedTemplateLiteral=__webpack_require__(13),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),styled_components_browser_esm=(__webpack_require__(239),__webpack_require__(5)),toConsumableArray=(__webpack_require__(30),__webpack_require__(23)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),loginWindow_openLoginWindow=(__webpack_require__(153),function openLoginWindow(loginEndpoint,loginCompleted,provider){var encodedWindowUrl=encodeURIComponent(window.location.href),url="".concat("https://master.tocco.ch").concat(loginEndpoint,"?provider=").concat(provider.unique_id,"&sourceUri=").concat(encodedWindowUrl),popUp=window.open(url,provider.label,function getPopUpFeatures(){var height=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,width=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,features={height:height,width:width,left:window.screen.width/2-width/2,top:window.screen.height/2-height/2,resizable:1,scrollbars:1,status:1};return reduce_default()(features,(function(result,value,key){return[].concat(toConsumableArray_default()(result),["".concat(key,"=").concat(value)])}),[]).join(",")}(650,500));window.ssoPopUpCallback=function(result){popUp.close(),loginCompleted(result)}}),LazyIcon=__webpack_require__(719),get=__webpack_require__(21),get_default=__webpack_require__.n(get),StyledButton=__webpack_require__(422),modularScale=__webpack_require__(27),resolveThemePath=__webpack_require__(36),declareInteractionColors=__webpack_require__(172);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  && {\n    margin-right: 0;\n    flex: 1;\n    font-size: ",";\n    justify-content: center;\n    border-radius: ",";\n    ","\n    span {\n      margin-left: .5em;\n      padding: .9rem 0;\n    }\n  }\n"]);return _templateObject=function _templateObject(){return data},data}var StyledProviderButton=Object(styled_components_browser_esm.default)(StyledButton.b)(_templateObject(),modularScale.a.font(1.3),resolveThemePath.a.radii("large"),(function(props){return Object(declareInteractionColors.b)(Object(declareInteractionColors.d)(props,{bg:props.primaryColor,fg:props.secondaryColor||"".concat(get_default()(props.theme,"colors.paper"),", ").concat(get_default()(props.theme,"colors.text"))}))})),jsx_runtime=__webpack_require__(0),ProviderButton_ProviderButton=function ProviderButton(_ref){var provider=_ref.provider,loginCompleted=_ref.loginCompleted,loginEndpoint=_ref.loginEndpoint;return Object(jsx_runtime.jsxs)(StyledProviderButton,{primaryColor:provider.button_primary_color,secondaryColor:provider.button_secondary_color,onClick:function clickHandler(){loginWindow_openLoginWindow(loginEndpoint,loginCompleted,provider)},children:[provider.button_icon&&Object(jsx_runtime.jsx)(LazyIcon.a,{position:"prepend",icon:provider.button_icon}),Object(jsx_runtime.jsx)("span",{children:provider.button_label})]})};ProviderButton_ProviderButton.displayName="ProviderButton",ProviderButton_ProviderButton.__docgenInfo={description:"",methods:[],displayName:"ProviderButton",props:{provider:{type:{name:"shape",value:{button_primary_color:{name:"string",required:!1},button_secondary_color:{name:"string",required:!1},button_icon:{name:"string",required:!1},button_label:{name:"string",required:!1}}},required:!1,description:""},loginEndpoint:{type:{name:"string"},required:!0,description:""},loginCompleted:{type:{name:"func"},required:!0,description:""}}};var components_ProviderButton_ProviderButton=ProviderButton_ProviderButton;function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}function LoginBox_templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  margin-top: 3rem;\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n\n  @media (max-width: 1024px) {\n    margin-top: 1.5rem;\n  }\n"]);return LoginBox_templateObject=function _templateObject(){return data},data}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/components/ProviderButton/ProviderButton.js"]={name:"ProviderButton",docgenInfo:ProviderButton_ProviderButton.__docgenInfo,path:"packages/sso-login/src/components/ProviderButton/ProviderButton.js"});var StyledButtonContainer=styled_components_browser_esm.default.div(LoginBox_templateObject()),LoginBox_LoginBox=function(_React$Component){inherits_default()(LoginBox,_React$Component);var _super=_createSuper(LoginBox);function LoginBox(props){var _this;return classCallCheck_default()(this,LoginBox),_this=_super.call(this,props),props.loadProviders(),_this}return createClass_default()(LoginBox,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){var _this2=this;if(this.props.autoLogin&&0===prevProps.providers.length&&this.props.providers.length>0){var autoLoginProvider=this.props.providers.find((function(entity){return entity.unique_id===_this2.props.autoLogin}));autoLoginProvider&&loginWindow_openLoginWindow(this.props.loginEndpoint,this.props.loginCompleted,autoLoginProvider)}}},{key:"render",value:function render(){var _this3=this;return Object(jsx_runtime.jsx)(StyledButtonContainer,{children:this.props.providers.map((function(provider,idx){return Object(jsx_runtime.jsx)(components_ProviderButton_ProviderButton,{provider:provider,loginEndpoint:_this3.props.loginEndpoint,loginCompleted:_this3.props.loginCompleted},idx)}))})}}]),LoginBox}(react_default.a.Component);LoginBox_LoginBox.__docgenInfo={description:"",methods:[],displayName:"LoginBox",props:{loginEndpoint:{type:{name:"string"},required:!1,description:""},loginCompleted:{type:{name:"func"},required:!0,description:""},loadProviders:{type:{name:"func"},required:!0,description:""},providers:{type:{name:"array"},required:!1,description:""},autoLogin:{type:{name:"string"},required:!1,description:""}}};var components_LoginBox_LoginBox=LoginBox_LoginBox;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/components/LoginBox/LoginBox.js"]={name:"LoginBox",docgenInfo:LoginBox_LoginBox.__docgenInfo,path:"packages/sso-login/src/components/LoginBox/LoginBox.js"});var components_LoginBox=components_LoginBox_LoginBox,mapActionCreators={loadProviders:function loadProviders(){return{type:"root/LOAD_PROVIDERS"}},loginCompleted:function loginCompleted(result){return{type:"root/LOGIN_COMPLETED",payload:{result:result}}}},LoginBoxContainer=Object(es.connect)((function mapStateToProps(state){return{providers:state.ssoLogin.providers,loginEndpoint:state.input.ssoLoginEndpoint,autoLogin:state.input.autoLogin}}),mapActionCreators)(components_LoginBox);function main_createSuper(Derived){var hasNativeReflectConstruct=function main_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}var EXTERNAL_EVENTS=["loginCompleted"],main_ref=Object(jsx_runtime.jsx)(LoginBoxContainer,{}),main_initApp=function initApp(id,input,events,publicPath){var content=main_ref,store=appFactory.a.createStore(modules,sagas,input,"sso-login");return externalEvents.a.addToStore(store,events),cache.a.addToStore(store),appFactory.a.createApp("sso-login",content,store,{input:input,events:events,actions:[],publicPath:publicPath,textResourceModules:["component","common","sso-login"]})},main_SsoLoginApp=function(_React$Component){inherits_default()(SsoLoginApp,_React$Component);var _super=main_createSuper(SsoLoginApp);function SsoLoginApp(props){var _this;classCallCheck_default()(this,SsoLoginApp),_this=_super.call(this,props);var events=EXTERNAL_EVENTS.reduce((function(events,event){return props[event]&&(events[event]=props[event]),events}),{});return _this.app=main_initApp(0,props,events),_this}return createClass_default()(SsoLoginApp,[{key:"render",value:function render(){return this.app.component}}]),SsoLoginApp}(react_default.a.Component);main_SsoLoginApp.__docgenInfo={description:"",methods:[],displayName:"SsoLoginApp",props:{ssoLoginEndpoint:{type:{name:"string"},required:!0,description:""},locale:{type:{name:"string"},required:!1,description:""},autoLogin:{type:{name:"bool"},required:!1,description:""}}};var src_main=main_SsoLoginApp;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/main.js"]={name:"SsoLoginApp",docgenInfo:main_SsoLoginApp.__docgenInfo,path:"packages/sso-login/src/main.js"});var message=__webpack_require__(1977),js_cookie=__webpack_require__(2180),js_cookie_default=__webpack_require__.n(js_cookie),tocco_white=__webpack_require__(5160),tocco_white_default=__webpack_require__.n(tocco_white),StyledHeading=__webpack_require__(236),StyledMisc=__webpack_require__(53),tocco_circle=__webpack_require__(5049),tocco_circle_default=__webpack_require__.n(tocco_circle);function _templateObject9(){var data=taggedTemplateLiteral_default()(["\n  && {\n    color: ",";\n  }\n"]);return _templateObject9=function _templateObject9(){return data},data}function _templateObject8(){var data=taggedTemplateLiteral_default()(["\n  && {\n    display: inline-block;\n    text-align: center;\n    font-weight: ",";\n    width: 100%;\n    color: ",";\n  }\n"]);return _templateObject8=function _templateObject8(){return data},data}function _templateObject7(){var data=taggedTemplateLiteral_default()(["\n  display: none;\n  max-width: 400px;\n  width: 95%;\n  height: auto;\n  position: relative;\n  margin: auto;\n  top: 45px;\n\n  @media (max-width: 1024px) {\n    display: block;\n  }\n\n  @media (max-width: 425px) {\n    max-width: 280px;\n  }\n"]);return _templateObject7=function _templateObject7(){return data},data}function _templateObject6(){var data=taggedTemplateLiteral_default()(["\n  transform: rotate(270deg);\n  position: relative;\n  top: 12.5vw;\n  left: -8%;\n  width: 25vw;\n\n  @media (max-width: 1024px) {\n    display: none;\n  }\n"]);return _templateObject6=function _templateObject6(){return data},data}function _templateObject5(){var data=taggedTemplateLiteral_default()(["\n  max-width: 410px;\n  margin: 6% 5% 0 28%;\n\n  && {\n    .tocco-login * {\n      font-size: ",";\n    }\n\n    @media (max-width: 1024px) {\n      margin: 14rem auto 0;\n      padding-left: 2rem;\n      padding-right: 2rem;\n    }\n\n    @media (max-width: 425px) {\n      margin-top: 12rem;\n    }\n  }\n"]);return _templateObject5=function _templateObject5(){return data},data}function _templateObject4(){var data=taggedTemplateLiteral_default()(["\n  && {\n    text-align: center;\n    font-size: ",";\n    display: inline-block;\n    width: 100%;\n    margin: 1rem 0 1.8rem;\n  }\n"]);return _templateObject4=function _templateObject4(){return data},data}function _templateObject3(){var data=taggedTemplateLiteral_default()(["\n  && {\n    font-size: ",";\n  }\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=taggedTemplateLiteral_default()(["\n  height: 100vh;\n  width: 100vw;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: 61vw;\n  background-position-y: -25vw;\n  background-position-x: -41vw;\n\n  .tocco-sso-login {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1.8rem;\n  }\n\n  @media (max-width: 1024px) {\n    background-size: 2000px;\n    background-position: 50% -1850px;\n  }\n\n  @media (max-width: 425px) {\n    background-position: 50% -1890px;\n  }\n"]);return _templateObject2=function _templateObject2(){return data},data}function StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  @media (max-width: 1024px) {\n    body {\n      overflow: auto !important;\n    }\n  }\n"]);return StyledComponents_templateObject=function _templateObject(){return data},data}var GlobalBodyStyle=Object(styled_components_browser_esm.createGlobalStyle)(StyledComponents_templateObject()),StyledLogin=styled_components_browser_esm.default.div(_templateObject2(),tocco_circle_default.a),StyledHeadingLogin=Object(styled_components_browser_esm.default)(StyledHeading.a)(_templateObject3(),modularScale.a.font(11)),StyledSpanLogin=Object(styled_components_browser_esm.default)(StyledMisc.p)(_templateObject4(),modularScale.a.font(1.3)),StyledLoginWrapper=styled_components_browser_esm.default.div(_templateObject5(),modularScale.a.font(1.3)),StyledSloganImg=styled_components_browser_esm.default.img(_templateObject6()),StyledMobileSloganImg=styled_components_browser_esm.default.img(_templateObject7()),StyledSsoMsg=Object(styled_components_browser_esm.default)(StyledMisc.p)(_templateObject8(),resolveThemePath.a.fontWeight("bold"),resolveThemePath.a.color("signal.info.text")),StyledSsoError=Object(styled_components_browser_esm.default)(StyledSsoMsg)(_templateObject9(),resolveThemePath.a.color("signal.danger.text")),_ref5=Object(jsx_runtime.jsx)(StyledSsoMsg,{breakWords:!0,children:Object(jsx_runtime.jsx)(message.a,{id:"client.sso-login.registration"})}),Login_ref6=Object(jsx_runtime.jsx)(StyledSsoError,{breakWords:!0,children:Object(jsx_runtime.jsx)(message.a,{id:"client.sso-login.error"})}),_ref7=Object(jsx_runtime.jsx)(StyledSpanLogin,{children:Object(jsx_runtime.jsx)(message.a,{id:"client.admin.loginChoice"})}),_ref8=Object(jsx_runtime.jsx)(GlobalBodyStyle,{}),_ref9=Object(jsx_runtime.jsx)(StyledMobileSloganImg,{src:tocco_white_default.a,alt:"Tocco Slogan",height:"42.3",width:"460"}),_ref10=Object(jsx_runtime.jsx)(StyledSloganImg,{src:tocco_white_default.a,alt:"Tocco Slogan",height:"42.3",width:"460"}),_ref11=Object(jsx_runtime.jsx)(StyledHeadingLogin,{children:Object(jsx_runtime.jsx)(message.a,{id:"client.admin.welcomeTitle"})}),Login_Login=function Login(_ref){var ssoAvailable=_ref.ssoAvailable,loginSuccessful=_ref.loginSuccessful,checkSsoAvailable=_ref.checkSsoAvailable,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),showError=_useState2[0],setShowError=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),showRegistrationText=_useState4[0],setShowRegistrationText=_useState4[1],autoLogin=js_cookie_default.a.get("sso-autologin");Object(react.useEffect)((function(){checkSsoAvailable()}),[]);var _ref4=Object(jsx_runtime.jsx)(src_main,{ssoLoginEndpoint:"/sso",loginCompleted:function ssoLoginCompleted(_ref3){var successful=_ref3.successful,provider=_ref3.provider,registration=_ref3.registration;successful?(js_cookie_default.a.set("sso-autologin",provider,{expires:365}),loginSuccessful(30)):!successful&&registration?setShowRegistrationText(!0):setShowError(!0)},autoLogin:autoLogin}),SsoLoginPart=function SsoLoginPart(){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[_ref4,showRegistrationText&&_ref5,showError&&Login_ref6,_ref7]})};return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[_ref8,Object(jsx_runtime.jsxs)(StyledLogin,{children:[_ref9,_ref10,Object(jsx_runtime.jsxs)(StyledLoginWrapper,{children:[_ref11,ssoAvailable&&Object(jsx_runtime.jsx)(SsoLoginPart,{}),Object(jsx_runtime.jsx)(main.b,{loginSuccess:function loginSuccess(_ref2){var timeout=_ref2.timeout;loginSuccessful(timeout)},showTitle:!1})]})]})]})};Login_Login.__docgenInfo={description:"",methods:[],displayName:"Login",props:{ssoAvailable:{type:{name:"bool"},required:!1,description:""},loginSuccessful:{type:{name:"func"},required:!0,description:""},checkSsoAvailable:{type:{name:"func"},required:!0,description:""}}};var components_Login_Login=Login_Login;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Login/Login.js"]={name:"Login",docgenInfo:Login_Login.__docgenInfo,path:"packages/admin/src/components/Login/Login.js"});var actions=__webpack_require__(185),LoginContainer_mapActionCreators={loginSuccessful:actions.p,checkSsoAvailable:actions.l},LoginContainer=Object(es.connect)((function mapStateToProps(state,props){return{ssoAvailable:state.session.ssoAvailable}}),LoginContainer_mapActionCreators)(Object(injectIntl.c)(components_Login_Login)),navigation_actions=__webpack_require__(120),preferences_actions=__webpack_require__(274),react_router=(__webpack_require__(485),__webpack_require__(76),__webpack_require__(199),__webpack_require__(100)),history_es=__webpack_require__(5199),GlobalStyles=__webpack_require__(4993),BurgerButton=__webpack_require__(2275),viewPersistor=__webpack_require__(4996),utils_navigationStrategy=__webpack_require__(4997),SearchBox=(__webpack_require__(575),__webpack_require__(710)),declareFont=(__webpack_require__(81),__webpack_require__(82));function StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  margin-bottom: ",";\n\n  > div {\n    margin-bottom: ",";\n  }\n"]);return StyledComponents_templateObject2=function _templateObject2(){return data},data}function MenuTree_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  ","\n  position: relative;\n\n  && {\n    padding-left: ","px;\n    line-height: ",";\n  }\n  ","\n"]);return MenuTree_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledMenuEntry=styled_components_browser_esm.default.div(MenuTree_StyledComponents_templateObject(),Object(declareFont.a)(),(function(_ref){return 8*_ref.level}),resolveThemePath.a.lineHeight("light"),(function(_ref2){return 0===_ref2.childrenCount&&"margin-bottom: 0 !important"})),StyledMenuEntryWrapper=styled_components_browser_esm.default.div(StyledComponents_templateObject2(),modularScale.a.space(.6),modularScale.a.space(1)),MenuItem_MenuItem=function MenuItem(_ref){var _item$children,_item$children2,item=_ref.item,_ref$menuTreePath=_ref.menuTreePath,menuTreePath=void 0===_ref$menuTreePath?"":_ref$menuTreePath,typeMapping=_ref.typeMapping,mappedType=typeMapping[item.menuType];if(!mappedType)return null;var Component=mappedType.component,ChildrenWrapperComponent=mappedType.childrenWrapperComponent,MenuItems=null===(_item$children=item.children)||void 0===_item$children?void 0:_item$children.map((function(child){return Object(jsx_runtime.jsx)(MenuItem,{item:child,typeMapping:typeMapping,menuTreePath:"".concat(menuTreePath,".").concat(child.name)},child.name)}));return Object(jsx_runtime.jsxs)(StyledMenuEntry,Object.assign({},item,{childrenCount:(null===(_item$children2=item.children)||void 0===_item$children2?void 0:_item$children2.length)||0,"data-cy":"admin-menuitem-".concat(item.name),children:[Object(jsx_runtime.jsx)(Component,Object.assign({item:item,menuTreePath:menuTreePath},mappedType.props)),(null==MenuItems?void 0:MenuItems.length)>0&&Object(jsx_runtime.jsx)(ChildrenWrapperComponent,Object.assign({item:item,menuTreePath:menuTreePath},mappedType.props,{children:MenuItems}))]}))};MenuItem_MenuItem.displayName="MenuItem",MenuItem_MenuItem.__docgenInfo={description:"",methods:[],displayName:"MenuItem",props:{menuTreePath:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},item:{type:{name:"shape",value:{name:{name:"string",required:!1},menuType:{name:"string",required:!1},children:{name:"array",required:!1},level:{name:"number",required:!1}}},required:!0,description:""},typeMapping:{type:{name:"objectOf",value:{name:"shape",value:{component:{name:"elementType",required:!0},childrenWrapperComponent:{name:"elementType",required:!0},filterAttribute:{name:"arrayOf",value:{name:"string"},required:!1},props:{name:"object",required:!1}}}},required:!1,description:""}}};var MenuTree_MenuItem=MenuItem_MenuItem;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/MenuTree/MenuItem.js"]={name:"MenuItem",docgenInfo:MenuItem_MenuItem.__docgenInfo,path:"packages/admin/src/components/MenuTree/MenuItem.js"});__webpack_require__(106),__webpack_require__(142),__webpack_require__(83);var getMenuPreferencesKey=function getMenuPreferencesKey(preferencesPrefix,menuTreePath){return"admintree".concat(preferencesPrefix?".".concat(preferencesPrefix):"",".").concat(menuTreePath,".collapsed")},MenuTree_MenuTree=function MenuTree(_ref){var items=_ref.items,searchFilter=_ref.searchFilter,typeMapping=_ref.typeMapping;if(_ref.requireSearch&&!searchFilter)return null;if(!items||0===items.length)return null;var MenuItems=function prepareMenuTree(items,searchFilter,typeMapping){var level=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,isParentMatching=arguments.length>4&&void 0!==arguments[4]&&arguments[4],includeInTree=function includeInTree(item){var _item$children;return!searchFilter||item.matchingAttribute||(null===(_item$children=item.children)||void 0===_item$children?void 0:_item$children.length)>0||isParentMatching},getMatchingAttribute=function getMatchingAttribute(item,filterAttributes){return searchFilter?filterAttributes.find((function(attr){return item[attr]&&item[attr].toLowerCase().includes(null==searchFilter?void 0:searchFilter.toLowerCase())})):void 0};return items.map((function(item){var _mappedType$filterAtt=(typeMapping[item.menuType]||{}).filterAttributes,matchingAttribute=getMatchingAttribute(item,void 0===_mappedType$filterAtt?[]:_mappedType$filterAtt),itemMatching=Boolean(matchingAttribute),children=prepareMenuTree(item.children||[],searchFilter,typeMapping,level+1,itemMatching);return Object.assign({},item,{matchingAttribute:matchingAttribute,children:children,level:level})})).filter(includeInTree)}(items,searchFilter,typeMapping).map((function(item){return Object(jsx_runtime.jsx)(MenuTree_MenuItem,{item:item,typeMapping:typeMapping,menuTreePath:item.name},item.name)}));return Object(jsx_runtime.jsx)(StyledMenuEntryWrapper,{children:MenuItems})};MenuTree_MenuTree.displayName="MenuTree",MenuTree_MenuTree.__docgenInfo={description:"",methods:[],displayName:"MenuTree",props:{items:{type:{name:"array"},required:!1,description:""},searchFilter:{type:{name:"string"},required:!1,description:""},typeMapping:{type:{name:"objectOf",value:{name:"shape",value:{component:{name:"elementType",required:!0},childrenWrapperComponent:{name:"elementType",required:!0},filterAttribute:{name:"arrayOf",value:{name:"string"},required:!1},props:{name:"object",required:!1}}}},required:!1,description:""},requireSearch:{type:{name:"bool"},required:!1,description:""}}};var components_MenuTree_MenuTree=react_default.a.memo(MenuTree_MenuTree);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/MenuTree/MenuTree.js"]={name:"MenuTree",docgenInfo:MenuTree_MenuTree.__docgenInfo,path:"packages/admin/src/components/MenuTree/MenuTree.js"});var components_MenuTree=components_MenuTree_MenuTree,StyledSearchBox=__webpack_require__(707),StyledScrollbar=__webpack_require__(953),Button=__webpack_require__(72);function StyledComponents_templateObject7(){var data=taggedTemplateLiteral_default()(["\n  height: 50px;\n  padding-bottom: ",";\n"]);return StyledComponents_templateObject7=function _templateObject7(){return data},data}function StyledComponents_templateObject6(){var data=taggedTemplateLiteral_default()(["\n  overflow: hidden;\n  flex: ",";\n  justify-content: center;\n  border-radius: 0;\n  margin: 5px;\n  border-top: 5px solid ",";\n  color: ",";\n  font-weight: ",";\n\n  &:hover {\n    border-color: ",";\n    background-color: transparent;\n    color: ",";\n  }\n\n  &:focus {\n    background-color: transparent;\n  }\n\n  & > * {\n    display: inline-block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]);return StyledComponents_templateObject6=function _templateObject6(){return data},data}function StyledComponents_templateObject5(){var data=taggedTemplateLiteral_default()(["\n  font-size: ",";\n  justify-content: center;\n  border-radius: 0;\n  margin: 12px 5px 5px;\n\n  &:hover {\n    background-color: transparent;\n    color: ",";\n  }\n"]);return StyledComponents_templateObject5=function _templateObject5(){return data},data}function StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  margin-bottom: 10px;\n  border-bottom: 3px solid ",";\n\n  &:focus {\n    background-color: transparent;\n  }\n\n  span {\n    padding-top: .4rem;\n    padding-bottom: .4rem;\n  }\n"]);return StyledComponents_templateObject4=function _templateObject4(){return data},data}function StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  display: inline-block;\n  color: ",";\n  font-weight: ",";\n  margin-bottom: ",";\n  margin-top: ",";\n"]);return StyledComponents_templateObject3=function _templateObject3(){return data},data}function Navigation_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  height: 100%;\n  overflow: auto;\n  padding: "," "," 0 ",";\n  ","\n"]);return Navigation_StyledComponents_templateObject2=function _templateObject2(){return data},data}function Navigation_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    margin: 1.5rem 3rem 1.8rem 1.8rem;\n  }\n"]);return Navigation_StyledComponents_templateObject=function _templateObject(){return data},data}var secondary=resolveThemePath.a.color("secondary"),secondaryLight=resolveThemePath.a.color("secondaryLight"),StyledNav=styled_components_browser_esm.default.nav(Navigation_StyledComponents_templateObject(),StyledSearchBox.a),StyledMenuWrapper=styled_components_browser_esm.default.div(Navigation_StyledComponents_templateObject2(),modularScale.a.space(.6),modularScale.a.space(.6),modularScale.a.space(.6),StyledScrollbar.a),StyledTabsContainer=(styled_components_browser_esm.default.span(StyledComponents_templateObject3(),resolveThemePath.a.color("text"),resolveThemePath.a.fontWeight("bold"),modularScale.a.space(-1.2),modularScale.a.space(-1.2)),styled_components_browser_esm.default.div(StyledComponents_templateObject4(),resolveThemePath.a.color("backgroundBody"))),StyledNavSwitchButton=Object(styled_components_browser_esm.default)(Button.a)(StyledComponents_templateObject5(),modularScale.a.font(0),secondaryLight),StyledNavButton=Object(styled_components_browser_esm.default)(Button.a)(StyledComponents_templateObject6(),(function(_ref){return _ref.narrow?.2:1}),(function(_ref2){return _ref2.active?secondary:"transparent"}),(function(_ref3){return _ref3.active?secondary:secondaryLight}),resolveThemePath.a.fontWeight("bold"),(function(_ref4){return _ref4.active?secondary:secondaryLight}),(function(_ref5){return _ref5.active?secondary:secondaryLight})),StyledSearchBoxWrapper=styled_components_browser_esm.default.div(StyledComponents_templateObject7(),modularScale.a.space(-.5)),react_router_dom=__webpack_require__(1383);function menuType_StyledComponents_templateObject6(){var data=taggedTemplateLiteral_default()(["\n  display: ",";\n"]);return menuType_StyledComponents_templateObject6=function _templateObject6(){return data},data}function menuType_StyledComponents_templateObject5(){var data=taggedTemplateLiteral_default()(["\n  color: ",";\n  font-weight: ",";\n  margin-bottom: ",";\n  margin-top: ",";\n  display: flex;\n\n  &:hover {\n    ","\n\n    "," {\n      display: block;\n    }\n  }\n"]);return menuType_StyledComponents_templateObject5=function _templateObject5(){return data},data}function menuType_StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  display: none;\n  margin-left: ",";\n\n  &:hover {\n    color: ",";\n  }\n"]);return menuType_StyledComponents_templateObject4=function _templateObject4(){return data},data}function menuType_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  display: inline-block;\n  padding-top: ",";\n  padding-bottom: ",";\n\n  &:hover "," {\n    opacity: 1;\n  }\n"]);return menuType_StyledComponents_templateObject3=function _templateObject3(){return data},data}function menuType_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  opacity: 0;\n  color: ",";\n  text-decoration: none;\n  position: relative;\n  margin-left: ",";\n\n  &:hover,\n  &:focus {\n    color: ",";\n  }\n\n  &:focus {\n    opacity: 1;\n    outline: none;\n  }\n"]);return menuType_StyledComponents_templateObject2=function _templateObject2(){return data},data}function menuType_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    font-weight: ",";\n    color: ",";\n  }\n\n  &.active {\n    text-decoration: underline;\n  }\n"]);return menuType_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledComponents_secondaryLight=resolveThemePath.a.color("secondaryLight"),StyledMenuLink=Object(styled_components_browser_esm.default)(react_router_dom.a)(menuType_StyledComponents_templateObject(),resolveThemePath.a.color("text"),resolveThemePath.a.color("secondaryLight"),resolveThemePath.a.fontWeight("bold"),StyledComponents_secondaryLight),StyledIconLink=Object(styled_components_browser_esm.default)(react_router_dom.a)(menuType_StyledComponents_templateObject2(),resolveThemePath.a.color("text"),modularScale.a.space(-1),resolveThemePath.a.color("secondaryLight")),StyledMenuLinkWrapper=styled_components_browser_esm.default.span(menuType_StyledComponents_templateObject3(),modularScale.a.space(-2),modularScale.a.space(-2),StyledIconLink),StyledTogglerIconWrapper=styled_components_browser_esm.default.span(menuType_StyledComponents_templateObject4(),modularScale.a.space(-1),resolveThemePath.a.color("secondaryLight")),menuType_StyledComponents_StyledMenuEntry=styled_components_browser_esm.default.span(menuType_StyledComponents_templateObject5(),resolveThemePath.a.color("text"),resolveThemePath.a.fontWeight("bold"),modularScale.a.space(-1.2),modularScale.a.space(-1.2),(function(_ref){return _ref.onClick?"cursor: pointer;":"cursor: auto;"}),StyledTogglerIconWrapper),StyledMenuChildrenWrapper=styled_components_browser_esm.default.div(menuType_StyledComponents_templateObject6(),(function(_ref2){return _ref2.isOpen?"block":"none"})),ActionEntry_ref2=Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"external-link"}),ActionEntry_ActionEntry=function ActionEntry(_ref){var onClick=_ref.onClick,item=_ref.item;return Object(jsx_runtime.jsxs)(StyledMenuLinkWrapper,{children:[Object(jsx_runtime.jsx)(StyledMenuLink,{"data-quick-navigation":!0,onClick:onClick,to:"/e/action/".concat(item.name),children:item.label}),Object(jsx_runtime.jsx)(StyledIconLink,{to:"/e/action/".concat(item.name),target:"_blank",rel:"noreferrer",children:ActionEntry_ref2})]})};ActionEntry_ActionEntry.displayName="ActionEntry",ActionEntry_ActionEntry.__docgenInfo={description:"",methods:[],displayName:"ActionEntry",props:{item:{type:{name:"shape",value:{name:{name:"string",required:!0},label:{name:"string",required:!0}}},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var menuType_ActionEntry=ActionEntry_ActionEntry;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Navigation/menuType/ActionEntry.js"]={name:"ActionEntry",docgenInfo:ActionEntry_ActionEntry.__docgenInfo,path:"packages/admin/src/components/Navigation/menuType/ActionEntry.js"});var EntityExplorerEntry_ref2=Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"external-link"}),EntityExplorerEntry_EntityExplorerEntry=function EntityExplorerEntry(_ref){var onClick=_ref.onClick,item=_ref.item,entityNameDisplay="entity"===item.matchingAttribute?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" (",item.entity,")"]}):"";return Object(jsx_runtime.jsxs)(StyledMenuLinkWrapper,{children:[Object(jsx_runtime.jsxs)(StyledMenuLink,{"data-quick-navigation":!0,onClick:onClick,to:"/e/".concat(item.entity),children:[item.label,entityNameDisplay]}),Object(jsx_runtime.jsx)(StyledIconLink,{to:"/e/".concat(item.entity),target:"_blank",rel:"noreferrer",children:EntityExplorerEntry_ref2})]})};EntityExplorerEntry_EntityExplorerEntry.displayName="EntityExplorerEntry",EntityExplorerEntry_EntityExplorerEntry.__docgenInfo={description:"",methods:[],displayName:"EntityExplorerEntry",props:{item:{type:{name:"shape",value:{entity:{name:"string",required:!1},label:{name:"string",required:!1},matchingAttribute:{name:"string",required:!1}}},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var menuType_EntityExplorerEntry=EntityExplorerEntry_EntityExplorerEntry;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Navigation/menuType/EntityExplorerEntry.js"]={name:"EntityExplorerEntry",docgenInfo:EntityExplorerEntry_EntityExplorerEntry.__docgenInfo,path:"packages/admin/src/components/Navigation/menuType/EntityExplorerEntry.js"});var MenuEntry_MenuEntry=function MenuEntry(props){var item=props.item,isOpen=props.isOpen,canCollapse=props.canCollapse,preferencesPrefix=props.preferencesPrefix,menuTreePath=props.menuTreePath,saveUserPreferences=props.saveUserPreferences,toggleMenyEntryCollapsed=function toggleMenyEntryCollapsed(){saveUserPreferences(getMenuPreferencesKey(preferencesPrefix,menuTreePath),isOpen)};return Object(jsx_runtime.jsxs)(menuType_StyledComponents_StyledMenuEntry,Object.assign({},canCollapse?{onClick:toggleMenyEntryCollapsed}:{},{children:[Object(jsx_runtime.jsx)("span",{children:item.label}),canCollapse&&Object(jsx_runtime.jsx)(StyledTogglerIconWrapper,{children:Object(jsx_runtime.jsx)(LazyIcon.a,{icon:isOpen?"chevron-up":"chevron-down",onClick:toggleMenyEntryCollapsed})})]}))};MenuEntry_MenuEntry.displayName="MenuEntry",MenuEntry_MenuEntry.__docgenInfo={description:"",methods:[],displayName:"MenuEntry",props:{item:{type:{name:"shape",value:{label:{name:"string",required:!1},name:{name:"string",required:!1}}},required:!0,description:""},canCollapse:{type:{name:"bool"},required:!0,description:""},saveUserPreferences:{type:{name:"func"},required:!0,description:""},menuTreePath:{type:{name:"string"},required:!0,description:""},isOpen:{type:{name:"bool"},required:!1,description:""},preferencesPrefix:{type:{name:"string"},required:!1,description:""}}};var menuType_MenuEntry=MenuEntry_MenuEntry;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Navigation/menuType/MenuEntry.js"]={name:"MenuEntry",docgenInfo:MenuEntry_MenuEntry.__docgenInfo,path:"packages/admin/src/components/Navigation/menuType/MenuEntry.js"});var selectors_menuIsOpenPrefrencesSelector=function menuIsOpenPrefrencesSelector(state,_ref){var canCollapse=_ref.canCollapse,preferencesPrefix=_ref.preferencesPrefix,menuTreePath=_ref.menuTreePath;return canCollapse?!get_default()(state.preferences.userPreferences,getMenuPreferencesKey(preferencesPrefix,menuTreePath),!0):void 0},MenuEntryContainer_mapActionCreators={saveUserPreferences:preferences_actions.f},MenuEntryContainer=Object(es.connect)((function mapStateToProps(state,props){return{isOpen:selectors_menuIsOpenPrefrencesSelector(state,props)}}),MenuEntryContainer_mapActionCreators)(Object(injectIntl.c)(menuType_MenuEntry)),MenuChildrenWrapper_MenuChildrenWrapper=function MenuChildrenWrapper(_ref){var isOpen=_ref.isOpen,canCollapse=_ref.canCollapse,children=_ref.children;return Object(jsx_runtime.jsx)(StyledMenuChildrenWrapper,{isOpen:!canCollapse||isOpen,children:children})};MenuChildrenWrapper_MenuChildrenWrapper.displayName="MenuChildrenWrapper",MenuChildrenWrapper_MenuChildrenWrapper.__docgenInfo={description:"",methods:[],displayName:"MenuChildrenWrapper",props:{menuTreePath:{type:{name:"string"},required:!0,description:""},canCollapse:{type:{name:"bool"},required:!0,description:""},children:{type:{name:"any"},required:!1,description:""},isOpen:{type:{name:"bool"},required:!1,description:""}}};var menuType_MenuChildrenWrapper=MenuChildrenWrapper_MenuChildrenWrapper;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Navigation/menuType/MenuChildrenWrapper.js"]={name:"MenuChildrenWrapper",docgenInfo:MenuChildrenWrapper_MenuChildrenWrapper.__docgenInfo,path:"packages/admin/src/components/Navigation/menuType/MenuChildrenWrapper.js"});var MenuChildrenWrapperContainer=Object(es.connect)((function mapStateToProps(state,props){return{isOpen:selectors_menuIsOpenPrefrencesSelector(state,props)}}))(Object(injectIntl.c)(menuType_MenuChildrenWrapper)),tabs_MODULES="modules",tabs_SETTINGS="settings",tabs_SYSTEM="system",tabs_COMPLETE="complete",Navigation_createMenuTypeMap=function createMenuTypeMap(_ref){var onClick=_ref.onClick,hasFilterApplied=_ref.hasFilterApplied,preferencesPrefix=_ref.preferencesPrefix,canCollapse=!hasFilterApplied&&void 0!==preferencesPrefix;return{menu:{component:MenuEntryContainer,childrenWrapperComponent:MenuChildrenWrapperContainer,filterAttributes:["label"],props:{preferencesPrefix:preferencesPrefix,canCollapse:canCollapse}},"entity-explorer":{component:menuType_EntityExplorerEntry,childrenWrapperComponent:MenuChildrenWrapperContainer,props:{onClick:onClick,preferencesPrefix:preferencesPrefix,canCollapse:canCollapse},filterAttributes:["label","entity"]},action:{component:menuType_ActionEntry,childrenWrapperComponent:MenuChildrenWrapperContainer,props:{onClick:onClick,preferencesPrefix:preferencesPrefix,canCollapse:canCollapse},filterAttributes:["label"]}}},Navigation_Navigation=function Navigation(_ref2){var modulesMenuTree=_ref2.modulesMenuTree,settingsMenuTree=_ref2.settingsMenuTree,systemMenuTree=_ref2.systemMenuTree,completeMenuTree=_ref2.completeMenuTree,menuOpen=_ref2.menuOpen,onClick=_ref2.onClick,activeMenuTab=_ref2.activeMenuTab,setActiveMenuTab=_ref2.setActiveMenuTab,intl=_ref2.intl,setVisibleMenus=_ref2.setVisibleMenus,visibleMenus=_ref2.visibleMenus,inputEl=Object(react.useRef)(null),navigationEl=Object(react.useRef)(null),_useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),filter=_useState2[0],setFilter=_useState2[1],hasFilterApplied=Boolean(filter),modulesTypeMap=Object(react.useMemo)((function(){return Navigation_createMenuTypeMap({onClick:onClick,hasFilterApplied:hasFilterApplied,preferencesPrefix:""})}),[onClick,hasFilterApplied]),settingsTypeMap=Object(react.useMemo)((function(){return Navigation_createMenuTypeMap({onClick:onClick,hasFilterApplied:hasFilterApplied,preferencesPrefix:"settings"})}),[onClick,hasFilterApplied]),systemTypeMap=Object(react.useMemo)((function(){return Navigation_createMenuTypeMap({onClick:onClick,hasFilterApplied:hasFilterApplied})}),[onClick,hasFilterApplied]),completeTypeMap=Object(react.useMemo)((function(){return Navigation_createMenuTypeMap({onClick:onClick,hasFilterApplied:hasFilterApplied})}),[onClick,hasFilterApplied]);Object(react.useEffect)((function(){menuOpen&&(activeMenuTab||setActiveMenuTab(tabs_MODULES),inputEl.current.select(),inputEl.current.focus())}),[menuOpen]);var msg=function msg(id){return intl.formatMessage({id:id})};return Object(jsx_runtime.jsxs)(StyledNav,{ref:navigationEl,onKeyDown:function onKeyDown(e){"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),function handleCursorNavigation(key){var focusableElements=navigationEl.current.querySelectorAll('a[data-quick-navigation="true"], input'),currentIdx=toConsumableArray_default()(focusableElements).findIndex((function(el){return document.activeElement.isEqualNode(el)}));currentIdx>-1&&focusableElements[(currentIdx+("ArrowDown"===key?1:focusableElements.length-1))%focusableElements.length].focus()}(e.key))},"data-cy":"admin-nav",children:[Object(jsx_runtime.jsxs)(StyledTabsContainer,{children:["main"===visibleMenus&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(StyledNavSwitchButton,{active:!1,onClick:function onClick(){setVisibleMenus("additional"),setActiveMenuTab(tabs_COMPLETE)},icon:"chevron-right",narrow:!0}),Object(jsx_runtime.jsx)(StyledNavButton,{active:activeMenuTab===tabs_MODULES,onClick:function onClick(){return setActiveMenuTab(tabs_MODULES)},label:msg("client.admin.navigation.modules")}),Object(jsx_runtime.jsx)(StyledNavButton,{active:activeMenuTab===tabs_SETTINGS,onClick:function onClick(){return setActiveMenuTab(tabs_SETTINGS)},label:msg("client.admin.navigation.settings")})]}),"additional"===visibleMenus&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(StyledNavSwitchButton,{active:!1,onClick:function onClick(){setVisibleMenus("main"),setActiveMenuTab(tabs_MODULES)},icon:"chevron-left",narrow:!0}),Object(jsx_runtime.jsx)(StyledNavButton,{active:activeMenuTab===tabs_SYSTEM,onClick:function onClick(){return setActiveMenuTab(tabs_SYSTEM)},label:msg("client.admin.navigation.system")}),Object(jsx_runtime.jsx)(StyledNavButton,{active:activeMenuTab===tabs_COMPLETE,onClick:function onClick(){return setActiveMenuTab(tabs_COMPLETE)},label:msg("client.admin.navigation.complete")})]})]}),Object(jsx_runtime.jsx)(StyledSearchBoxWrapper,{children:Object(jsx_runtime.jsx)(SearchBox.a,{minInputLength:2,onSearch:setFilter,ref:inputEl,placeholder:msg("client.admin.navigation.searchBoxPlaceHolder"),"aria-label":msg("client.admin.navigation.searchBoxPlaceHolder")})}),activeMenuTab===tabs_MODULES&&Object(jsx_runtime.jsx)(StyledMenuWrapper,{children:Object(jsx_runtime.jsx)(components_MenuTree,{items:modulesMenuTree,searchFilter:filter,typeMapping:modulesTypeMap})}),activeMenuTab===tabs_SETTINGS&&Object(jsx_runtime.jsx)(StyledMenuWrapper,{children:Object(jsx_runtime.jsx)(components_MenuTree,{items:settingsMenuTree,searchFilter:filter,typeMapping:settingsTypeMap})}),activeMenuTab===tabs_SYSTEM&&Object(jsx_runtime.jsx)(StyledMenuWrapper,{children:Object(jsx_runtime.jsx)(components_MenuTree,{items:systemMenuTree,searchFilter:filter,typeMapping:systemTypeMap})}),activeMenuTab===tabs_COMPLETE&&Object(jsx_runtime.jsx)(StyledMenuWrapper,{children:Object(jsx_runtime.jsx)(components_MenuTree,{items:completeMenuTree,searchFilter:filter,typeMapping:completeTypeMap,requireSearch:!0})})]})};Navigation_Navigation.displayName="Navigation",Navigation_Navigation.__docgenInfo={description:"",methods:[],displayName:"Navigation",props:{intl:{type:{name:"object"},required:!0,description:""},activeMenuTab:{type:{name:"string"},required:!0,description:""},settingsMenuTree:{type:{name:"array"},required:!1,description:""},modulesMenuTree:{type:{name:"array"},required:!1,description:""},systemMenuTree:{type:{name:"array"},required:!1,description:""},completeMenuTree:{type:{name:"array"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""},setActiveMenuTab:{type:{name:"func"},required:!1,description:""},menuOpen:{type:{name:"bool"},required:!1,description:""},visibleMenus:{type:{name:"string"},required:!1,description:""},setVisibleMenus:{type:{name:"func"},required:!1,description:""}}};var components_Navigation_Navigation=Navigation_Navigation;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Navigation/Navigation.js"]={name:"Navigation",docgenInfo:Navigation_Navigation.__docgenInfo,path:"packages/admin/src/components/Navigation/Navigation.js"});var NavigationContainer_mapActionCreators={setActiveMenuTab:navigation_actions.l,setVisibleMenus:navigation_actions.r},components_Navigation=Object(es.connect)((function mapStateToProps(state,props){return{settingsMenuTree:state.navigation.settingsMenuTree,modulesMenuTree:state.navigation.modulesMenuTree,systemMenuTree:state.navigation.systemMenuTree,completeMenuTree:state.navigation.completeMenuTree,menuOpen:state.navigation.menuOpen,activeMenuTab:state.navigation.activeMenuTab,visibleMenus:state.navigation.visibleMenus}}),NavigationContainer_mapActionCreators)(Object(injectIntl.c)(components_Navigation_Navigation)),actionEmitter=__webpack_require__(77),setDashboard=function setDashboard(infoBoxes){return{type:"dashboard/SET_DASHBOARD",payload:{infoBoxes:infoBoxes}}},dragAndDrop=(__webpack_require__(65),__webpack_require__(69),__webpack_require__(921)),resize=__webpack_require__(2220);function Dashboard_StyledComponents_templateObject5(){var data=taggedTemplateLiteral_default()(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 2;\n  background: ",";\n  opacity: ",";\n  height: 3px;\n  cursor: row-resize;\n"]);return Dashboard_StyledComponents_templateObject5=function _templateObject5(){return data},data}function Dashboard_StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  position: relative;\n  width: 100%;\n  margin: ",";\n"]);return Dashboard_StyledComponents_templateObject4=function _templateObject4(){return data},data}function Dashboard_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  width: 50%;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  position: relative;\n"]);return Dashboard_StyledComponents_templateObject3=function _templateObject3(){return data},data}function Dashboard_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  flex-wrap: nowrap;\n"]);return Dashboard_StyledComponents_templateObject2=function _templateObject2(){return data},data}function Dashboard_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  height: 100%;\n  background: ",";\n  padding: ",";\n  overflow: auto;\n  ","\n  box-sizing: border-box;\n"]);return Dashboard_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledDashboardWrapper=styled_components_browser_esm.default.div(Dashboard_StyledComponents_templateObject(),resolveThemePath.a.color("paper"),modularScale.a.space(-.5),StyledScrollbar.a),StyledColumnWrapper=styled_components_browser_esm.default.div(Dashboard_StyledComponents_templateObject2()),StyledColumn=styled_components_browser_esm.default.div(Dashboard_StyledComponents_templateObject3()),StyledInfoBoxWrapper=styled_components_browser_esm.default.div(Dashboard_StyledComponents_templateObject4(),modularScale.a.space(-.5)),StyledResizeHandle=styled_components_browser_esm.default.div(Dashboard_StyledComponents_templateObject5(),(function(_ref){var theme=_ref.theme;return Object(declareInteractionColors.f)(get_default()(theme,"colors.paper"),3)}),(function(_ref2){return _ref2.isReszing?1:0})),dropTypes={Column:"Column",InfoBox:"InfoBox"},curry=__webpack_require__(5161),curry_default=__webpack_require__.n(curry),flow=__webpack_require__(5177),flow_default=__webpack_require__.n(flow),InfoBoxRenderTypes_InfoBox=(__webpack_require__(257),"InfoBox"),InfoBoxRenderTypes_DropPreview="DropPreview",sortInfoBoxes=function sortInfoBoxes(boxes){return boxes.sort((function(a,b){return a.col===b.col?a.row-b.row:a.col-b.col}))},reindex=curry_default()((function(sortedBoxes){return sortedBoxes.reduce((function(_ref,box){var index=_ref.index,boxes=_ref.boxes,nextIndex="number"==typeof index[box.col]?index[box.col]+1:0;return{boxes:[].concat(toConsumableArray_default()(boxes),[Object.assign({},box,{row:nextIndex})]),index:Object.assign({},index,defineProperty_default()({},box.col,nextIndex))}}),{index:{},boxes:[]}).boxes})),insertDraggedAtDropped=curry_default()((function(draggingId,dragOverId,position,sortedBoxes){var _sortedBoxes$find,dragOverColumn=null===(_sortedBoxes$find=sortedBoxes.find((function(b){return b.id===dragOverId})))||void 0===_sortedBoxes$find?void 0:_sortedBoxes$find.col,draggingBox=sortedBoxes.find((function(b){return b.id===draggingId}));return reindex(sortedBoxes.reduce((function(boxes,box){var moveBoxHere=box.id===dragOverId;return box.id===draggingId?boxes:[].concat(toConsumableArray_default()(boxes),toConsumableArray_default()(position===dragAndDrop.a.DropPosition.Top&&moveBoxHere?[Object.assign({},draggingBox,{col:dragOverColumn,row:-1})]:[]),[box],toConsumableArray_default()(position===dragAndDrop.a.DropPosition.Bottom&&moveBoxHere?[Object.assign({},draggingBox,{col:dragOverColumn,row:-1})]:[]))}),[]))})),BallMenu=__webpack_require__(4968),Menu_MenuItem=__webpack_require__(383);function Menu_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  justify-content: flex-end;\n"]);return Menu_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledComponents_StyledMenuWrapper=styled_components_browser_esm.default.div(Menu_StyledComponents_templateObject()),Menu_ref2=Object(jsx_runtime.jsx)(message.a,{id:"client.dashboard.preferences.show"}),Menu_ref3=Object(jsx_runtime.jsx)(message.a,{id:"client.dashboard.preferences.reset"}),Menu_Menu=function Menu(_ref){var displayInfoBoxSettings=_ref.displayInfoBoxSettings,resetInfoBoxSettings=_ref.resetInfoBoxSettings;return Object(jsx_runtime.jsx)(StyledComponents_StyledMenuWrapper,{children:Object(jsx_runtime.jsxs)(BallMenu.a,{buttonProps:{icon:"ellipsis-v"},children:[Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:displayInfoBoxSettings,children:Menu_ref2}),Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:resetInfoBoxSettings,children:Menu_ref3})]})})};Menu_Menu.displayName="Menu",Menu_Menu.__docgenInfo={description:"",methods:[],displayName:"Menu",props:{displayInfoBoxSettings:{type:{name:"func"},required:!0,description:""},resetInfoBoxSettings:{type:{name:"func"},required:!0,description:""}}};var components_Menu_Menu=Menu_Menu;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dashboard/src/components/Menu/Menu.js"]={name:"Menu",docgenInfo:Menu_Menu.__docgenInfo,path:"packages/dashboard/src/components/Menu/Menu.js"});var MenuContainer_mapActionCreators={displayInfoBoxSettings:function displayInfoBoxSettings(){return{type:"dashboard/DISPLAY_INFOBOX_SETTINGS_MODAL"}},resetInfoBoxSettings:function resetInfoBoxSettings(){return{type:"dashboard/RESET_INFOBOX_SETTINGS"}}},MenuContainer=Object(es.connect)(null,MenuContainer_mapActionCreators)(Object(injectIntl.c)(components_Menu_Menu)),objectWithoutProperties=__webpack_require__(1393),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),Typography=__webpack_require__(17),colorMap=__webpack_require__(2277);function InfoBox_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  border: 2px dashed ",";\n  box-sizing: border-box;\n  height: ",";\n  min-height: ",";\n  width: 100%;\n  padding: ",";\n  margin: ",";\n  background: ",";\n"]);return InfoBox_StyledComponents_templateObject2=function _templateObject2(){return data},data}function InfoBox_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  box-sizing: border-box;\n  border: 1px solid ",";\n  height: ",";\n  min-height: ",";\n  padding: ",";\n  background: ",";\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n\n  /**\n   * Workaround:\n   * so that ghost-image on drag and drop is taken correctly\n   * when having an absolute position element inside the InfoBox (e.g. entity-list)\n   */\n  position: relative;\n  z-index: 1;\n"]);return InfoBox_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledComponents_StyledInfoBoxWrapper=styled_components_browser_esm.default.div(InfoBox_StyledComponents_templateObject(),colorMap.a.shade1,(function(_ref){var height=_ref.height;return height?"".concat(height,"px"):"auto"}),"50px",modularScale.a.space(-.5),resolveThemePath.a.color("paper")),StyledDroppedPreview=styled_components_browser_esm.default.div(InfoBox_StyledComponents_templateObject2(),resolveThemePath.a.color("primary"),(function(_ref2){var height=_ref2.height;return"".concat(height,"px")}),"50px",modularScale.a.space(-.5),modularScale.a.space(-.5),resolveThemePath.a.color("paper")),consoleLogger=__webpack_require__(73),FormattedValue=__webpack_require__(141);function typeContent_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  flex: 1;\n  ","\n  ","\n"]);return typeContent_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledInfoBoxContentWrapper=styled_components_browser_esm.default.div(typeContent_StyledComponents_templateObject(),(function(_ref){return _ref.scrollable&&"overflow: auto;"}),StyledScrollbar.a),InfoBoxHtmlFieldContent_InfoBoxHtmlFieldContent=function InfoBoxHtmlFieldContent(_ref){var text=_ref.content.text;return Object(jsx_runtime.jsx)(StyledInfoBoxContentWrapper,{scrollable:!0,children:Object(jsx_runtime.jsx)(FormattedValue.a,{type:"html",value:text})})};InfoBoxHtmlFieldContent_InfoBoxHtmlFieldContent.displayName="InfoBoxHtmlFieldContent",InfoBoxHtmlFieldContent_InfoBoxHtmlFieldContent.__docgenInfo={description:"",methods:[],displayName:"InfoBoxHtmlFieldContent",props:{content:{type:{name:"object"},required:!0,description:""}}};var typeContent_InfoBoxHtmlFieldContent=InfoBoxHtmlFieldContent_InfoBoxHtmlFieldContent;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dashboard/src/components/InfoBox/typeContent/InfoBoxHtmlFieldContent.js"]={name:"InfoBoxHtmlFieldContent",docgenInfo:InfoBoxHtmlFieldContent_InfoBoxHtmlFieldContent.__docgenInfo,path:"packages/dashboard/src/components/InfoBox/typeContent/InfoBoxHtmlFieldContent.js"});var entity_list_src_main=__webpack_require__(1384),StyledLink=__webpack_require__(5229),InfoBoxSearchFilterContent_DetailLinkRelativeWithoutIntl=function DetailLinkRelativeWithoutIntl(_ref){var entityKey=_ref.entityKey,entityModel=_ref.entityModel,children=_ref.children,intl=_ref.intl;return Object(jsx_runtime.jsx)(StyledLink.a,{"aria-label":function msg(id){return intl.formatMessage({id:id})}("client.component.navigationStrategy.detailLinkRelative"),to:"/e/".concat(entityModel,"/").concat(entityKey),children:children})};InfoBoxSearchFilterContent_DetailLinkRelativeWithoutIntl.displayName="DetailLinkRelativeWithoutIntl";var DetailLinkRelative=Object(injectIntl.c)(InfoBoxSearchFilterContent_DetailLinkRelativeWithoutIntl),InfoBoxSearchFilterContent_InfoBoxSearchFilterContent=function InfoBoxSearchFilterContent(_ref2){var id=_ref2.id,content=_ref2.content,navigationStrategy=_ref2.navigationStrategy,emitAction=_ref2.emitAction,searchfilter=content.searchfilter,entityName=content.entityName,scope=content.scope,limit=content.limit;return Object(jsx_runtime.jsx)(StyledInfoBoxContentWrapper,{children:Object(jsx_runtime.jsx)(entity_list_src_main.a,{id:id,limit:limit,entityName:entityName,formName:entityName,searchFilters:[searchfilter],scope:scope,showActions:!1,onRowClick:function handleRowClick(_ref3){var id=_ref3.id;navigationStrategy.openDetail(entityName,id,!1)},searchFormType:"simple",searchFormPosition:"top",selectionStyle:"none",sortable:!0,disableSelectionController:!0,emitAction:emitAction,navigationStrategy:Object.assign({},navigationStrategy,{DetailLinkRelative:DetailLinkRelative}),showLink:!0})})};InfoBoxSearchFilterContent_InfoBoxSearchFilterContent.displayName="InfoBoxSearchFilterContent",InfoBoxSearchFilterContent_InfoBoxSearchFilterContent.__docgenInfo={description:"",methods:[],displayName:"InfoBoxSearchFilterContent",props:{id:{type:{name:"string"},required:!0,description:""},content:{type:{name:"object"},required:!0,description:""},emitAction:{type:{name:"func"},required:!0,description:""},navigationStrategy:{type:{name:"object"},required:!1,description:""}}};var typeContent_InfoBoxSearchFilterContent=InfoBoxSearchFilterContent_InfoBoxSearchFilterContent;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dashboard/src/components/InfoBox/typeContent/InfoBoxSearchFilterContent.js"]={name:"InfoBoxSearchFilterContent",docgenInfo:InfoBoxSearchFilterContent_InfoBoxSearchFilterContent.__docgenInfo,path:"packages/dashboard/src/components/InfoBox/typeContent/InfoBoxSearchFilterContent.js"});var InfoBoxSearchFilterContentContainer_mapActionCreators={emitAction:function emitAction(action){return actionEmitter.a.dispatchEmittedAction(action)}},InfoBoxSearchFilterContentContainer=Object(es.connect)((function mapStateToProps(state){return{navigationStrategy:state.input.navigationStrategy}}),InfoBoxSearchFilterContentContainer_mapActionCreators)(Object(injectIntl.c)(typeContent_InfoBoxSearchFilterContent)),typeContentProvider_ref=Object(jsx_runtime.jsx)("div",{}),map={htmlfield:typeContent_InfoBoxHtmlFieldContent,searchfilter:InfoBoxSearchFilterContentContainer},InfoBoxContent_InfoBoxContent=function InfoBoxContent(_ref){var id=_ref.id,content=_ref.content;return content?function(type,id,content){return map[type]?react_default.a.createElement(map[type],{id:id,content:content}):(consoleLogger.a.logError("No Content mapper defined for type",type,id),typeContentProvider_ref)}(content.type,id,content):null};InfoBoxContent_InfoBoxContent.propTypes={id:node_modules_prop_types_default.a.string.isRequired,content:node_modules_prop_types_default.a.object.isRequired};var InfoBox_InfoBoxContent=InfoBoxContent_InfoBoxContent,InfoBox_InfoBox=function InfoBox(_ref){var id=_ref.id,label=_ref.label,height=_ref.height,content=_ref.content,props=objectWithoutProperties_default()(_ref,["id","label","height","content"]);return Object(jsx_runtime.jsxs)(StyledComponents_StyledInfoBoxWrapper,Object.assign({},props,{height:height,children:[Object(jsx_runtime.jsx)(Typography.a.H3,{children:label}),Object(jsx_runtime.jsx)(InfoBox_InfoBoxContent,{id:id,content:content})]}))};InfoBox_InfoBox.displayName="InfoBox",InfoBox_InfoBox.__docgenInfo={description:"",methods:[],displayName:"InfoBox",props:{id:{type:{name:"string"},required:!0,description:""},label:{type:{name:"string"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""},content:{type:{name:"object"},required:!0,description:""}}};var components_InfoBox_InfoBox=InfoBox_InfoBox;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dashboard/src/components/InfoBox/InfoBox.js"]={name:"InfoBox",docgenInfo:InfoBox_InfoBox.__docgenInfo,path:"packages/dashboard/src/components/InfoBox/InfoBox.js"});var DashboardInfoBox_DashboardInfoBox=function DashboardInfoBox(_ref){var infoBox=_ref.infoBox,isResizing=_ref.isResizing,startResize=_ref.startResize,onDragStart=_ref.onDragStart,onDragEnter=_ref.onDragEnter,onDragOver=_ref.onDragOver,onDrop=_ref.onDrop,id=infoBox.id,type=infoBox.type,label=infoBox.label,height=infoBox.height,content=infoBox.content;return Object(jsx_runtime.jsxs)(StyledInfoBoxWrapper,{id:"infobox-".concat(id),children:[Object(jsx_runtime.jsx)(components_InfoBox_InfoBox,{id:id,label:label,height:height,content:content,draggable:!0,onDragStart:onDragStart,onDragEnter:onDragEnter,onDragOver:onDragOver,onDrop:onDrop}),Object(jsx_runtime.jsx)(StyledResizeHandle,{onMouseDown:startResize,isReszing:isResizing})]},"".concat(type,"-").concat(id))};DashboardInfoBox_DashboardInfoBox.displayName="DashboardInfoBox",DashboardInfoBox_DashboardInfoBox.__docgenInfo={description:"",methods:[],displayName:"DashboardInfoBox",props:{infoBox:{type:{name:"object"},required:!0,description:""},isResizing:{type:{name:"bool"},required:!0,description:""},startResize:{type:{name:"func"},required:!0,description:""},onDragStart:{type:{name:"func"},required:!1,description:""},onDragEnter:{type:{name:"func"},required:!1,description:""},onDragOver:{type:{name:"func"},required:!1,description:""},onDrop:{type:{name:"func"},required:!1,description:""}}};var Dashboard_DashboardInfoBox=DashboardInfoBox_DashboardInfoBox;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dashboard/src/components/Dashboard/DashboardInfoBox.js"]={name:"DashboardInfoBox",docgenInfo:DashboardInfoBox_DashboardInfoBox.__docgenInfo,path:"packages/dashboard/src/components/Dashboard/DashboardInfoBox.js"});var DropPreview_DropPreview=function DropPreview(props){return Object(jsx_runtime.jsx)(StyledDroppedPreview,Object.assign({},props))};DropPreview_DropPreview.displayName="DropPreview",DropPreview_DropPreview.__docgenInfo={description:"",methods:[],displayName:"DropPreview"};var InfoBox_DropPreview=DropPreview_DropPreview;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dashboard/src/components/InfoBox/DropPreview.js"]={name:"DropPreview",docgenInfo:DropPreview_DropPreview.__docgenInfo,path:"packages/dashboard/src/components/InfoBox/DropPreview.js"});var DashboardColumn_DashboardColumn=function DashboardColumn(_ref){var onDragEnter=_ref.onDragEnter,onDragOver=_ref.onDragOver,onDrop=_ref.onDrop,infoBoxes=_ref.infoBoxes,resizeState=_ref.resizeState,startResize=_ref.startResize,dndState=_ref.dndState,makeDndEvents=_ref.makeDndEvents,currentlyDragOver=dndState.currentlyDragOver,isResizing=resizeState.isResizing,resizingElement=resizeState.resizingElement;return Object(jsx_runtime.jsx)(StyledColumn,{onDragEnter:onDragEnter,onDragOver:onDragOver,onDrop:onDrop,children:infoBoxes.map((function(infoBox){var id=infoBox.id,height=infoBox.height,type=infoBox.type;return type===InfoBoxRenderTypes_DropPreview?Object(jsx_runtime.jsx)(InfoBox_DropPreview,Object.assign({height:height},makeDndEvents(currentlyDragOver)),"".concat(type,"-").concat(id)):Object(jsx_runtime.jsx)(Dashboard_DashboardInfoBox,Object.assign({id:"infobox-".concat(id),infoBox:infoBox,isResizing:isResizing&&resizingElement===id},makeDndEvents({type:dropTypes.InfoBox,id:id}),{startResize:startResize(id)}),"".concat(type,"-").concat(id))}))})};DashboardColumn_DashboardColumn.displayName="DashboardColumn",DashboardColumn_DashboardColumn.__docgenInfo={description:"",methods:[],displayName:"DashboardColumn",props:{infoBoxes:{type:{name:"array"},required:!0,description:""},onDragEnter:{type:{name:"func"},required:!1,description:""},onDragOver:{type:{name:"func"},required:!1,description:""},onDrop:{type:{name:"func"},required:!1,description:""},resizeState:{type:{name:"object"},required:!0,description:""},dndState:{type:{name:"object"},required:!0,description:""},makeDndEvents:{type:{name:"func"},required:!0,description:""},startResize:{type:{name:"func"},required:!0,description:""}}};var Dashboard_DashboardColumn=DashboardColumn_DashboardColumn;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dashboard/src/components/Dashboard/DashboardColumn.js"]={name:"DashboardColumn",docgenInfo:DashboardColumn_DashboardColumn.__docgenInfo,path:"packages/dashboard/src/components/Dashboard/DashboardColumn.js"});var Dashboard_ref4=Object(jsx_runtime.jsx)(MenuContainer,{}),Dashboard_Dashboard=function Dashboard(_ref){var storedInfoBoxes=_ref.infoBoxes,saveInfoBoxHeight=_ref.saveInfoBoxHeight,saveInfoBoxPositions=_ref.saveInfoBoxPositions,_useState=Object(react.useState)(storedInfoBoxes),_useState2=slicedToArray_default()(_useState,2),infoBoxes=_useState2[0],setInfoBoxes=_useState2[1];Object(react.useEffect)((function(){setInfoBoxes(storedInfoBoxes)}),[storedInfoBoxes]);var columns=toConsumableArray_default()(Array(2).keys()),ref=Object(react.useRef)(null),onInfoBoxHeightChanged=Object(react.useCallback)((function(id){var _infoBoxes$find,finalHeight=null===(_infoBoxes$find=infoBoxes.find((function(c){return c.id===id})))||void 0===_infoBoxes$find?void 0:_infoBoxes$find.height;saveInfoBoxHeight(id,finalHeight)}),[infoBoxes]),onInfoBoxHeightChanging=Object(react.useCallback)((function(id,_ref2){var height=_ref2.height;setInfoBoxes((function(infoBoxes){return toConsumableArray_default()(infoBoxes.map((function(c){return c.id===id?Object.assign({},c,{height:height}):c})))}))}),[]),_resize$useResize=resize.a.useResize((function selector(id){return ref.current.querySelector("#infobox-".concat(id))}),onInfoBoxHeightChanging,onInfoBoxHeightChanged),startResize=_resize$useResize.startResize,resizingEvents=_resize$useResize.resizingEvents,resizeState=_resize$useResize.resizeState,_dragAndDrop$useDnD=dragAndDrop.a.useDnD((function changeInfoBoxPosition(currentlyDragging,currentlyDragOver,position){var draggingId=currentlyDragging.id,dragOverType=currentlyDragOver.type,dragOverId=currentlyDragOver.id;if(dragOverType===dropTypes.Column){var updatedInfoBoxes=function appendDraggedAsLastItemToDropped(draggingId,dragOverId,boxes){var draggingBox=boxes.find((function(b){return b.id===draggingId}));return reindex([].concat(toConsumableArray_default()(sortInfoBoxes(boxes).filter((function(_ref2){return _ref2.id!==draggingId}))),[Object.assign({},draggingBox,{col:dragOverId,row:-1})]))}(draggingId,dragOverId,infoBoxes);setInfoBoxes(updatedInfoBoxes),saveInfoBoxPositions(updatedInfoBoxes)}else if(draggingId!==dragOverId){var _updatedInfoBoxes=function moveDraggedToDropped(draggingId,dragOverId,position,boxes){return flow_default()([sortInfoBoxes,insertDraggedAtDropped(draggingId,dragOverId,position)])(boxes)}(draggingId,dragOverId,position,infoBoxes);setInfoBoxes(_updatedInfoBoxes),saveInfoBoxPositions(_updatedInfoBoxes)}}),infoBoxes),dndEvents=_dragAndDrop$useDnD.dndEvents,dndState=_dragAndDrop$useDnD.dndState,currentlyDragOver=dndState.currentlyDragOver,currentlyDragging=dndState.currentlyDragging,dropPosition=dndState.dropPosition,draggingId=(currentlyDragging||{}).id;return Object(jsx_runtime.jsxs)(StyledDashboardWrapper,Object.assign({ref:ref},resizingEvents,{children:[Dashboard_ref4,Object(jsx_runtime.jsx)(StyledColumnWrapper,{children:columns.map((function(column){var _dndEvents=dndEvents({type:dropTypes.Column,id:column}),onDragEnter=_dndEvents.onDragEnter,onDragOver=_dndEvents.onDragOver,onDrop=_dndEvents.onDrop,boxes=function getRenderInfoBoxesForColumn(draggingId,currentlyDragOver,position,column,boxes){var _ref3=currentlyDragOver||{},dragOverType=_ref3.type,dragOverId=_ref3.id,isOverItself=dragOverId===draggingId&&dragOverType===dropTypes.InfoBox,draggingBox=boxes.find((function(b){return b.id===draggingId})),draggingPreviewBox=Object.assign({},draggingBox,{type:InfoBoxRenderTypes_DropPreview}),renderBoxes=boxes.filter((function(_ref4){var folded=_ref4.folded,col=_ref4.col,id=_ref4.id;return!(folded||col!==column||void 0!==dragOverId&&!isOverItself&&id===draggingId)})).map((function(box){return Object.assign({},box,{type:InfoBoxRenderTypes_InfoBox})})).reduce((function(acc,key){var showPreviewHere=key.id===dragOverId&&dragOverType===dropTypes.InfoBox&&!isOverItself;return[].concat(toConsumableArray_default()(acc),toConsumableArray_default()(position===dragAndDrop.a.DropPosition.Top&&showPreviewHere?[draggingPreviewBox]:[]),[key.id===draggingId&&isOverItself?Object.assign({},key,{type:InfoBoxRenderTypes_DropPreview}):key],toConsumableArray_default()(position===dragAndDrop.a.DropPosition.Bottom&&showPreviewHere?[draggingPreviewBox]:[]))}),[]);return dragOverType===dropTypes.Column&&dragOverId===column&&(renderBoxes=[].concat(toConsumableArray_default()(renderBoxes),[draggingPreviewBox])),renderBoxes}(draggingId,currentlyDragOver,dropPosition,column,infoBoxes);return Object(jsx_runtime.jsx)(Dashboard_DashboardColumn,{onDragEnter:onDragEnter,onDragOver:onDragOver,onDrop:onDrop,infoBoxes:boxes,resizeState:resizeState,startResize:startResize,dndState:dndState,makeDndEvents:dndEvents},column)}))})]}))};Dashboard_Dashboard.displayName="Dashboard",Dashboard_Dashboard.__docgenInfo={description:"",methods:[],displayName:"Dashboard",props:{infoBoxes:{type:{name:"array"},required:!0,description:""},saveInfoBoxPositions:{type:{name:"func"},required:!0,description:""},saveInfoBoxHeight:{type:{name:"func"},required:!0,description:""}}};var components_Dashboard_Dashboard=Dashboard_Dashboard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dashboard/src/components/Dashboard/Dashboard.js"]={name:"Dashboard",docgenInfo:Dashboard_Dashboard.__docgenInfo,path:"packages/dashboard/src/components/Dashboard/Dashboard.js"});var DashboardContainer_mapActionCreators={saveInfoBoxPositions:function saveInfoBoxPositions(infoBoxes){return{type:"dashboard/SAVE_INFOBOX_POSITIONS",payload:{infoBoxes:infoBoxes}}},saveInfoBoxHeight:function saveInfoBoxHeight(id,height){return{type:"dashboard/SAVE_INFOBOX_HEIGHT",payload:{id:id,height:height}}}},DashboardContainer=Object(es.connect)((function mapStateToProps(state){return{infoBoxes:state.dashboard.infoBoxes}}),DashboardContainer_mapActionCreators)(Object(injectIntl.c)(components_Dashboard_Dashboard)),reducer_ACTION_HANDLERS=defineProperty_default()({},"dashboard/SET_DASHBOARD",reducer.a.singleTransferReducer("infoBoxes")),reducer_initialState={infoBoxes:[]};function dashboard_reducer_reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:reducer_initialState,action=arguments.length>1?arguments[1]:void 0,handler=reducer_ACTION_HANDLERS[action.type];return handler?handler(state,action):state}dashboard_reducer_reducer.__docgenInfo={description:"",methods:[],displayName:"reducer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dashboard/src/modules/dashboard/reducer.js"]={name:"reducer",docgenInfo:dashboard_reducer_reducer.__docgenInfo,path:"packages/dashboard/src/modules/dashboard/reducer.js"});var redux_saga_core_npm_proxy_esm=__webpack_require__(86);function InfoBoxSettings_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  vertical-align: top;\n  margin-right: ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return InfoBoxSettings_StyledComponents_templateObject3=function _templateObject3(){return data},data}function InfoBoxSettings_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  list-style-type: none;\n  margin-top: ",";\n  padding-left: ",";\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n\n  "," {\n    padding: 0;\n  }\n"]);return InfoBoxSettings_StyledComponents_templateObject2=function _templateObject2(){return data},data}function InfoBoxSettings_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  position: sticky;\n  bottom: 0;\n  padding-top: ",";\n  background-color: ",";\n  display: flex;\n  justify-content: flex-end;\n\n  "," {\n    margin-right: 0;\n  }\n"]);return InfoBoxSettings_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledButtonWrapper=styled_components_browser_esm.default.div(InfoBoxSettings_StyledComponents_templateObject(),modularScale.a.space(0),resolveThemePath.a.color("paper"),StyledButton.b),StyledUl=styled_components_browser_esm.default.ul(InfoBoxSettings_StyledComponents_templateObject2(),modularScale.a.space(-.5),modularScale.a.space(-.5),StyledMisc.i),StyledCheckbox=styled_components_browser_esm.default.input(InfoBoxSettings_StyledComponents_templateObject3(),modularScale.a.space(-1)),InfoBoxSettings_ref2=Object(jsx_runtime.jsx)(message.a,{id:"client.common.ok"}),InfoBoxSettings_InfoBoxSettings=function InfoBoxSettings(_ref){var initialInfoBoxes=_ref.initialInfoBoxes,onOk=_ref.onOk,_useState=Object(react.useState)(initialInfoBoxes||[]),_useState2=slicedToArray_default()(_useState,2),infoBoxes=_useState2[0],setInfoBoxes=_useState2[1];return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(StyledUl,{children:infoBoxes.map((function(box){return Object(jsx_runtime.jsxs)(Typography.a.Li,{children:[Object(jsx_runtime.jsx)(StyledCheckbox,{type:"checkbox",checked:!box.folded,onChange:function onChange(){return function toggle(id){setInfoBoxes((function(boxes){return boxes.reduce((function(acc,box){return[].concat(toConsumableArray_default()(acc),[Object.assign({},box,{folded:box.id===id?!box.folded:box.folded})])}),[])}))}(box.id)},id:box.id}),Object(jsx_runtime.jsx)(Typography.a.Label,{for:box.id,children:box.label})]},box.id)}))}),Object(jsx_runtime.jsx)(StyledButtonWrapper,{children:Object(jsx_runtime.jsx)(Button.a,{type:"button",onClick:function onClick(){return onOk(infoBoxes)},look:"raised",children:InfoBoxSettings_ref2})})]})};InfoBoxSettings_InfoBoxSettings.displayName="InfoBoxSettings",InfoBoxSettings_InfoBoxSettings.__docgenInfo={description:"",methods:[],displayName:"InfoBoxSettings",props:{initialInfoBoxes:{type:{name:"array"},required:!1,description:""},onOk:{type:{name:"func"},required:!1,description:""}}};var components_InfoBoxSettings_InfoBoxSettings=InfoBoxSettings_InfoBoxSettings;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dashboard/src/components/InfoBoxSettings/InfoBoxSettings.js"]={name:"InfoBoxSettings",docgenInfo:InfoBoxSettings_InfoBoxSettings.__docgenInfo,path:"packages/dashboard/src/components/InfoBoxSettings/InfoBoxSettings.js"});__webpack_require__(240),__webpack_require__(489),__webpack_require__(56),__webpack_require__(733);var mapColAndRowToPosition=function mapColAndRowToPosition(col,row){return"".concat(col+1,":").concat(row)},isUnpositionedInfoBox=function isUnpositionedInfoBox(box){return null===box.position},positionUtils_distributeInfoBoxes=function distributeInfoBoxes(infoBoxes){var unpositionedInfoBoxes=infoBoxes.filter(isUnpositionedInfoBox),positionedInfoBoxes=infoBoxes.filter((function(box){return!isUnpositionedInfoBox(box)}));return unpositionedInfoBoxes.reduce((function(acc,box){var _getColumnWithMinAmou=function getColumnWithMinAmountOfInfoBoxes(infoBoxes){var numberOfBoxesPerCol=toConsumableArray_default()(Array(2).keys()).reduce((function(acc,col){return Object.assign({},acc,defineProperty_default()({},col,infoBoxes.filter((function(b){return b.col===col})).length))}),{}),minCol=Object.keys(numberOfBoxesPerCol).reduce((function(min,key){var col=parseInt(key,10);return numberOfBoxesPerCol[col]<min.numberOfBoxes?{col:col,numberOfBoxes:numberOfBoxesPerCol[col]}:min}),{col:-1,numberOfBoxes:Number.MAX_VALUE});return-1===minCol.col?{col:0,numberOfBoxes:0}:minCol}(acc),col=_getColumnWithMinAmou.col,numberOfBoxes=_getColumnWithMinAmou.numberOfBoxes;return[].concat(toConsumableArray_default()(acc),[Object.assign({},box,{col:col,row:numberOfBoxes})])}),positionedInfoBoxes)},positionUtils_prepareInfoBoxes=function prepareInfoBoxes(infoBoxes){return sortInfoBoxes(positionUtils_distributeInfoBoxes(infoBoxes.map((function(box){return Object.assign({},box,function mapPositionToColAndRow(position){if(!position)return{col:0,row:0};var split=position.split(":"),col=parseInt(split[0],10)-1,row=parseInt(split[1],10);return{col:Math.max(0,col),row:row}}(box.position))}))))},sagas_marked=regenerator_default.a.mark(sagas_sagas),sagas_marked2=regenerator_default.a.mark(sagas_loadDashboard),sagas_marked3=regenerator_default.a.mark(sagas_saveInfoBoxPositions),_marked4=regenerator_default.a.mark(sagas_saveInfoBoxHeight),_marked5=regenerator_default.a.mark(sagas_displayInfoBoxSettings),_marked6=regenerator_default.a.mark(saveInfoBoxSettings),_marked7=regenerator_default.a.mark(sagas_resetInfoBoxSettings),_marked8=regenerator_default.a.mark(saveInfoBoxPreferences),dashboardSelector=function dashboardSelector(state){return state.dashboard};function sagas_sagas(){return regenerator_default.a.wrap((function sagas$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.b)(sagas_loadDashboard),Object(redux_saga_effects_npm_proxy_esm.k)("dashboard/LOAD_DASHBOARD",sagas_loadDashboard),Object(redux_saga_effects_npm_proxy_esm.k)("dashboard/SAVE_INFOBOX_POSITIONS",sagas_saveInfoBoxPositions),Object(redux_saga_effects_npm_proxy_esm.k)("dashboard/SAVE_INFOBOX_HEIGHT",sagas_saveInfoBoxHeight),Object(redux_saga_effects_npm_proxy_esm.j)("dashboard/DISPLAY_INFOBOX_SETTINGS_MODAL",sagas_displayInfoBoxSettings),Object(redux_saga_effects_npm_proxy_esm.j)("dashboard/RESET_INFOBOX_SETTINGS",sagas_resetInfoBoxSettings)]);case 2:case"end":return _context.stop()}}),sagas_marked)}function sagas_loadDashboard(){var options,response,infoBoxes;return regenerator_default.a.wrap((function loadDashboard$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return options={method:"GET"},_context2.next=3,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.requestSaga,"client/dashboard",options);case 3:return response=_context2.sent,infoBoxes=response.body.infoboxes,_context2.next=7,Object(redux_saga_effects_npm_proxy_esm.f)(setDashboard(positionUtils_prepareInfoBoxes(infoBoxes)));case 7:return _context2.abrupt("return",infoBoxes);case 8:case"end":return _context2.stop()}}),sagas_marked2)}function sagas_saveInfoBoxPositions(_ref){var infoBoxes,updatedInfoBoxes,preferences;return regenerator_default.a.wrap((function saveInfoBoxPositions$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return infoBoxes=_ref.payload.infoBoxes,updatedInfoBoxes=infoBoxes.map((function(box){return Object.assign({},box,{position:mapColAndRowToPosition(box.col,box.row)})})),preferences=updatedInfoBoxes.reduce((function(acc,box){return Object.assign({},acc,defineProperty_default()({},"".concat(box.id,":POSITION"),box.position))}),{}),_context3.next=5,Object(redux_saga_effects_npm_proxy_esm.b)(saveInfoBoxPreferences,preferences);case 5:return _context3.next=7,Object(redux_saga_effects_npm_proxy_esm.f)(setDashboard(updatedInfoBoxes));case 7:return _context3.abrupt("return",updatedInfoBoxes);case 8:case"end":return _context3.stop()}}),sagas_marked3)}function sagas_saveInfoBoxHeight(_ref2){var _ref2$payload,id,height,_yield$select,infoBoxes,updatedInfoBoxes,preferences;return regenerator_default.a.wrap((function saveInfoBoxHeight$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _ref2$payload=_ref2.payload,id=_ref2$payload.id,height=_ref2$payload.height,_context4.next=3,Object(redux_saga_effects_npm_proxy_esm.g)(dashboardSelector);case 3:return _yield$select=_context4.sent,infoBoxes=_yield$select.infoBoxes,updatedInfoBoxes=infoBoxes.map((function(box){return Object.assign({},box,{height:box.id===id?height:box.height})})),preferences=defineProperty_default()({},"".concat(id,":HEIGHT"),height),_context4.next=9,Object(redux_saga_effects_npm_proxy_esm.b)(saveInfoBoxPreferences,preferences);case 9:return _context4.next=11,Object(redux_saga_effects_npm_proxy_esm.f)(setDashboard(updatedInfoBoxes));case 11:return _context4.abrupt("return",updatedInfoBoxes);case 12:case"end":return _context4.stop()}}),_marked4)}function sagas_displayInfoBoxSettings(){var _yield$select2,infoBoxes,answerChannel;return regenerator_default.a.wrap((function displayInfoBoxSettings$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,Object(redux_saga_effects_npm_proxy_esm.g)(dashboardSelector);case 2:return _yield$select2=_context5.sent,infoBoxes=_yield$select2.infoBoxes,_context5.next=6,Object(redux_saga_effects_npm_proxy_esm.b)(redux_saga_core_npm_proxy_esm.a);case 6:return answerChannel=_context5.sent,_context5.next=9,Object(redux_saga_effects_npm_proxy_esm.f)(notification.a.modal("dashboard-infobox-settings","client.dashboard.preferences.show.title",null,(function(_ref3){var close=_ref3.close;return Object(jsx_runtime.jsx)(components_InfoBoxSettings_InfoBoxSettings,{initialInfoBoxes:infoBoxes,onOk:function onOk(columns){close(),answerChannel.put(columns)}})}),!0));case 9:return _context5.next=11,Object(redux_saga_effects_npm_proxy_esm.b)(saveInfoBoxSettings,answerChannel);case 11:case"end":return _context5.stop()}}),_marked5)}function saveInfoBoxSettings(answerChannel){var infoBoxes,preferences;return regenerator_default.a.wrap((function saveInfoBoxSettings$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,Object(redux_saga_effects_npm_proxy_esm.i)(answerChannel);case 2:return infoBoxes=_context6.sent,preferences=infoBoxes.reduce((function(acc,box){return Object.assign({},acc,defineProperty_default()({},"".concat(box.id,":STATUS"),box.folded?"folded":"open"))}),{}),_context6.next=6,Object(redux_saga_effects_npm_proxy_esm.b)(saveInfoBoxPreferences,preferences);case 6:return _context6.next=8,Object(redux_saga_effects_npm_proxy_esm.f)(setDashboard(infoBoxes));case 8:return _context6.abrupt("return",infoBoxes);case 9:case"end":return _context6.stop()}}),_marked6)}function sagas_resetInfoBoxSettings(){return regenerator_default.a.wrap((function resetInfoBoxSettings$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.deleteUserPreferences,"*:HEIGHT"),Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.deleteUserPreferences,"*:POSITION"),Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.deleteUserPreferences,"*:STATUS")]);case 2:return _context7.next=4,Object(redux_saga_effects_npm_proxy_esm.b)(sagas_loadDashboard);case 4:case"end":return _context7.stop()}}),_marked7)}function saveInfoBoxPreferences(preferences){return regenerator_default.a.wrap((function saveInfoBoxPreferences$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.savePreferences,preferences,"/nice2/ui/settings/infoboxes");case 2:case"end":return _context8.stop()}}),_marked8)}var reducers={dashboard:dashboard_reducer_reducer},reducers_sagas=[sagas_sagas],main_EXTERNAL_EVENTS=["emitAction"],src_main_ref=Object(jsx_runtime.jsx)(DashboardContainer,{}),src_main_initApp=function initApp(id,input){var events=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},publicPath=arguments.length>3?arguments[3]:void 0,content=src_main_ref,store=appFactory.a.createStore(reducers,reducers_sagas,input,"dashboard");actionEmitter.a.addToStore(store,events.emitAction);var handleNotifications=!events.emitAction;return notification.a.addToStore(store,handleNotifications),appFactory.a.createApp("dashboard",content,store,{input:input,events:events,actions:[],publicPath:publicPath,textResourceModules:["component","common","entity-list","dashboard"]})},DashboardApp=function DashboardApp(props){var events=main_EXTERNAL_EVENTS.reduce((function(events,event){return props[event]&&(events[event]=props[event]),events}),{});return src_main_initApp("dashboard",props,events).component};DashboardApp.propTypes=Object.assign({navigationStrategy:node_modules_prop_types_default.a.object},main_EXTERNAL_EVENTS.reduce((function(propTypes,event){return propTypes[event]=node_modules_prop_types_default.a.func,propTypes}),{}));var dashboard_src_main=DashboardApp,Breadcrumbs=__webpack_require__(5230);function components_Dashboard_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n  grid-area: content;\n\n  @media (max-width: 568px) {\n    justify-content: center;\n    align-items: center;\n  }\n"]);return components_Dashboard_StyledComponents_templateObject3=function _templateObject3(){return data},data}function components_Dashboard_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  grid-area: breadcrumbs;\n"]);return components_Dashboard_StyledComponents_templateObject2=function _templateObject2(){return data},data}function components_Dashboard_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: grid;\n  grid-template-rows: auto 1fr;\n  grid-template-areas:\n    'breadcrumbs'\n    'content';\n  height: 100%;\n  width: 100%;\n"]);return components_Dashboard_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledWrapper=styled_components_browser_esm.default.div(components_Dashboard_StyledComponents_templateObject()),StyledBreadcrumbs=styled_components_browser_esm.default.div(components_Dashboard_StyledComponents_templateObject2()),StyledComponents_StyledDashboardWrapper=styled_components_browser_esm.default.div(components_Dashboard_StyledComponents_templateObject3(),resolveThemePath.a.color("backgroundBody")),Dashboard_Dashboard_Dashboard=function Dashboard(_ref){var match=_ref.match,history=_ref.history,emitAction=_ref.emitAction,intl=_ref.intl;return Object(jsx_runtime.jsxs)(StyledWrapper,{children:[Object(jsx_runtime.jsx)(StyledBreadcrumbs,{children:Object(jsx_runtime.jsx)(Breadcrumbs.a,{currentView:{display:function msg(id){return intl.formatMessage({id:id})}("client.admin.dashboard"),title:"Tocco"},pathPrefix:"/dashboard"})}),Object(jsx_runtime.jsx)(StyledComponents_StyledDashboardWrapper,{children:Object(jsx_runtime.jsx)(dashboard_src_main,{emitAction:emitAction,navigationStrategy:Object(utils_navigationStrategy.b)(history,match)})})]})};Dashboard_Dashboard_Dashboard.displayName="Dashboard",Dashboard_Dashboard_Dashboard.__docgenInfo={description:"",methods:[],displayName:"Dashboard",props:{intl:{type:{name:"object"},required:!0,description:""},match:{type:{name:"object"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},emitAction:{type:{name:"func"},required:!0,description:""}}};var dashboard_components_Dashboard_Dashboard=react_default.a.memo(Dashboard_Dashboard_Dashboard,(function(){return!0}));"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/dashboard/components/Dashboard/Dashboard.js"]={name:"Dashboard",docgenInfo:Dashboard_Dashboard_Dashboard.__docgenInfo,path:"packages/admin/src/routes/dashboard/components/Dashboard/Dashboard.js"});var Dashboard_DashboardContainer_mapActionCreators={emitAction:function emitAction(action){return actionEmitter.a.dispatchEmittedAction(action)}},Dashboard_DashboardContainer=Object(es.connect)(null,Dashboard_DashboardContainer_mapActionCreators)(Object(injectIntl.c)(dashboard_components_Dashboard_Dashboard)),route=(__webpack_require__(343),__webpack_require__(94),__webpack_require__(97),__webpack_require__(330)),js=__webpack_require__(164),omit=__webpack_require__(290),omit_default=__webpack_require__.n(omit),omitBy=__webpack_require__(5184),omitBy_default=__webpack_require__.n(omitBy),ignoredAttributes=["location.key","location.search","location.hash"];function areEqual(prevProps,nextProps){var diff=js.a.difference(prevProps,nextProps),clean=omitBy_default()(omit_default()(diff,ignoredAttributes),(function(v){return 0===Object.keys(v).length}));return 0===Object.entries(clean).length}var routes_entities=Object(react.memo)((function(props){return Object(jsx_runtime.jsx)(es.ReactReduxContext.Consumer,{children:function children(_ref){var store=_ref.store,Component=route.a.loadRoute(store,{},(function(){return Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(4),__webpack_require__.e(23)]).then(__webpack_require__.bind(null,5220))}));return Object(jsx_runtime.jsx)(Component,Object.assign({},props))}})}),areEqual),docs_Route=function Route(props){var store=Object(es.useStore)(),Component=Object(react.useMemo)((function(){return route.a.loadRoute(store,{},(function(){return Promise.all([__webpack_require__.e(4),__webpack_require__.e(25)]).then(__webpack_require__.bind(null,5227))}),"docs")}),[]);return Object(jsx_runtime.jsx)(Component,Object.assign({},props))};docs_Route.displayName="Route",docs_Route.__docgenInfo={description:"",methods:[],displayName:"Route"};var docs=docs_Route;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/docs/index.js"]={name:"Route",docgenInfo:docs_Route.__docgenInfo,path:"packages/admin/src/routes/docs/index.js"});var Settings_ref=Object(jsx_runtime.jsx)(Typography.a.H2,{children:"Settings"}),Settings=function Settings(props){return Settings_ref};Settings.displayName="Settings",Settings.__docgenInfo={description:"",methods:[],displayName:"Settings"};var Settings_Settings=Settings;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/settings/components/Settings/Settings.js"]={name:"Settings",docgenInfo:Settings.__docgenInfo,path:"packages/admin/src/routes/settings/components/Settings/Settings.js"});var components_Settings=Settings_Settings,StyledBall=__webpack_require__(2243),RouterLinkButton=__webpack_require__(2270),ButtonMenu=__webpack_require__(1379),two_factor_connector_src_main=__webpack_require__(2216),react_dom=__webpack_require__(78),react_dom_default=__webpack_require__.n(react_dom),usePopper=__webpack_require__(1374),Ball=__webpack_require__(1377);function StyledComponents_templateObject9(){var data=taggedTemplateLiteral_default()(["\n  display: inline-block;\n  padding: "," ",";\n"]);return StyledComponents_templateObject9=function _templateObject9(){return data},data}function StyledComponents_templateObject8(){var data=taggedTemplateLiteral_default()(["\n  width: 7px;\n  height: 7px;\n  position: absolute;\n  top: 3px;\n  left: 21.5px;\n  background-color: ",";\n  border-radius: 50%;\n  display: inline-block;\n"]);return StyledComponents_templateObject8=function _templateObject8(){return data},data}function Header_StyledComponents_templateObject7(){var data=taggedTemplateLiteral_default()(["\n  margin-left: ",";\n"]);return Header_StyledComponents_templateObject7=function _templateObject7(){return data},data}function Header_StyledComponents_templateObject6(){var data=taggedTemplateLiteral_default()(["\n  position: relative;\n"]);return Header_StyledComponents_templateObject6=function _templateObject6(){return data},data}function Header_StyledComponents_templateObject5(){var data=taggedTemplateLiteral_default()(["\n  width: 350px;\n  z-index: 1001; // higher than bm-overlay\n  box-shadow: 0 0 5px rgba(0, 0, 0, .3);\n"]);return Header_StyledComponents_templateObject5=function _templateObject5(){return data},data}function Header_StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  position: absolute;\n  z-index: 3; // higher than StyledBackgroundCover to prevent coverage\n  height: 40px;\n  width: 100%;\n  background-color: ",";\n  mask-image: url(",");\n  mask-repeat: no-repeat;\n  mask-position: -300px -900px;\n"]);return Header_StyledComponents_templateObject4=function _templateObject4(){return data},data}function Header_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  flex: 1;\n  z-index: 2;\n  display: flex;\n  justify-content: flex-end;\n  padding: 7px;\n"]);return Header_StyledComponents_templateObject3=function _templateObject3(){return data},data}function Header_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  grid-area: header;\n  display: flex;\n  height: 40px;\n  padding-right: 10px;\n  padding-left: 40px;\n  position: relative;\n  z-index: 3; // higher than StyledBackgroundCover to enable button interactions\n"]);return Header_StyledComponents_templateObject2=function _templateObject2(){return data},data}function Header_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  position: absolute;\n  z-index: 2; // higher than StyledTether to prevent cover on scroll\n  height: 40px;\n  width: 100%;\n  background-color: ",";\n"]);return Header_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledBackgroundCover=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject(),resolveThemePath.a.color("paper")),StyledHeader=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject2()),StyledConfig=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject3()),StyledBackgroundLogo=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject4(),(function(_ref){var runEnv=_ref.runEnv,theme=_ref.theme;return"PRODUCTION"===runEnv?theme.colors.primary:theme.colors.secondary}),tocco_circle_default.a),StyledPopper=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject5()),StyledNotificationBellWrapper=styled_components_browser_esm.default.span(Header_StyledComponents_templateObject6()),StyledComponents_StyledBall=Object(styled_components_browser_esm.default)(Ball.a)(Header_StyledComponents_templateObject7(),modularScale.a.space(-.5)),StyledRedDot=styled_components_browser_esm.default.span(StyledComponents_templateObject8(),resolveThemePath.a.color("secondaryLight")),NotificationCenterRedDot_NotificationCenterRedDot=(Object(styled_components_browser_esm.default)(StyledLink.a)(StyledComponents_templateObject9(),modularScale.a.space(-2.1),modularScale.a.space(0)),function NotificationCenterRedDot(_ref){var unreadNotificationKeys=_ref.unreadNotificationKeys,onClick=_ref.onClick,innerRef=_ref.innerRef;return unreadNotificationKeys.length>0&&Object(jsx_runtime.jsx)(StyledRedDot,{onClick:onClick,ref:innerRef})});NotificationCenterRedDot_NotificationCenterRedDot.__docgenInfo={description:"",methods:[],displayName:"NotificationCenterRedDot",props:{unreadNotificationKeys:{type:{name:"arrayOf",value:{name:"string"}},required:!1,description:""},onClick:{type:{name:"func"},required:!0,description:""},innerRef:{type:{name:"shape",value:{current:{name:"any",required:!1}}},required:!1,description:""}}};var Header_NotificationCenterRedDot=NotificationCenterRedDot_NotificationCenterRedDot;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Header/NotificationCenterRedDot.js"]={name:"NotificationCenterRedDot",docgenInfo:NotificationCenterRedDot_NotificationCenterRedDot.__docgenInfo,path:"packages/admin/src/components/Header/NotificationCenterRedDot.js"});var NotificationCenterRedDotContainer=Object(es.connect)((function mapStateToProps(state){return{unreadNotificationKeys:state.notification.center.unreadNotificationKeys}}),null)(Object(injectIntl.c)(Header_NotificationCenterRedDot)),popperModifiers=[{name:"offset",options:{offset:[0,3]}},{name:"preventOverflow",options:{padding:35}}],NotificationCenterButton_NotificationCenterButton=function NotificationCenterButton(){var _useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),visible=_useState2[0],setVisibility=_useState2[1],referenceElement=Object(react.useRef)(null),popperElement=Object(react.useRef)(null),redDotElement=Object(react.useRef)(null),handleMouseDown=function handleMouseDown(e){popperElement.current&&!popperElement.current.contains(e.target)&&referenceElement.current&&!referenceElement.current.contains(e.target)&&redDotElement.current&&!redDotElement.current.contains(e.target)&&setVisibility(!1)};Object(react.useEffect)((function(){return document.addEventListener("mousedown",handleMouseDown),function(){document.removeEventListener("mousedown",handleMouseDown)}}),[referenceElement,popperElement]);var _usePopper=Object(usePopper.a)(referenceElement.current,popperElement.current,{modifiers:popperModifiers}),styles=_usePopper.styles,attributes=_usePopper.attributes;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(StyledNotificationBellWrapper,{title:"notifications",children:[Object(jsx_runtime.jsx)(StyledComponents_StyledBall,{onClick:function onClick(){return setVisibility(!visible)},icon:"bell",ref:referenceElement}),Object(jsx_runtime.jsx)("span",{ref:redDotElement,children:Object(jsx_runtime.jsx)(NotificationCenterRedDotContainer,{onClick:function onClick(){return setVisibility(!visible)}})})]}),react_dom_default.a.createPortal(Object(jsx_runtime.jsx)(StyledPopper,Object.assign({ref:popperElement,style:styles.popper},attributes.popper,{children:visible&&Object(jsx_runtime.jsx)(notification.a.NotificationCenter,{navigationStrategy:Object(utils_navigationStrategy.b)()})})),document.body)]})};NotificationCenterButton_NotificationCenterButton.__docgenInfo={description:"",methods:[],displayName:"NotificationCenterButton"};var Header_NotificationCenterButton=NotificationCenterButton_NotificationCenterButton;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Header/NotificationCenterButton.js"]={name:"NotificationCenterButton",docgenInfo:NotificationCenterButton_NotificationCenterButton.__docgenInfo,path:"packages/admin/src/components/Header/NotificationCenterButton.js"});var Link=__webpack_require__(2282),tocco_red=__webpack_require__(5186),tocco_red_default=__webpack_require__.n(tocco_red);function AboutTocco_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  margin-top: ",";\n  width: 80%;\n  height: auto;\n"]);return AboutTocco_StyledComponents_templateObject3=function _templateObject3(){return data},data}function AboutTocco_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  margin-top: ",";\n"]);return AboutTocco_StyledComponents_templateObject2=function _templateObject2(){return data},data}function AboutTocco_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  font-size: ",";\n  margin-top: ",";\n"]);return AboutTocco_StyledComponents_templateObject=function _templateObject(){return data},data}var StyledFormattedMessageWrapper=styled_components_browser_esm.default.div(AboutTocco_StyledComponents_templateObject(),modularScale.a.font(-1.5),modularScale.a.space(.5)),StyledBlockWrapper=styled_components_browser_esm.default.div(AboutTocco_StyledComponents_templateObject2(),modularScale.a.space(.5)),StyledLogo=styled_components_browser_esm.default.img(AboutTocco_StyledComponents_templateObject3(),modularScale.a.space(1)),AboutTocco_ref2=Object(jsx_runtime.jsx)(StyledLogo,{src:tocco_red_default.a,height:"53.34",width:"580",alt:"tocco-logo"}),AboutTocco_ref3=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.tocco.homepage"}),AboutTocco_ref4=Object(jsx_runtime.jsx)("br",{}),AboutTocco_ref5=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.tocco.email"}),AboutTocco_ref6=Object(jsx_runtime.jsx)("br",{}),AboutTocco_ref7=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.tocco.phone"}),AboutTocco_ref8=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.about.versionLabel"}),AboutTocco_ref9=Object(jsx_runtime.jsx)("br",{}),AboutTocco_ref10=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.about.revisionLabel"}),AboutTocco_ref11=Object(jsx_runtime.jsx)(StyledFormattedMessageWrapper,{children:Object(jsx_runtime.jsx)(message.a,{id:"client.admin.copyright"})}),AboutTocco_AboutTocco=function AboutTocco(_ref){var niceVersion=_ref.niceVersion,niceRevision=_ref.niceRevision,intl=_ref.intl,msg=function msg(id){return intl.formatMessage({id:id})};return Object(jsx_runtime.jsxs)(Typography.a.Span,{children:[AboutTocco_ref2,Object(jsx_runtime.jsx)("div",{dangerouslySetInnerHTML:{__html:msg("client.admin.tocco.address")}}),Object(jsx_runtime.jsxs)(Typography.a.P,{children:[Object(jsx_runtime.jsx)(Link.a,{href:msg("client.admin.tocco.homepage"),neutral:!0,target:"_blank",children:AboutTocco_ref3}),AboutTocco_ref4,Object(jsx_runtime.jsx)(Link.a,{href:"mailto:"+msg("client.admin.tocco.email"),neutral:!0,target:"_blank",children:AboutTocco_ref5}),AboutTocco_ref6,Object(jsx_runtime.jsx)(Link.a,{href:"tel:"+msg("client.admin.tocco.phone"),neutral:!0,target:"_blank",children:AboutTocco_ref7})]}),Object(jsx_runtime.jsx)(StyledBlockWrapper,{children:Object(jsx_runtime.jsxs)(Typography.a.P,{children:[AboutTocco_ref8,":  ",niceVersion,AboutTocco_ref9,AboutTocco_ref10,":  ",niceRevision]})}),AboutTocco_ref11]})};AboutTocco_AboutTocco.displayName="AboutTocco",AboutTocco_AboutTocco.__docgenInfo={description:"",methods:[],displayName:"AboutTocco",props:{intl:{type:{name:"object"},required:!1,description:""},niceVersion:{type:{name:"string"},required:!1,description:""},niceRevision:{type:{name:"string"},required:!1,description:""}}};var components_AboutTocco_AboutTocco=AboutTocco_AboutTocco;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/AboutTocco/AboutTocco.js"]={name:"AboutTocco",docgenInfo:AboutTocco_AboutTocco.__docgenInfo,path:"packages/admin/src/components/AboutTocco/AboutTocco.js"});var AboutToccoContainer=Object(es.connect)((function mapStateToProps(state){return{niceVersion:state.preferences.serverSettings.niceVersion,niceRevision:state.preferences.serverSettings.niceRevision}}),null)(Object(injectIntl.c)(components_AboutTocco_AboutTocco));function Header_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  margin-top: 2px;\n\n  "," {\n    font-size: ",";\n  }\n"]);return Header_templateObject=function _templateObject(){return data},data}var StyledBallMenuWrapper=styled_components_browser_esm.default.span(Header_templateObject(),StyledBall.a,modularScale.a.font(1)),Header_ref2=Object(jsx_runtime.jsx)(StyledBackgroundCover,{}),Header_ref3=Object(jsx_runtime.jsx)(RouterLinkButton.a,{to:"/dashboard/reload",children:Object(jsx_runtime.jsx)(message.a,{id:"client.admin.dashboard"})}),Header_ref4=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.passwordUpdate"}),Header_ref5=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.twoFactorConnector"}),Header_ref6=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.logout"}),Header_ref7=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.doc"}),Header_ref8=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.restDoc"}),Header_ref9=Object(jsx_runtime.jsx)(AboutToccoContainer,{}),Header_ref10=Object(jsx_runtime.jsx)(message.a,{id:"client.admin.menu.aboutToccoTitle"}),Header_ref11=Object(jsx_runtime.jsx)(Header_NotificationCenterButton,{}),Header_Header=function Header(_ref){var username=_ref.username,currentBusinessUnit=_ref.currentBusinessUnit,businessUnits=_ref.businessUnits,loadBusinessUnits=_ref.loadBusinessUnits,changeBusinessUnit=_ref.changeBusinessUnit,doLogout=_ref.doLogout,runEnv=_ref.runEnv,niceVersion=_ref.niceVersion,openModalComponent=_ref.openModalComponent,removeModalComponent=_ref.removeModalComponent,info=_ref.info,intl=_ref.intl;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(StyledBackgroundLogo,{runEnv:runEnv}),Header_ref2,Object(jsx_runtime.jsx)(StyledHeader,{children:Object(jsx_runtime.jsxs)(StyledConfig,{children:[Header_ref3,Object(jsx_runtime.jsx)(ButtonMenu.a,{label:currentBusinessUnit.label,onOpen:function handleBusinessUnitOpen(){0===businessUnits.length&&loadBusinessUnits()},children:businessUnits.map((function(bU){return Object(jsx_runtime.jsx)(Menu_MenuItem.a,{disabled:bU.id===currentBusinessUnit.id,onClick:function onClick(){changeBusinessUnit(bU.id)},children:bU.label},"buMenu-".concat(bU.id))}))}),Object(jsx_runtime.jsxs)(ButtonMenu.a,{label:username,children:[Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:function openPasswordUpdate(){openModalComponent("passwordUpdateModal","client.login.passwordUpdate.title",null,(function(){return Object(jsx_runtime.jsx)(main.a,{username:username,success:function success(){removeModalComponent("passwordUpdateModal"),info("success","client.login.passwordUpdate.success")}})}),!0)},children:Header_ref4}),Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:function openTwoFactorConnector(){openModalComponent("passwordUpdateModal","client.actions.two-factor-connector.title",null,(function(){return Object(jsx_runtime.jsx)(two_factor_connector_src_main.a,{onSuccess:function onSuccess(){removeModalComponent("passwordUpdateModal")}})}),!0)},children:Header_ref5}),Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:doLogout,children:Header_ref6})]}),Object(jsx_runtime.jsxs)(StyledBallMenuWrapper,{children:[Object(jsx_runtime.jsxs)(BallMenu.a,{buttonProps:{icon:"question-circle",title:function msg(id){return intl.formatMessage({id:id})}("client.admin.header.help")},children:[niceVersion&&Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:function onClick(){window.open("https://".concat(niceVersion.replace(".",""),".docs.tocco.ch/de/"),"_blank")},children:Header_ref7}),Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:function onClick(){window.open("/nice2/swagger","_blank")},children:Header_ref8}),Object(jsx_runtime.jsx)(Menu_MenuItem.a,{onClick:function onClick(){openModalComponent("about",null,null,(function(){return Header_ref9}),!0)},children:Header_ref10})]}),Header_ref11]})]})})]})};Header_Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{username:{type:{name:"string"},required:!1,description:""},currentBusinessUnit:{type:{name:"custom",raw:"bUPropType"},required:!1,description:""},businessUnits:{type:{name:"arrayOf",value:{name:"custom",raw:"bUPropType"}},required:!1,description:""},doLogout:{type:{name:"func"},required:!0,description:""},changeBusinessUnit:{type:{name:"func"},required:!0,description:""},loadBusinessUnits:{type:{name:"func"},required:!0,description:""},runEnv:{type:{name:"string"},required:!1,description:""},niceVersion:{type:{name:"string"},required:!1,description:""},openModalComponent:{type:{name:"func"},required:!0,description:""},removeModalComponent:{type:{name:"func"},required:!0,description:""},info:{type:{name:"func"},required:!0,description:""},intl:{type:{name:"object"},required:!0,description:""}}};var components_Header_Header=Header_Header;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Header/Header.js"]={name:"Header",docgenInfo:Header_Header.__docgenInfo,path:"packages/admin/src/components/Header/Header.js"});var HeaderContainer_mapActionCreators={doLogout:actions.m,loadBusinessUnits:actions.n,changeBusinessUnit:actions.k,openModalComponent:notification.a.modal,removeModalComponent:notification.a.removeModal,info:notification.a.toaster},HeaderContainer=Object(es.connect)((function mapStateToProps(state,props){return{username:state.session.username,currentBusinessUnit:state.session.currentBusinessUnit,businessUnits:state.session.businessUnits,runEnv:state.preferences.serverSettings.runEnv,niceVersion:state.preferences.serverSettings.niceVersion}}),HeaderContainer_mapActionCreators)(Object(injectIntl.c)(components_Header_Header)),ErrorView=__webpack_require__(5063),slide=__webpack_require__(5187),slide_default=__webpack_require__.n(slide);function Admin_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  grid-area: menu;\n"]);return Admin_StyledComponents_templateObject3=function _templateObject3(){return data},data}function Admin_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  grid-area: content;\n  background-color: ",";\n  overflow: hidden;\n  display: flex;\n"]);return Admin_StyledComponents_templateObject2=function _templateObject2(){return data},data}function Admin_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: grid;\n  grid-template:\n    'header header' auto\n    'menu content' 1fr / auto 1fr;\n  background-color: ",";\n  height: calc(var(--vh, 1vh) * 100);\n\n  .bm-burger-button button:focus {\n    outline: 0;\n  }\n"]);return Admin_StyledComponents_templateObject=function _templateObject(){return data},data}var calcViewportHeight=function calcViewportHeight(){var vh=.01*document.documentElement.clientHeight;document.documentElement.style.setProperty("--vh","".concat(vh,"px"))};calcViewportHeight(),window.addEventListener("resize",(function(){return calcViewportHeight()})),window.addEventListener("orientationchange",(function(){return calcViewportHeight()}));var StyledComponents_StyledWrapper=styled_components_browser_esm.default.div(Admin_StyledComponents_templateObject(),resolveThemePath.a.color("paper")),StyledContent=styled_components_browser_esm.default.div(Admin_StyledComponents_templateObject2(),resolveThemePath.a.color("backgroundBody")),StyledMenu=Object(styled_components_browser_esm.default)(slide_default.a)(Admin_StyledComponents_templateObject3()),burgerMenuStyles={bmBurgerButton:{position:"absolute",outline:"0",width:"24px",height:"24px",left:"17px",top:"10px",zIndex:3},bmBurgerBarsHover:{background:"#a90000"},bmMenuWrap:{position:"fixed",height:"100%",width:"16%",minWidth:"350px"},bmMenu:{background:"#fff",padding:"0 0 3rem 0",fontSize:"1.15em",overflow:"hidden"},bmMorphShape:{fill:"#373a47"},bmItemList:{color:"#b8b7ad",height:"100%"},bmItem:{display:"inline-block"},bmOverlay:{background:"rgba(0, 0, 0, 0.3)"}},Admin_ref2=Object(jsx_runtime.jsx)(message.a,{id:"client.common.ok"}),Admin_ref3=Object(jsx_runtime.jsx)(message.a,{id:"client.common.cancel"}),Admin_ref4=Object(jsx_runtime.jsx)(GlobalStyles.a,{}),Admin_ref5=Object(jsx_runtime.jsx)(HeaderContainer,{}),Admin_ref7=Object(jsx_runtime.jsx)(react_router.c,{exact:!0,from:"/dashboard/reload",to:"/dashboard"}),Admin_ref8=Object(jsx_runtime.jsx)(react_router.d,{exact:!0,path:"/dashboard",component:Dashboard_DashboardContainer}),Admin_ref9=Object(jsx_runtime.jsx)(react_router.d,{path:"/e",component:routes_entities}),Admin_ref10=Object(jsx_runtime.jsx)(react_router.d,{path:"/s",component:components_Settings}),Admin_ref11=Object(jsx_runtime.jsx)(react_router.d,{path:"/docs",component:docs}),_ref13=Object(jsx_runtime.jsx)(StyledContent,{id:"page-wrap",children:Object(jsx_runtime.jsx)(ErrorView.a,{title:Object(jsx_runtime.jsx)(message.a,{id:"client.admin.error.no_roles.title"}),message:Object(jsx_runtime.jsx)(message.a,{id:"client.admin.error.no_roles.message"})})}),Admin_Admin=function Admin(_ref){var initializeNavigation=_ref.initializeNavigation,setMenuOpen=_ref.setMenuOpen,menuOpen=_ref.menuOpen,baseRoute=_ref.baseRoute,confirm=_ref.confirm,loadPrincipal=_ref.loadPrincipal,loadSettingsAndPreferences=_ref.loadSettingsAndPreferences,theme=_ref.theme,adminAllowed=_ref.adminAllowed,_useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),history=_useState2[0],setHistory=_useState2[1];Object(react.useEffect)((function(){initializeHistory(),initializeNavigation(),loadPrincipal(),loadSettingsAndPreferences()}),[]);var initializeHistory=function initializeHistory(){var browserHistory=Object(history_es.a)(Object.assign({},baseRoute&&{basename:baseRoute},{getUserConfirmation:function getUserConfirmation(message,confirmCallback){confirm("",message,Admin_ref2,Admin_ref3,(function(){return confirmCallback(!0)}),(function(){return confirmCallback(!1)}))}}));setHistory(browserHistory)};return Object(jsx_runtime.jsx)(LoadMask.a,{required:[null!==history],children:Object(jsx_runtime.jsxs)(react_router.e,{history:history||{},children:[Admin_ref4,Object(jsx_runtime.jsx)(notification.a.Notifications,{navigationStrategy:Object(utils_navigationStrategy.b)()}),Object(jsx_runtime.jsxs)(StyledComponents_StyledWrapper,{id:"outer-container",children:[Admin_ref5,adminAllowed&&Object(jsx_runtime.jsx)(StyledMenu,{isOpen:menuOpen,onStateChange:function isMenuOpen(state){state.isOpen!==menuOpen&&setMenuOpen(state.isOpen)},customCrossIcon:!1,customBurgerIcon:Object(jsx_runtime.jsx)(BurgerButton.a,{isOpen:menuOpen,size:"20",color:theme.colors.paper}),styles:burgerMenuStyles,pageWrapId:"page-wrap",outerContainerId:"outer-container",children:Object(jsx_runtime.jsx)(components_Navigation,{onClick:function onClick(){setMenuOpen(!1),viewPersistor.a.clearPersistedViews()}})}),adminAllowed&&Object(jsx_runtime.jsx)(StyledContent,{id:"page-wrap",children:Object(jsx_runtime.jsxs)(react_router.f,{children:[Object(jsx_runtime.jsx)(react_router.d,{exact:!0,path:"/",render:function render(_ref6){var match=_ref6.match;return Object(jsx_runtime.jsx)(react_router.c,{to:"".concat(match.url.replace(/\/$/,""),"/dashboard")})}}),Admin_ref7,Admin_ref8,Admin_ref9,Admin_ref10,Admin_ref11,Object(jsx_runtime.jsx)(react_router.d,{render:function render(_ref12){var match=_ref12.match;return Object(jsx_runtime.jsx)(react_router.c,{to:"".concat(match.url.replace(/\/$/,""),"/dashboard")})}})]})}),!adminAllowed&&_ref13]})]})})};Admin_Admin.displayName="Admin",Admin_Admin.__docgenInfo={description:"",methods:[],displayName:"Admin",props:{baseRoute:{type:{name:"string"},required:!1,description:""},loggedIn:{type:{name:"bool"},required:!1,description:""},menuOpen:{type:{name:"bool"},required:!1,description:""},loadPrincipal:{type:{name:"func"},required:!0,description:""},setMenuOpen:{type:{name:"func"},required:!0,description:""},confirm:{type:{name:"func"},required:!0,description:""},initializeNavigation:{type:{name:"func"},required:!0,description:""},loadSettingsAndPreferences:{type:{name:"func"},required:!0,description:""},theme:{type:{name:"object"},required:!0,description:""},adminAllowed:{type:{name:"bool"},required:!0,description:""}}};var components_Admin_Admin=Object(styled_components_browser_esm.withTheme)(Admin_Admin);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Admin/Admin.js"]={name:"Admin",docgenInfo:Admin_Admin.__docgenInfo,path:"packages/admin/src/components/Admin/Admin.js"});var AdminContainer_mapActionCreators={loadPrincipal:actions.o,confirm:notification.a.confirm,initializeNavigation:navigation_actions.k,setMenuOpen:navigation_actions.n,loadSettingsAndPreferences:preferences_actions.e},AdminContainer=Object(es.connect)((function mapStateToProps(state,props){return{baseRoute:state.input.baseRoute,menuOpen:state.navigation.menuOpen,adminAllowed:state.login.adminAllowed}}),AdminContainer_mapActionCreators)(Object(injectIntl.c)(components_Admin_Admin)),LoginGuard_ref2=Object(jsx_runtime.jsx)(Helmet.Helmet,{defer:!1,children:Object(jsx_runtime.jsx)("title",{children:"Tocco"})}),LoginGuard_ref3=Object(jsx_runtime.jsx)(LoginContainer,{}),LoginGuard_ref4=Object(jsx_runtime.jsx)(AdminContainer,{}),LoginGuard_LoginGuard=function LoginGuard(_ref){var doSessionCheck=_ref.doSessionCheck,loggedIn=_ref.loggedIn;return Object(react.useEffect)((function(){doSessionCheck()}),[]),Object(jsx_runtime.jsxs)("div",{children:[LoginGuard_ref2,Object(jsx_runtime.jsx)(LoadMask.a,{required:[void 0!==loggedIn],loadingText:"Logging in...",children:Object(jsx_runtime.jsx)("div",{children:loggedIn?LoginGuard_ref4:LoginGuard_ref3})})]})};LoginGuard_LoginGuard.displayName="LoginGuard",LoginGuard_LoginGuard.__docgenInfo={description:"",methods:[],displayName:"LoginGuard",props:{loggedIn:{type:{name:"bool"},required:!1,description:""},doSessionCheck:{type:{name:"func"},required:!0,description:""}}};var components_LoginGuard_LoginGuard=LoginGuard_LoginGuard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/LoginGuard/LoginGuard.js"]={name:"LoginGuard",docgenInfo:LoginGuard_LoginGuard.__docgenInfo,path:"packages/admin/src/components/LoginGuard/LoginGuard.js"});var LoginGuardContainer_mapActionCreators={doSessionCheck:login.a.doSessionCheck,confirm:notification.a.confirm},LoginGuardContainer=Object(es.connect)((function mapStateToProps(state,props){return{loggedIn:state.login.loggedIn}}),LoginGuardContainer_mapActionCreators)(Object(injectIntl.c)(components_LoginGuard_LoginGuard))},5229:function(module,__webpack_exports__,__webpack_require__){"use strict";var taggedTemplateLiteral=__webpack_require__(9),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),react_router_dom=__webpack_require__(1383),styled_components_browser_esm=__webpack_require__(5),declareFont=__webpack_require__(82),resolveThemePath=__webpack_require__(36);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  ","\n  color: ",";\n\n  * {\n    color: ",";\n    text-decoration: ",";\n  }\n\n  &:hover,\n  &:hover *,\n  &:focus,\n  &:focus * {\n    text-decoration: ",";\n  }\n\n  &:active,\n  &:active * {\n    text-decoration: ",";\n  }\n"]);return _templateObject=function _templateObject(){return data},data}var linkStyle=Object(styled_components_browser_esm.css)(_templateObject(),Object(declareFont.a)(),resolveThemePath.a.color("text"),resolveThemePath.a.color("text"),(function(_ref){return _ref.neutral?"none":"underline"}),(function(_ref2){return _ref2.neutral?"none":"underline"}),(function(_ref3){return _ref3.neutral?"none":"underline"}));function StyledLink_templateObject(){var data=taggedTemplateLiteral_default()(["\n  ","\n"]);return StyledLink_templateObject=function _templateObject(){return data},data}__webpack_exports__.a=Object(styled_components_browser_esm.default)(react_router_dom.a)(StyledLink_templateObject(),linkStyle)},5230:function(module,__webpack_exports__,__webpack_require__){"use strict";var toConsumableArray=__webpack_require__(169),toConsumableArray_default=__webpack_require__.n(toConsumableArray),Helmet=(__webpack_require__(153),__webpack_require__(5061),__webpack_require__(28),__webpack_require__(256),__webpack_require__(30),__webpack_require__(80),__webpack_require__(11),__webpack_require__(1),__webpack_require__(10),__webpack_require__(5179)),LazyIcon=__webpack_require__(719),Typography=__webpack_require__(17),taggedTemplateLiteral=__webpack_require__(9),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),styled_components_browser_esm=__webpack_require__(5),StyledLink=__webpack_require__(5229),resolveThemePath=__webpack_require__(36);function _templateObject3(){var data=taggedTemplateLiteral_default()(["\n  font-weight: ",";\n  text-decoration: none;\n  color: ",";\n\n  & * {\n    font-weight: ",";\n    text-decoration: none;\n    color: ",";\n    margin-right: .5rem;\n  }\n\n  &:active * {\n    color: ",";\n  }\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=taggedTemplateLiteral_default()(["\n  font-weight: ",";\n  text-decoration: none;\n  color: ",";\n\n  & * {\n    font-weight: ",";\n    text-decoration: none;\n    color: ",";\n    margin-right: .5rem;\n  }\n\n  &:hover,\n  &:hover *  {\n    color: ",";\n  }\n\n  &:focus,\n  &:active,\n  &:focus *,\n  &:active * {\n    color: ",";\n  }\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  background-color: ",";\n  width: 100%;\n  padding: .8rem 1.7rem;\n  position: relative;\n  z-index: 2; // higher than StyledTether to prevent cover on scroll\n\n  span:nth-child(even) {\n    margin-left: .9rem;\n    margin-right: .9rem;\n  }\n"]);return _templateObject=function _templateObject(){return data},data}var StyledBreadcrumbs=styled_components_browser_esm.default.div(_templateObject(),(function(props){return props.backgroundColor||resolveThemePath.a.color("backgroundBreadcrumbs")(props)})),StyledBreadcrumbsLink=Object(styled_components_browser_esm.default)(StyledLink.a)(_templateObject2(),resolveThemePath.a.fontWeight("bold"),(function(_ref){return _ref.active&&resolveThemePath.a.color("primary")}),resolveThemePath.a.fontWeight("bold"),(function(_ref2){return _ref2.active&&resolveThemePath.a.color("primary")}),resolveThemePath.a.color("secondaryLight"),resolveThemePath.a.color("primary")),StyledBreadcrumbsTitle=styled_components_browser_esm.default.span(_templateObject3(),resolveThemePath.a.fontWeight("bold"),(function(_ref3){return _ref3.active&&resolveThemePath.a.color("primary")}),resolveThemePath.a.fontWeight("bold"),(function(_ref4){return _ref4.active&&resolveThemePath.a.color("primary")}),resolveThemePath.a.color("primary")),jsx_runtime=__webpack_require__(0),getTitle=function getTitle(breadcrumbsInfo){return breadcrumbsInfo.slice(breadcrumbsInfo.length-2).map((function(breadcrumb){return breadcrumb.title||breadcrumb.display})).reverse().join(" - ")},Breadcrumbs_ref2=Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"list"}),Breadcrumbs_ref3=Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"exclamation-circle"}),Breadcrumbs_ref4=Object(jsx_runtime.jsx)(LazyIcon.a,{icon:"chevron-right"}),Breadcrumbs_Breadcrumbs=function Breadcrumbs(_ref){var pathPrefix=_ref.pathPrefix,breadcrumbsInfo=_ref.breadcrumbsInfo,currentView=_ref.currentView,backgroundColor=_ref.backgroundColor,onClick=_ref.onClick,breadcrumbs=[].concat(toConsumableArray_default()(breadcrumbsInfo||[]),toConsumableArray_default()(currentView?[currentView]:[]));if(0===breadcrumbs.length)return null;var handleClick=function handleClick(breadcrumbsItem){return function(){onClick&&onClick(breadcrumbsItem)}};return Object(jsx_runtime.jsxs)(StyledBreadcrumbs,{backgroundColor:backgroundColor,children:[Object(jsx_runtime.jsx)(Helmet.Helmet,{defer:!1,children:Object(jsx_runtime.jsx)("title",{children:getTitle(breadcrumbs)})}),Object(jsx_runtime.jsxs)("div",{children:["  ",breadcrumbs.map((function(b,idx){var display=b.display||"",Comp=idx===breadcrumbs.length-1?StyledBreadcrumbsTitle:StyledBreadcrumbsLink;return Object(jsx_runtime.jsx)(Typography.a.Span,{children:Object(jsx_runtime.jsxs)(Comp,Object.assign({neutral:"true"},idx===breadcrumbs.length-1&&{active:"true"},void 0!==b.path?{to:"".concat(pathPrefix,"/").concat(b.path)}:{},{onClick:handleClick(b),children:["list"===b.type&&Breadcrumbs_ref2,"error"===b.type&&Breadcrumbs_ref3,display]}))},"breadcrumbItem-".concat(idx))})).reduce((function(prev,curr,idx){return[prev,Object(jsx_runtime.jsxs)(Typography.a.Span,{children:[" ",Breadcrumbs_ref4," "]},"icon"+idx),curr]}))]})]})};Breadcrumbs_Breadcrumbs.displayName="Breadcrumbs",Breadcrumbs_Breadcrumbs.defaultProps={pathPrefix:""},Breadcrumbs_Breadcrumbs.__docgenInfo={description:"",methods:[],displayName:"Breadcrumbs",props:{pathPrefix:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},match:{type:{name:"object"},required:!1,description:""},breadcrumbsInfo:{type:{name:"arrayOf",value:{name:"shape",value:{display:{name:"string",required:!1},title:{name:"string",required:!1},path:{name:"string",required:!1},type:{name:"string",required:!1}}}},required:!1,description:""},currentView:{type:{name:"shape",value:{display:{name:"string",required:!1},title:{name:"string",required:!1}}},required:!1,description:""},backgroundColor:{type:{name:"string"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};__webpack_exports__.a=Breadcrumbs_Breadcrumbs;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/tocco-ui/src/Breadcrumbs/Breadcrumbs.js"]={name:"Breadcrumbs",docgenInfo:Breadcrumbs_Breadcrumbs.__docgenInfo,path:"packages/tocco-ui/src/Breadcrumbs/Breadcrumbs.js"})}}]);