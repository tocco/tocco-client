(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{5671:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var slicedToArray=__webpack_require__(39),slicedToArray_default=__webpack_require__.n(slicedToArray),taggedTemplateLiteral=__webpack_require__(9),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),react=(__webpack_require__(154),__webpack_require__(155),__webpack_require__(345),__webpack_require__(1)),styled_components_browser_esm=__webpack_require__(5),get=__webpack_require__(38),get_default=__webpack_require__.n(get),ace=__webpack_require__(5018),ace_default=__webpack_require__.n(ace),mode_groovy=(__webpack_require__(5129),__webpack_require__(5543)),mode_html=__webpack_require__(5045),mode_less=__webpack_require__(5544),mode_xml=__webpack_require__(5545),mode_properties=__webpack_require__(5546),mode_drools=__webpack_require__(5547),mode_json=__webpack_require__(5548),mode_text=__webpack_require__(5019),classCallCheck=(__webpack_require__(5549),__webpack_require__(5550),__webpack_require__(5551),__webpack_require__(5552),__webpack_require__(5553),__webpack_require__(5554),__webpack_require__(5555),__webpack_require__(5556),__webpack_require__(5557),__webpack_require__(5558),__webpack_require__(136),__webpack_require__(36),__webpack_require__(66),__webpack_require__(165)),classCallCheck_default=__webpack_require__.n(classCallCheck),inherits=__webpack_require__(166),inherits_default=__webpack_require__.n(inherits),possibleConstructorReturn=__webpack_require__(167),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(101),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),mergeWith=(__webpack_require__(153),__webpack_require__(30),__webpack_require__(5560)),mergeWith_default=__webpack_require__.n(mergeWith),isArray=__webpack_require__(346),isArray_default=__webpack_require__.n(isArray);function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}var TqlMode_TqlHighlightRules=function(_ace$require$TextHigh){inherits_default()(TqlHighlightRules,_ace$require$TextHigh);var _super=_createSuper(TqlHighlightRules);function TqlHighlightRules(){var _this;classCallCheck_default()(this,TqlHighlightRules),_this=_super.call(this);var commonWhere=[{token:"keyword.operator",regex:/\s*(and|or|not)($|\s+)/,caseInsensitive:!0},{token:"support.class.relation",regex:/rel/,push:"model"},{token:"keyword.exists",regex:/exists\s*/,push:"exists",caseInsensitive:!0},{token:"keyword.count",regex:/count\s*/,push:"count",caseInsensitive:!0},{token:["keyword.function","paren.lparen","text","paren.rparen","text"],regex:"((?:".concat(["in","dateadd","datetimeadd","duedate","birthdayin","fulltext","likeall","distance","inboundingbox"].join("|"),")\\s*)(\\()(.*?)(\\))($|\\s+)"),caseInsensitive:!0},{token:["keyword.other","support.function.field","text"],regex:/(\.)?([a-z_]+)($|\s+)/,push:"comparison"}],customRules={start:[{token:"keyword.find",regex:/find($|\s+)/,next:"model",caseInsensitive:!0},{token:"keyword.where",regex:/where($|\s+)/,next:"rootwhere",caseInsensitive:!0}],model:[{token:"support.class.model",regex:/[A-Z][a-z_]*\s*/,next:"pop"}],rootwhere:[{token:"keyword.order_by",regex:/order by($|\s+)/,next:"order",caseInsensitive:!0}].concat(commonWhere),comparison:[{token:"keyword.operator",regex:"(".concat(["==","!=","<=",">=","<",">","~="].join("|"),")\\s*"),next:"value"}],value:[{token:"string",regex:/".*?"\s*/,next:"pop"},{token:"constant.numeric",regex:/[0-9]+(.[0-9]+)?\s*/,next:"pop"},{token:"constant.language",regex:":(".concat(["now_date","yesterday_date","tomorrow_date","today_date","now_start","yesterday_start","tomorrow_start","today_start","now","yesterday","tomorrow","today","currentUsername","currentUser","currentBu"].join("|"),")\\s*"),next:"pop",caseInsensitive:!0},{token:"constant.language",regex:"(".concat(["true","false","null"].join("|"),")\\s*"),next:"pop",caseInsensitive:!0},{token:"support.type",regex:"(".concat(["string","long","serial","bool","boolean","double","float","time","timestamp","char","varchar","date","datetime"].join("|"),"):\\s*"),caseInsensitive:!0}],exists:[{token:"paren.lparen",regex:/\(\s*/},{token:"support.class.relation",regex:/rel/,push:"model"},{token:"keyword.where",regex:/where($|\s+)/,next:"existswhere",caseInsensitive:!0},{token:"paren.rparen",regex:/\)\s*/,next:"pop"}],existswhere:[].concat(commonWhere,[{token:"paren.rparen",regex:/\)\s*/,next:"pop"}]),count:[{token:"paren.lparen",regex:/\(\s*/},{token:"support.class.relation",regex:/rel/,push:"model"},{token:"keyword.where",regex:/where($|\s+)/,next:"countwhere",caseInsensitive:!0},{token:"paren.rparen",regex:/\)\s*/,next:"comparison"}],countwhere:[].concat(commonWhere,[{token:"paren.rparen",regex:/\)\s*/,next:"comparison"}]),order:[{token:"support.class.relation",regex:/rel/,push:"model"},{token:["keyword.other","support.function.field","keyword","text"],regex:/(\.)?([a-z_]+\s*)(asc|desc)?($|,|\s+)/}]};return _this.$rules=mergeWith_default()(_this.$rules,customRules,(function(objValue,srcValue){return isArray_default()(objValue)?objValue.concat(srcValue):void 0})),_this.normalizeRules(),_this}return TqlHighlightRules}(ace_default.a.require("ace/mode/text_highlight_rules").TextHighlightRules),TqlMode_TqlMode=function(_ace$require$Mode){inherits_default()(TqlMode,_ace$require$Mode);var _super2=_createSuper(TqlMode);function TqlMode(){var _this2;return classCallCheck_default()(this,TqlMode),(_this2=_super2.call(this)).HighlightRules=TqlMode_TqlHighlightRules,_this2.getCompletions=function getCompletions(editor,session,pos,prefix){return[]},_this2.snippedIdField=null,_this2}return TqlMode}(ace_default.a.require("ace/mode/text").Mode);__webpack_require__(486),__webpack_require__(76),__webpack_require__(5559);function ToccoFtlMode_createSuper(Derived){var hasNativeReflectConstruct=function ToccoFtlMode_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}var ToccoFtlMode_ToccoFtlLangHighlightRules=function(_ace$require$TextHigh){inherits_default()(ToccoFtlLangHighlightRules,_ace$require$TextHigh);var _super=ToccoFtlMode_createSuper(ToccoFtlLangHighlightRules);function ToccoFtlLangHighlightRules(){var _this;classCallCheck_default()(this,ToccoFtlLangHighlightRules);return(_this=_super.call(this)).$rules={start:[{token:"constant.character.entity",regex:/&[^;]+;/},{token:"support.function",regex:"\\?(\\?|substring|cap_first|uncap_first|capitalize|chop_linebreak|date|time|datetime|ends_with|html|groups|index_of|j_string|js_string|json_string|last_index_of|length|lower_case|left_pad|right_pad|contains|matches|number|replace|rtf|url|split|starts_with|string|trim|upper_case|word_list|xhtml|xmlc|round|floor|ceilingiso_[a-z_]+first|last|seq_contains|seq_index_of|seq_last_index_of|reverse|size|sort|sort_by|chunkkeys|valueschildren|parent|root|ancestors|node_name|node_type|node_namespacebyte|double|float|int|long|short|number_to_date|number_to_time|number_to_datetime|eval|has_content|interpret|is_[a-z_]+|namespacenew)"},{token:"support.function.deprecated",regex:"\\?(default|exists|if_exists|web_safe)"},{token:"language.variable",regex:"\\.(?:data_model|error|globals|lang|locale|locals|main|namespace|node|current_node|now|output_encoding|template_name|url_escaping_charset|vars|version)"},{token:"constant.language",regex:"\\b(true|false)\\b"},{token:"keyword.operator",regex:"\\b(?:gt|gte|lt|lte|as|in|using)\\b"},{token:"entity.other.attribute-name",regex:"encoding|parse|locale|number_format|date_format|time_format|datetime_format|time_zone|url_escaping_charset|classic_compatible|strip_whitespace|strip_text|strict_syntax|ns_prefixes|attributes"},{token:"string",regex:/['"]/,next:"qstring"},{token:function token(value){return value.match("^[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?$")?"constant.numeric":"variable"},regex:/[\w.+-]+/},{token:"keyword.operator",regex:"!|\\.|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^="},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],qstring:[{token:"constant.character.escape",regex:'\\\\[nrtvef\\\\"$]'},{token:"string",regex:/['"]/,next:"start"},{defaultToken:"string"}]},_this}return ToccoFtlLangHighlightRules}(ace_default.a.require("ace/mode/text_highlight_rules").TextHighlightRules),ToccoFtlMode_ToccoFtlHighlightRules=function(_ace$require$HtmlHigh){inherits_default()(ToccoFtlHighlightRules,_ace$require$HtmlHigh);var _super2=ToccoFtlMode_createSuper(ToccoFtlHighlightRules);function ToccoFtlHighlightRules(){var _this2;classCallCheck_default()(this,ToccoFtlHighlightRules),_this2=_super2.call(this);var startRules=[{token:"comment",regex:"\\[#--",next:"ftl-dcomment"},{token:"string.interpolated",regex:"\\${",push:"ftl-start"},{token:"keyword.function",regex:"\\[/?#(assign|attempt|break|case|compress|default|elseif|else|escape|fallback|function|flush|ftl|global|if|import|include|list|local|lt|macro|nested|noescape|noparse|nt|recover|recurse|return|rt|setting|stop|switch|t|visit)",push:"ftl-start"},{token:"keyword.other",regex:"\\[/?@[a-zA-Z\\.]+",push:"ftl-start"}];for(var key in _this2.$rules)_this2.$rules[key].unshift.apply(_this2.$rules[key],startRules);return _this2.embedRules(ToccoFtlMode_ToccoFtlLangHighlightRules,"ftl-",[{token:"keyword",regex:"/?\\]",next:"pop"},{token:"string.interpolated",regex:"}",next:"pop"}],["start"]),_this2.addRules({"ftl-dcomment":[{token:"comment",regex:"--\\]",next:"pop"},{defaultToken:"comment"}]}),_this2.normalizeRules(),_this2}return ToccoFtlHighlightRules}(ace_default.a.require("ace/mode/html_highlight_rules").HtmlHighlightRules),ToccoFtlMode_ToccoFtlMode=function(_ace$require$Mode){inherits_default()(ToccoFtlMode,_ace$require$Mode);var _super3=ToccoFtlMode_createSuper(ToccoFtlMode);function ToccoFtlMode(){var _this3;return classCallCheck_default()(this,ToccoFtlMode),(_this3=_super3.call(this)).HighlightRules=ToccoFtlMode_ToccoFtlHighlightRules,_this3}return ToccoFtlMode}(ace_default.a.require("ace/mode/ftl").Mode),jsx_runtime=__webpack_require__(0);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  z-index: 0; /* gutter lays over menu otherwise */\n"]);return _templateObject=function _templateObject(){return data},data}var StyledEditor=styled_components_browser_esm.default.div(_templateObject()),modeMappings={groovy:new mode_groovy.Mode,html:new mode_html.Mode,xml:new mode_xml.Mode,properties:new mode_properties.Mode,json:new mode_json.Mode,htmlmixed:new ToccoFtlMode_ToccoFtlMode,freemarkermixed:new ToccoFtlMode_ToccoFtlMode,ftl:new ToccoFtlMode_ToccoFtlMode,tql:new TqlMode_TqlMode,less:new mode_less.Mode,drools:new mode_drools.Mode,text:new mode_text.Mode},AceEditor_setEditorConfiguration=function setEditorConfiguration(editor,_ref){var mode=_ref.mode,theme=_ref.theme,showGutter=_ref.showGutter,_ref$editorOptions=_ref.editorOptions,editorOptions=void 0===_ref$editorOptions?{}:_ref$editorOptions;editor.getSession().setMode(function getMode(mode){return get_default()(modeMappings,mode,mode)}(mode)),editor.setTheme("ace/theme/".concat(theme)),Object.entries(editorOptions).forEach((function(_ref2){var _ref3=slicedToArray_default()(_ref2,2),k=_ref3[0],v=_ref3[1];editor.setOption(k,v)})),editor.renderer.setShowGutter(showGutter),editor.resize()},AceEditor_AceEditor=function AceEditor(props){var mode=props.mode,_props$theme=props.theme,theme=void 0===_props$theme?"textmate":_props$theme,value=props.value,onChange=props.onChange,_props$showGutter=props.showGutter,showGutter=void 0===_props$showGutter||_props$showGutter,_props$editorOptions=props.editorOptions,editorOptions=void 0===_props$editorOptions?{}:_props$editorOptions,containerReference=Object(react.useRef)(null),editorReference=Object(react.useRef)(null);return Object(react.useEffect)((function(){var aceEditor=ace_default.a.edit(containerReference.current);return aceEditor.getSession().setValue(value),aceEditor.on("change",(function(){return onChange(aceEditor.getValue())})),AceEditor_setEditorConfiguration(aceEditor,props),editorReference.current=aceEditor,function(){return aceEditor.destroy()}}),[]),Object(react.useEffect)((function(){editorReference.current&&AceEditor_setEditorConfiguration(editorReference.current,props)}),[mode,theme,showGutter,editorOptions]),Object(jsx_runtime.jsx)(StyledEditor,{ref:containerReference})};AceEditor_AceEditor.displayName="AceEditor",AceEditor_AceEditor.__docgenInfo={description:"",methods:[],displayName:"AceEditor",composes:["./AceEditorPropTypes"]};__webpack_exports__.default=AceEditor_AceEditor;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/tocco-ui/src/CodeEditor/AceEditor.js"]={name:"AceEditor",docgenInfo:AceEditor_AceEditor.__docgenInfo,path:"packages/tocco-ui/src/CodeEditor/AceEditor.js"})}}]);