(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{3663:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(66),__webpack_require__(29);var defineProperty=__webpack_require__(5),defineProperty_default=__webpack_require__.n(defineProperty),get=__webpack_require__(24),get_default=__webpack_require__.n(get);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var persistedViews={};__webpack_exports__.a={persistViewInfo:function(location,info){var level=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;persistedViews=_objectSpread(_objectSpread({},persistedViews),{},defineProperty_default()({},location,{level:level,info:_objectSpread(_objectSpread({},get_default()(persistedViews,[location,"info"],{})),info)}))},viewInfoSelector:function(location){return get_default()(persistedViews,[location,"info"],{})},clearPersistedViews:function(){var level=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;persistedViews=_objectSpread({},Object.keys(persistedViews).reduce((function(acc,key){var persistedView=persistedViews[key];return _objectSpread(_objectSpread({},acc),persistedView.level<level&&defineProperty_default()({},key,persistedView))}),{}))}}},3688:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"imgs/tocco-circle.25b8cb1141417ffc7763e9309b5a36ec.svg"},3689:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"imgs/tocco_red.6ab51a129d1195d204cd84e69da2f044.svg"},3716:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"imgs/tocco_white.8f9290d80aa3635828f36920cf13aa11.svg"},3717:function(module){module.exports=JSON.parse('{"name":"tocco-admin","version":"0.4.37-hotfix229.20","description":"Alpha version of new tocco admin.","main":"dist/index.js","scripts":{"compile:prod":"cd ../../ && npm run compile:prod -- --package=admin","prepublish":"npm run compile:prod"},"devDependencies":{"path-to-regexp":"^3.0.0","react-burger-menu":"^2.6.11","react-helmet":"^5.2.1","tocco-app-extensions":"*","tocco-copy":"*","tocco-delete":"*","tocco-docs-browser":"*","tocco-entity-detail":"*","tocco-entity-list":"*","tocco-input-edit":"*","tocco-login":"*","tocco-merge":"*","tocco-resource-scheduler":"*","tocco-sso-login":"*","tocco-test-util":"*","tocco-theme":"*","tocco-two-factor-connector":"*","tocco-ui":"*","tocco-user-qr-action":"*","tocco-util":"*"}}')},3754:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return LoginGuardContainer}));var es=__webpack_require__(25),index_es=__webpack_require__(12),notifier=__webpack_require__(32),actions=__webpack_require__(113),react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=(__webpack_require__(1102),__webpack_require__(6)),Helmet=__webpack_require__(3709),slicedToArray=__webpack_require__(48),slicedToArray_default=__webpack_require__.n(slicedToArray),main=__webpack_require__(647),classCallCheck=(__webpack_require__(66),__webpack_require__(61)),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(64),createClass_default=__webpack_require__.n(createClass),inherits=__webpack_require__(63),inherits_default=__webpack_require__.n(inherits),possibleConstructorReturn=__webpack_require__(62),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(38),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),reducer=__webpack_require__(18),appFactory=__webpack_require__(59),externalEvents=__webpack_require__(58),regenerator=(__webpack_require__(11),__webpack_require__(3)),regenerator_default=__webpack_require__.n(regenerator),rest=(__webpack_require__(36),__webpack_require__(23)),cache=__webpack_require__(104),src_intl=__webpack_require__(379),redux_saga_effects_npm_proxy_esm=__webpack_require__(1),defineProperty=(__webpack_require__(22),__webpack_require__(5)),defineProperty_default=__webpack_require__.n(defineProperty),reduce=__webpack_require__(116),reduce_default=__webpack_require__.n(reduce);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var transformProviderEntities=function(response){return response.data.map((function(provider){return reduce_default()(provider.paths,(function(result,value,key){return _objectSpread(_objectSpread({},result),{},defineProperty_default()({},key,value.value))}),{})}))},_marked=regenerator_default.a.mark(sagas_loadProviders),_marked2=regenerator_default.a.mark(sagas_loginCompleted),_marked3=regenerator_default.a.mark(mainSagas),intlSelector=function(state){return state.intl};function sagas_loadProviders(){var intl,query,entities;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.f)(intlSelector);case 2:return intl=_context.sent,query={paths:["unique_id","label","button_primary_color","button_secondary_color","button_icon","button_label"],conditions:{locale:intl.locale,active:!0}},_context.next=6,Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.fetchEntities,"Openid_provider",query,{method:"GET"},transformProviderEntities);case 6:return entities=_context.sent,_context.next=9,Object(redux_saga_effects_npm_proxy_esm.e)({type:"root/SET_PROVIDERS",payload:{providers:entities}});case 9:case"end":return _context.stop()}}),_marked)}function sagas_loginCompleted(_ref){var result,_yield$all,_yield$all2,revisionChanged,localChanged;return regenerator_default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return result=_ref.payload.result,_context2.next=3,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.b)(rest.a.hasRevisionIdChanged),Object(redux_saga_effects_npm_proxy_esm.b)(src_intl.a.hasUserLocaleChanged)]);case 3:if(_yield$all=_context2.sent,_yield$all2=slicedToArray_default()(_yield$all,2),revisionChanged=_yield$all2[0],localChanged=_yield$all2[1],!revisionChanged&&!localChanged){_context2.next=12;break}return _context2.next=10,Object(redux_saga_effects_npm_proxy_esm.b)(cache.a.clearAll);case 10:_context2.next=14;break;case 12:return _context2.next=14,Object(redux_saga_effects_npm_proxy_esm.b)(cache.a.clearShortTerm);case 14:return _context2.next=16,Object(redux_saga_effects_npm_proxy_esm.e)(externalEvents.a.fireExternalEvent("loginCompleted",result));case 16:case"end":return _context2.stop()}}),_marked2)}function mainSagas(){return regenerator_default.a.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.j)("root/LOAD_PROVIDERS",sagas_loadProviders),Object(redux_saga_effects_npm_proxy_esm.j)("root/LOGIN_COMPLETED",sagas_loginCompleted)]);case 2:case"end":return _context3.stop()}}),_marked3)}var ACTION_HANDLERS=defineProperty_default()({},"root/SET_PROVIDERS",reducer.a.singleTransferReducer("providers")),initialState={providers:[]};function reducer_reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:initialState,action=1<arguments.length?arguments[1]:void 0,handler=ACTION_HANDLERS[action.type];return handler?handler(state,action):state}reducer_reducer.__docgenInfo={description:"",methods:[],displayName:"reducer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/modules/reducer.js"]={name:"reducer",docgenInfo:reducer_reducer.__docgenInfo,path:"packages/sso-login/src/modules/reducer.js"});var modules={ssoLogin:reducer_reducer},sagas=[mainSagas],taggedTemplateLiteral=(__webpack_require__(157),__webpack_require__(17)),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),styled_components_browser_esm=__webpack_require__(7),toConsumableArray=(__webpack_require__(21),__webpack_require__(109),__webpack_require__(26)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),openLoginWindow=function(loginEndpoint,loginCompleted,provider){var encodedWindowUrl=encodeURIComponent(window.location.href),url="".concat("https://master.tocco.ch").concat(loginEndpoint,"?provider=").concat(provider.unique_id,"&sourceUri=").concat(encodedWindowUrl),popUp=window.open(url,provider.label,function(){var height=0<arguments.length&&void 0!==arguments[0]?arguments[0]:200,width=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200,features={height:height,width:width,left:window.screen.width/2-width/2,top:window.screen.height/2-height/2,resizable:1,scrollbars:1,status:1};return reduce_default()(features,(function(result,value,key){return[].concat(toConsumableArray_default()(result),["".concat(key,"=").concat(value)])}),[]).join(",")}(650,500));window.ssoPopUpCallback=function(result){popUp.close(),loginCompleted(result)}},get=__webpack_require__(24),get_default=__webpack_require__.n(get),Button=__webpack_require__(57),utilStyles=__webpack_require__(4);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  && {\n    margin-right: 0;\n    flex: 1;\n    font-size: ",";\n    justify-content: center;\n    border-radius: ",";\n    ","\n    span {\n      margin-left: .5em;\n      padding: .9rem 0;\n    }\n  }\n"]);return _templateObject=function(){return data},data}var StyledProviderButton=Object(styled_components_browser_esm.default)(Button.a)(_templateObject(),utilStyles.n.font(1.3),utilStyles.p.radii("large"),(function(props){return Object(utilStyles.e)(Object(utilStyles.j)(props,{bg:props.primaryColor,fg:props.secondaryColor||"".concat(get_default()(props.theme,"colors.paper"),", ").concat(get_default()(props.theme,"colors.text"))}))})),ProviderButton=function(_ref){var provider=_ref.provider,loginCompleted=_ref.loginCompleted,loginEndpoint=_ref.loginEndpoint;return react_default.a.createElement(StyledProviderButton,{primaryColor:provider.button_primary_color,secondaryColor:provider.button_secondary_color,onClick:function clickHandler(){openLoginWindow(loginEndpoint,loginCompleted,provider)}},provider.button_icon&&react_default.a.createElement(src.l,{position:"prepend",icon:provider.button_icon}),react_default.a.createElement("span",null,provider.button_label))};ProviderButton.displayName="ProviderButton",ProviderButton.__docgenInfo={description:"",methods:[],displayName:"ProviderButton",props:{provider:{type:{name:"shape",value:{button_primary_color:{name:"string",required:!1},button_secondary_color:{name:"string",required:!1},button_icon:{name:"string",required:!1},button_label:{name:"string",required:!1}}},required:!1,description:""},loginEndpoint:{type:{name:"string"},required:!0,description:""},loginCompleted:{type:{name:"func"},required:!0,description:""}}};var ProviderButton_ProviderButton=ProviderButton;function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}function LoginBox_templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  margin-top: 3rem;\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n\n  @media (max-width: 1024px) {\n    margin-top: 1.5rem;\n  }\n"]);return LoginBox_templateObject=function(){return data},data}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/components/ProviderButton/ProviderButton.js"]={name:"ProviderButton",docgenInfo:ProviderButton.__docgenInfo,path:"packages/sso-login/src/components/ProviderButton/ProviderButton.js"});var StyledButtonContainer=styled_components_browser_esm.default.div(LoginBox_templateObject()),LoginBox_LoginBox=function(_React$Component){inherits_default()(LoginBox,_React$Component);var _super=_createSuper(LoginBox);function LoginBox(props){var _this;return classCallCheck_default()(this,LoginBox),_this=_super.call(this,props),props.loadProviders(),_this}return createClass_default()(LoginBox,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this2=this;if(this.props.autoLogin&&0===prevProps.providers.length&&0<this.props.providers.length){var autoLoginProvider=this.props.providers.find((function(entity){return entity.unique_id===_this2.props.autoLogin}));autoLoginProvider&&openLoginWindow(this.props.loginEndpoint,this.props.loginCompleted,autoLoginProvider)}}},{key:"render",value:function render(){var _this3=this;return react_default.a.createElement(StyledButtonContainer,null,this.props.providers.map((function(provider,idx){return react_default.a.createElement(ProviderButton_ProviderButton,{key:idx,provider:provider,loginEndpoint:_this3.props.loginEndpoint,loginCompleted:_this3.props.loginCompleted})})))}}]),LoginBox}(react_default.a.Component);LoginBox_LoginBox.displayName="LoginBox",LoginBox_LoginBox.__docgenInfo={description:"",methods:[],displayName:"LoginBox",props:{loginEndpoint:{type:{name:"string"},required:!1,description:""},loginCompleted:{type:{name:"func"},required:!0,description:""},loadProviders:{type:{name:"func"},required:!0,description:""},providers:{type:{name:"array"},required:!1,description:""},autoLogin:{type:{name:"string"},required:!1,description:""}}};var components_LoginBox_LoginBox=LoginBox_LoginBox;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/components/LoginBox/LoginBox.js"]={name:"LoginBox",docgenInfo:LoginBox_LoginBox.__docgenInfo,path:"packages/sso-login/src/components/LoginBox/LoginBox.js"});var components_LoginBox=components_LoginBox_LoginBox,mapActionCreators={loadProviders:function(){return{type:"root/LOAD_PROVIDERS"}},loginCompleted:function(result){return{type:"root/LOGIN_COMPLETED",payload:{result:result}}}},LoginBoxContainer=Object(es.connect)((function(state){return{providers:state.ssoLogin.providers,loginEndpoint:state.input.ssoLoginEndpoint,autoLogin:state.input.autoLogin}}),mapActionCreators)(components_LoginBox);function main_createSuper(Derived){var hasNativeReflectConstruct=function main_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}var EXTERNAL_EVENTS=["loginCompleted"],main_ref=react_default.a.createElement(LoginBoxContainer,null),initApp=function(id,input,events,publicPath){var store=appFactory.a.createStore(modules,sagas,input,"sso-login");return externalEvents.a.addToStore(store,events),appFactory.a.createApp("sso-login",main_ref,store,{input:input,events:events,actions:[],publicPath:publicPath,textResourceModules:["component","common","sso-login"]})},main_SsoLoginApp=function(_React$Component){inherits_default()(SsoLoginApp,_React$Component);var _super=main_createSuper(SsoLoginApp);function SsoLoginApp(props){var _this;classCallCheck_default()(this,SsoLoginApp),_this=_super.call(this,props);var events=EXTERNAL_EVENTS.reduce((function(events,event){return props[event]&&(events[event]=props[event]),events}),{});return _this.app=initApp(0,props,events),_this}return createClass_default()(SsoLoginApp,[{key:"render",value:function render(){return this.app.component}}]),SsoLoginApp}(react_default.a.Component);main_SsoLoginApp.displayName="SsoLoginApp",main_SsoLoginApp.__docgenInfo={description:"",methods:[],displayName:"SsoLoginApp",props:{ssoLoginEndpoint:{type:{name:"string"},required:!0,description:""},locale:{type:{name:"string"},required:!1,description:""},autoLogin:{type:{name:"bool"},required:!1,description:""}}};var src_main=main_SsoLoginApp;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/sso-login/src/main.js"]={name:"SsoLoginApp",docgenInfo:main_SsoLoginApp.__docgenInfo,path:"packages/sso-login/src/main.js"});var js_cookie=__webpack_require__(1032),js_cookie_default=__webpack_require__.n(js_cookie),tocco_white=__webpack_require__(3716),tocco_white_default=__webpack_require__.n(tocco_white),tocco_circle=__webpack_require__(3688),tocco_circle_default=__webpack_require__.n(tocco_circle);function _templateObject8(){var data=taggedTemplateLiteral_default()(["\n  && {\n    color: ",";\n  }\n"]);return _templateObject8=function(){return data},data}function _templateObject7(){var data=taggedTemplateLiteral_default()(["\n  && {\n    display: inline-block;\n    text-align: center;\n    font-weight: ",";\n    width: 100%;\n    color: ",";\n  }\n"]);return _templateObject7=function(){return data},data}function _templateObject6(){var data=taggedTemplateLiteral_default()(["\n  display: none;\n  max-width: 400px;\n  width: 95%;\n  height: auto;\n  position: relative;\n  margin: auto;\n  top: 45px;\n\n  @media (max-width: 1024px) {\n    display: block;\n  }\n\n  @media (max-width: 425px) {\n    max-width: 280px;\n  }\n"]);return _templateObject6=function(){return data},data}function _templateObject5(){var data=taggedTemplateLiteral_default()(["\n  transform: rotate(270deg);\n  position: relative;\n  top: 12.5vw;\n  left: -8%;\n  width: 25vw;\n\n  @media (max-width: 1024px) {\n    display: none;\n  }\n"]);return _templateObject5=function(){return data},data}function _templateObject4(){var data=taggedTemplateLiteral_default()(["\n  max-width: 410px;\n  margin: 6% 5% 0 28%;\n\n  && {\n    .tocco-login * {\n      font-size: ",";\n    }\n\n    @media (max-width: 1024px) {\n      margin: 14rem auto 0;\n      padding-left: 2rem;\n      padding-right: 2rem;\n    }\n\n    @media (max-width: 425px) {\n      margin-top: 12rem;\n    }\n  }\n"]);return _templateObject4=function(){return data},data}function _templateObject3(){var data=taggedTemplateLiteral_default()(["\n  && {\n    text-align: center;\n    font-size: ",";\n    display: inline-block;\n    width: 100%;\n    margin: 1rem 0 1.8rem;\n  }\n"]);return _templateObject3=function(){return data},data}function _templateObject2(){var data=taggedTemplateLiteral_default()(["\n  && {\n    font-size: ",";\n  }\n"]);return _templateObject2=function(){return data},data}function StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  height: 100vh;\n  width: 100vw;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: 61vw;\n  background-position-y: -25vw;\n  background-position-x: -41vw;\n\n  .tocco-sso-login {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1.8rem;\n  }\n\n  @media (max-width: 1024px) {\n    background-size: 2000px;\n    background-position: 50% -1850px;\n  }\n\n  @media (max-width: 425px) {\n    background-position: 50% -1890px;\n  }\n"]);return StyledComponents_templateObject=function(){return data},data}var StyledLogin=styled_components_browser_esm.default.div(StyledComponents_templateObject(),tocco_circle_default.a),StyledHeadingLogin=Object(styled_components_browser_esm.default)(src.G)(_templateObject2(),src.Q.font(11)),StyledSpanLogin=Object(styled_components_browser_esm.default)(src.K)(_templateObject3(),src.Q.font(1.3)),StyledLoginWrapper=styled_components_browser_esm.default.div(_templateObject4(),src.Q.font(1.3)),StyledSloganImg=styled_components_browser_esm.default.img(_templateObject5()),StyledMobileSloganImg=styled_components_browser_esm.default.img(_templateObject6()),StyledSsoMsg=Object(styled_components_browser_esm.default)(src.K)(_templateObject7(),src.S.fontWeight("bold"),src.S.color("signal.info.text")),StyledSsoError=Object(styled_components_browser_esm.default)(StyledSsoMsg)(_templateObject8(),src.S.color("signal.danger.text")),_ref5=react_default.a.createElement(StyledSsoMsg,{breakWords:!0},react_default.a.createElement(index_es.FormattedMessage,{id:"client.sso-login.registration"})),Login_ref6=react_default.a.createElement(StyledSsoError,{breakWords:!0},react_default.a.createElement(index_es.FormattedMessage,{id:"client.sso-login.error"})),_ref7=react_default.a.createElement(StyledSpanLogin,null,react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.loginChoice"})),_ref8=react_default.a.createElement(StyledMobileSloganImg,{src:tocco_white_default.a,alt:"Tocco Slogan",height:"42.3",width:"460"}),_ref9=react_default.a.createElement(StyledSloganImg,{src:tocco_white_default.a,alt:"Tocco Slogan",height:"42.3",width:"460"}),_ref10=react_default.a.createElement(StyledHeadingLogin,null,react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.welcomeTitle"})),Login=function(_ref){var ssoAvailable=_ref.ssoAvailable,loginSuccessful=_ref.loginSuccessful,checkSsoAvailable=_ref.checkSsoAvailable,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),showError=_useState2[0],setShowError=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),showRegistrationText=_useState4[0],setShowRegistrationText=_useState4[1],autoLogin=js_cookie_default.a.get("sso-autologin");Object(react.useEffect)((function(){checkSsoAvailable()}),[]);var _ref4=react_default.a.createElement(src_main,{ssoLoginEndpoint:"/sso",loginCompleted:function ssoLoginCompleted(_ref3){var successful=_ref3.successful,provider=_ref3.provider,registration=_ref3.registration;successful?(js_cookie_default.a.set("sso-autologin",provider,{expires:365}),loginSuccessful(30)):!successful&&registration?setShowRegistrationText(!0):setShowError(!0)},autoLogin:autoLogin});return react_default.a.createElement(StyledLogin,null,_ref8,_ref9,react_default.a.createElement(StyledLoginWrapper,null,_ref10,ssoAvailable&&react_default.a.createElement((function SsoLoginPart(){return react_default.a.createElement(react_default.a.Fragment,null,_ref4,showRegistrationText&&_ref5,showError&&Login_ref6,_ref7)}),null),react_default.a.createElement(main.b,{loginSuccess:function loginSuccess(_ref2){var timeout=_ref2.timeout;loginSuccessful(timeout)},showTitle:!1})))};Login.displayName="Login",Login.__docgenInfo={description:"",methods:[],displayName:"Login",props:{ssoAvailable:{type:{name:"bool"},required:!1,description:""},loginSuccessful:{type:{name:"func"},required:!0,description:""},checkSsoAvailable:{type:{name:"func"},required:!0,description:""}}};var Login_Login=Login;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Login/Login.js"]={name:"Login",docgenInfo:Login.__docgenInfo,path:"packages/admin/src/components/Login/Login.js"});var LoginContainer_mapActionCreators={loginSuccessful:actions.v,checkSsoAvailable:actions.p},LoginContainer=Object(es.connect)((function(state){return{ssoAvailable:state.session.ssoAvailable}}),LoginContainer_mapActionCreators)(Object(index_es.injectIntl)(Login_Login)),navigation_actions=__webpack_require__(163),react_router=(__webpack_require__(49),__webpack_require__(166),__webpack_require__(144),__webpack_require__(114)),history_es=__webpack_require__(3731),viewPersistor=__webpack_require__(3663),SearchBox=(__webpack_require__(291),__webpack_require__(71),__webpack_require__(314)),helpers_extends=(__webpack_require__(79),__webpack_require__(93),__webpack_require__(115),__webpack_require__(28)),extends_default=__webpack_require__.n(helpers_extends);function MenuTree_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function MenuTree_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?MenuTree_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):MenuTree_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function MenuTree_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  margin-bottom: ",";\n\n  > div {\n    margin-bottom: ",";\n  }\n"]);return MenuTree_templateObject2=function(){return data},data}function MenuTree_templateObject(){var data=taggedTemplateLiteral_default()(["\n  ","\n\n  && {\n    padding-left: ","px;\n    line-height: ",";\n  }\n"]);return MenuTree_templateObject=function(){return data},data}var StyledMenuEntry=styled_components_browser_esm.default.div(MenuTree_templateObject(),Object(src.O)(),(function(_ref){return 7*_ref.level}),src.S.lineHeight("light")),StyledMenuEntryWrapper=styled_components_browser_esm.default.div(MenuTree_templateObject2(),src.Q.space(.6),src.Q.space(0)),MenuItem=function(_ref2){var item=_ref2.item,typeMapping=_ref2.typeMapping;if(!item)return null;var mappedType=typeMapping[item.menuType];if(!mappedType)return null;var Component=mappedType.component;return react_default.a.createElement(StyledMenuEntry,item,react_default.a.createElement(Component,extends_default()({item:item},mappedType.props)),item.children&&item.children.map((function(child){return react_default.a.createElement(MenuItem,{key:child.name,item:child,typeMapping:typeMapping})})))};MenuItem.displayName="MenuItem";var prepareTree=function(item,searchFilter,typeMapping){var level=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,mappedType=typeMapping[item.menuType];if(!mappedType)return null;var matchingAttribute,children=(item.children||[]).map((function(child){return prepareTree(child,searchFilter,typeMapping,level+1)})).filter((function(c){return null!==c}));return 0===children.length&&searchFilter&&!(matchingAttribute=mappedType.filterAttributes.find((function(filterAttribute){return item[filterAttribute]&&item[filterAttribute].toLowerCase().includes(searchFilter.toLowerCase())})))?null:MenuTree_objectSpread(MenuTree_objectSpread({},item),{},{level:level,children:children,matchingAttribute:matchingAttribute})},MenuTree=function(_ref3){var items=_ref3.items,searchFilter=_ref3.searchFilter,typeMapping=_ref3.typeMapping;return items&&0!==items.length?react_default.a.createElement(StyledMenuEntryWrapper,null,items.map((function(item){return react_default.a.createElement(MenuItem,{key:item.name,item:prepareTree(item,searchFilter,typeMapping),typeMapping:typeMapping})}))):null};MenuTree.displayName="MenuTree",MenuTree.__docgenInfo={description:"",methods:[],displayName:"MenuTree",props:{items:{type:{name:"array"},required:!1,description:""},searchFilter:{type:{name:"string"},required:!1,description:""},typeMapping:{type:{name:"objectOf",value:{name:"shape",value:{component:{name:"func",required:!1},filterAttribute:{name:"arrayOf",value:{name:"string"},required:!1}}}},required:!1,description:""}}};var MenuTree_MenuTree=react_default.a.memo(MenuTree);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/MenuTree/MenuTree.js"]={name:"MenuTree",docgenInfo:MenuTree.__docgenInfo,path:"packages/admin/src/components/MenuTree/MenuTree.js"});var components_MenuTree=MenuTree_MenuTree,react_router_dom=__webpack_require__(290);function StyledComponents_templateObject7(){var data=taggedTemplateLiteral_default()(["\n  height: 50px;\n  padding-bottom: ",";\n"]);return StyledComponents_templateObject7=function(){return data},data}function StyledComponents_templateObject6(){var data=taggedTemplateLiteral_default()(["\n  flex: 1;\n  justify-content: center;\n  border-radius: 0;\n  margin: 5px;\n  border-top: 5px solid ",";\n  color: ",";\n  font-weight: ",";\n\n  &:hover {\n    border-color: ",";\n    background-color: transparent;\n    color: ",";\n  }\n\n  &:focus {\n    background-color: transparent;\n  }\n"]);return StyledComponents_templateObject6=function(){return data},data}function StyledComponents_templateObject5(){var data=taggedTemplateLiteral_default()(["\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  margin-bottom: 10px;\n  border-bottom: 3px solid ",";\n\n  &:focus {\n    background-color: transparent;\n  }\n\n  span {\n    padding-top: .4rem;\n    padding-bottom: .4rem;\n  }\n"]);return StyledComponents_templateObject5=function(){return data},data}function StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    font-weight: ",";\n    color: ",";\n  }\n\n  &.active {\n    text-decoration: underline;\n  }\n"]);return StyledComponents_templateObject4=function(){return data},data}function StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  color: ",";\n  font-weight: ",";\n"]);return StyledComponents_templateObject3=function(){return data},data}function StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  height: 100%;\n  overflow: auto;\n  padding: "," 0 0 ",";\n  ","\n"]);return StyledComponents_templateObject2=function(){return data},data}function Navigation_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .StyledSearchBox {\n    margin: 1.5rem 3rem 1.8rem 1.8rem;\n  }\n"]);return Navigation_StyledComponents_templateObject=function(){return data},data}var secondary=src.S.color("secondary"),secondaryLight=src.S.color("secondaryLight"),StyledNav=styled_components_browser_esm.default.nav(Navigation_StyledComponents_templateObject()),StyledMenuWrapper=styled_components_browser_esm.default.div(StyledComponents_templateObject2(),src.Q.space(.6),src.Q.space(.6),src.J),StyledComponents_StyledMenuEntry=styled_components_browser_esm.default.span(StyledComponents_templateObject3(),src.S.color("text"),src.S.fontWeight("bold")),StyledMenuLink=Object(styled_components_browser_esm.default)(react_router_dom.a)(StyledComponents_templateObject4(),src.S.color("text"),src.S.color("secondaryLight"),src.S.fontWeight("bold"),secondaryLight),StyledTabsContainer=styled_components_browser_esm.default.div(StyledComponents_templateObject5(),src.S.color("backgroundBody")),StyledNavButton=Object(styled_components_browser_esm.default)(src.f)(StyledComponents_templateObject6(),(function(_ref){return _ref.active?secondary:"transparent"}),(function(_ref2){return _ref2.active?secondary:secondaryLight}),src.S.fontWeight("bold"),(function(_ref3){return _ref3.active?secondary:secondaryLight}),(function(_ref4){return _ref4.active?secondary:secondaryLight})),StyledSearchBoxWrapper=styled_components_browser_esm.default.div(StyledComponents_templateObject7(),src.Q.space(-.5)),MenuMenuEntry=function(_ref){var item=_ref.item;return react_default.a.createElement(StyledComponents_StyledMenuEntry,null,item.label)};MenuMenuEntry.displayName="MenuMenuEntry";var EntityExplorerMenuEntry=function(_ref2){var onClick=_ref2.onClick,item=_ref2.item,entityNameDisplay="entity"===item.matchingAttribute?react_default.a.createElement(react_default.a.Fragment,null," (",item.entity,")"):"";return react_default.a.createElement(StyledMenuLink,{onClick:onClick,to:"/e/".concat(item.entity)},item.label,entityNameDisplay)};EntityExplorerMenuEntry.displayName="EntityExplorerMenuEntry";var ActionMenuEntry=function(_ref3){var onClick=_ref3.onClick,item=_ref3.item;return react_default.a.createElement(StyledMenuLink,{onClick:onClick,to:"/e/action/".concat(item.name)},item.label)};ActionMenuEntry.displayName="ActionMenuEntry";var tabs_MODULES="modules",tabs_SETTINGS="settings",Navigation=function(_ref4){var modulesMenuTree=_ref4.modulesMenuTree,settingsMenuTree=_ref4.settingsMenuTree,menuOpen=_ref4.menuOpen,onClick=_ref4.onClick,activeMenuTab=_ref4.activeMenuTab,setActiveMenuTab=_ref4.setActiveMenuTab,intl=_ref4.intl,inputEl=Object(react.useRef)(null),navigationEl=Object(react.useRef)(null),_useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),filter=_useState2[0],setFilter=_useState2[1],map=Object(react.useMemo)((function(){return{menu:{component:MenuMenuEntry,filterAttributes:[]},"entity-explorer":{component:EntityExplorerMenuEntry,props:{onClick:onClick},filterAttributes:["label","entity"]},action:{component:ActionMenuEntry,props:{onClick:onClick},filterAttributes:["label"]}}}),[]);Object(react.useEffect)((function(){menuOpen&&(activeMenuTab||setActiveMenuTab(tabs_MODULES),inputEl.current.select(),inputEl.current.focus())}),[menuOpen]);var msg=function(id){return intl.formatMessage({id:id})};return react_default.a.createElement(StyledNav,{ref:navigationEl,onKeyDown:function onKeyDown(e){var key,focusableElements,currentIndex;"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),key=e.key,focusableElements=navigationEl.current.querySelectorAll("a, input"),-1!==(currentIndex=toConsumableArray_default()(focusableElements).findIndex((function(el){return document.activeElement.isEqualNode(el)})))&&focusableElements[(currentIndex+("ArrowDown"===key?1:focusableElements.length-1))%focusableElements.length].focus())}},react_default.a.createElement(StyledTabsContainer,null,react_default.a.createElement(StyledNavButton,{active:activeMenuTab===tabs_MODULES,onClick:function(){return setActiveMenuTab(tabs_MODULES)},label:msg("client.admin.navigation.modules")}),react_default.a.createElement(StyledNavButton,{active:activeMenuTab===tabs_SETTINGS,onClick:function(){return setActiveMenuTab(tabs_SETTINGS)},label:msg("client.admin.navigation.settings")})),react_default.a.createElement(StyledSearchBoxWrapper,null,react_default.a.createElement(SearchBox.a,{minInputLength:2,onSearch:setFilter,ref:inputEl,placeholder:msg("client.admin.navigation.searchBoxPlaceHolder"),"aria-label":msg("client.admin.navigation.searchBoxPlaceHolder")})),activeMenuTab===tabs_MODULES&&react_default.a.createElement(StyledMenuWrapper,null,react_default.a.createElement(components_MenuTree,{items:modulesMenuTree,searchFilter:filter,typeMapping:map})),activeMenuTab===tabs_SETTINGS&&react_default.a.createElement(StyledMenuWrapper,null,react_default.a.createElement(components_MenuTree,{items:settingsMenuTree,searchFilter:filter,typeMapping:map})))};Navigation.displayName="Navigation",Navigation.__docgenInfo={description:"",methods:[],displayName:"Navigation",props:{intl:{type:{name:"custom",raw:"intlShape.isRequired"},required:!1,description:""},activeMenuTab:{type:{name:"string"},required:!0,description:""},settingsMenuTree:{type:{name:"array"},required:!1,description:""},modulesMenuTree:{type:{name:"array"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""},setActiveMenuTab:{type:{name:"func"},required:!1,description:""},menuOpen:{type:{name:"bool"},required:!1,description:""}}};var Navigation_Navigation=Navigation;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Navigation/Navigation.js"]={name:"Navigation",docgenInfo:Navigation.__docgenInfo,path:"packages/admin/src/components/Navigation/Navigation.js"});var NavigationContainer_mapActionCreators={setActiveMenuTab:navigation_actions.h},components_Navigation=Object(es.connect)((function(state){return{settingsMenuTree:state.navigation.settingsMenuTree,modulesMenuTree:state.navigation.modulesMenuTree,menuOpen:state.navigation.menuOpen,activeMenuTab:state.navigation.activeMenuTab}}),NavigationContainer_mapActionCreators)(Object(index_es.injectIntl)(Navigation_Navigation)),tocco_red=__webpack_require__(3689),tocco_red_default=__webpack_require__.n(tocco_red);function Dashboard_StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  height: auto;\n"]);return Dashboard_StyledComponents_templateObject4=function(){return data},data}function Dashboard_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  && {\n    font-size: 3rem;\n    color: ",";\n  }\n"]);return Dashboard_StyledComponents_templateObject3=function(){return data},data}function Dashboard_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  max-width: 900px;\n  width: 100%;\n  height: 100px;\n  text-align: right;\n  margin-bottom: 150px;\n  margin-right: 100px;\n  margin-left: 100px;\n\n  @media (max-width: 568px) {\n    margin-right: 25px;\n    margin-left: 25px;\n    margin-bottom: 0;\n  }\n"]);return Dashboard_StyledComponents_templateObject2=function(){return data},data}function Dashboard_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n\n  @media (max-width: 568px) {\n    justify-content: center;\n    align-items: center;\n  }\n"]);return Dashboard_StyledComponents_templateObject=function(){return data},data}var StyledDashBoardWrapper=styled_components_browser_esm.default.div(Dashboard_StyledComponents_templateObject(),src.S.color("backgroundBody")),StyledSlogan=styled_components_browser_esm.default.div(Dashboard_StyledComponents_templateObject2()),StyledTitle=Object(styled_components_browser_esm.default)(src.H)(Dashboard_StyledComponents_templateObject3(),src.S.color("primary")),StyledLogo=styled_components_browser_esm.default.img(Dashboard_StyledComponents_templateObject4()),Dashboard_ref=react_default.a.createElement(StyledLogo,{src:tocco_red_default.a,alt:"tocco-logo",height:"53.34",width:"580"}),Dashboard=function(){var packageJson=__webpack_require__(3717);return react_default.a.createElement(StyledDashBoardWrapper,null,react_default.a.createElement(StyledSlogan,null,Dashboard_ref,react_default.a.createElement(StyledTitle,null,"beta v",packageJson.version)))};Dashboard.displayName="Dashboard",Dashboard.__docgenInfo={description:"",methods:[],displayName:"Dashboard",props:{match:{type:{name:"object"},required:!1,description:""}}};var Dashboard_Dashboard=react_default.a.memo(Dashboard,(function(){return!0}));"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/dashboard/components/Dashboard/Dashboard.js"]={name:"Dashboard",docgenInfo:Dashboard.__docgenInfo,path:"packages/admin/src/routes/dashboard/components/Dashboard/Dashboard.js"});var components_Dashboard=Dashboard_Dashboard,route=(__webpack_require__(158),__webpack_require__(29),__webpack_require__(30),__webpack_require__(84),__webpack_require__(259)),js=__webpack_require__(140),omit=__webpack_require__(197),omit_default=__webpack_require__.n(omit),omitBy=__webpack_require__(3718),omitBy_default=__webpack_require__.n(omitBy),ignoredAttributes=["location.key","location.search","location.hash"];function areEqual(prevProps,nextProps){var diff=js.a.difference(prevProps,nextProps),clean=omitBy_default()(omit_default()(diff,ignoredAttributes),(function(v){return 0===Object.keys(v).length}));return 0===Object.entries(clean).length}var routes_entities=Object(react.memo)((function(props){return react_default.a.createElement(es.ReactReduxContext.Consumer,null,(function(_ref){var store=_ref.store,Component=route.a.loadRoute(store,{},(function(){return Promise.all([__webpack_require__.e(0),__webpack_require__.e(2),__webpack_require__.e(18)]).then(__webpack_require__.bind(null,3753))}));return react_default.a.createElement(Component,props)}))}),areEqual),Route=function(props){var store=Object(es.useStore)(),Component=Object(react.useMemo)((function(){return route.a.loadRoute(store,{},(function(){return Promise.all([__webpack_require__.e(2),__webpack_require__.e(19)]).then(__webpack_require__.bind(null,3739))}),"docs")}),[]);return react_default.a.createElement(Component,props)};Route.displayName="Route",Route.__docgenInfo={description:"",methods:[],displayName:"Route"};var docs=Route;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/docs/index.js"]={name:"Route",docgenInfo:Route.__docgenInfo,path:"packages/admin/src/routes/docs/index.js"});var Settings_ref=react_default.a.createElement(src.N.H2,null,"Settings"),Settings=function(){return Settings_ref};Settings.displayName="Settings",Settings.__docgenInfo={description:"",methods:[],displayName:"Settings"};var Settings_Settings=Settings;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/routes/settings/components/Settings/Settings.js"]={name:"Settings",docgenInfo:Settings.__docgenInfo,path:"packages/admin/src/routes/settings/components/Settings/Settings.js"});var components_Settings=Settings_Settings,two_factor_connector_src_main=__webpack_require__(1034);function Header_StyledComponents_templateObject4(){var data=taggedTemplateLiteral_default()(["\n  position: absolute;\n  z-index: 3; // higher than StyledBackgroundCover to prevent coverage\n  height: 40px;\n  width: 100%;\n  background-color: ",";\n  mask-image: url(",");\n  mask-repeat: no-repeat;\n  mask-position: -300px -900px;\n"]);return Header_StyledComponents_templateObject4=function(){return data},data}function Header_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  flex: 1;\n  z-index: 2;\n  display: flex;\n  justify-content: flex-end;\n  padding: 7px;\n"]);return Header_StyledComponents_templateObject3=function(){return data},data}function Header_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  grid-area: header;\n  display: flex;\n  height: 40px;\n  padding-right: 10px;\n  padding-left: 40px;\n  position: relative;\n  z-index: 3; // higher than StyledBackgroundCover to enable button interactions\n"]);return Header_StyledComponents_templateObject2=function(){return data},data}function Header_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  position: absolute;\n  z-index: 2; // higher than StyledTether to prevent cover on scroll\n  height: 40px;\n  width: 100%;\n  background-color: ",";\n"]);return Header_StyledComponents_templateObject=function(){return data},data}var StyledBackgroundCover=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject(),src.S.color("paper")),StyledHeader=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject2()),StyledConfig=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject3()),StyledBackgroundLogo=styled_components_browser_esm.default.div(Header_StyledComponents_templateObject4(),(function(_ref){var runEnv=_ref.runEnv,theme=_ref.theme;return"PRODUCTION"===runEnv?theme.colors.primary:theme.colors.secondary}),tocco_circle_default.a);function AboutTocco_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  margin-top: ",";\n  width: 80%;\n  height: auto;\n"]);return AboutTocco_StyledComponents_templateObject3=function(){return data},data}function AboutTocco_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  margin-top: ",";\n"]);return AboutTocco_StyledComponents_templateObject2=function(){return data},data}function AboutTocco_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  font-size: ",";\n  margin-top: ",";\n"]);return AboutTocco_StyledComponents_templateObject=function(){return data},data}var StyledFormattedMessageWrapper=styled_components_browser_esm.default.div(AboutTocco_StyledComponents_templateObject(),src.Q.font(-1.5),src.Q.space(.5)),StyledBlockWrapper=styled_components_browser_esm.default.div(AboutTocco_StyledComponents_templateObject2(),src.Q.space(.5)),StyledComponents_StyledLogo=styled_components_browser_esm.default.img(AboutTocco_StyledComponents_templateObject3(),src.Q.space(1)),AboutTocco_ref2=react_default.a.createElement(StyledComponents_StyledLogo,{src:tocco_red_default.a,height:"53.34",width:"580",alt:"tocco-logo"}),AboutTocco_ref3=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.tocco.homepage"}),AboutTocco_ref4=react_default.a.createElement("br",null),AboutTocco_ref5=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.tocco.email"}),AboutTocco_ref6=react_default.a.createElement("br",null),AboutTocco_ref7=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.tocco.phone"}),AboutTocco_ref8=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.about.versionLabel"}),AboutTocco_ref9=react_default.a.createElement("br",null),AboutTocco_ref10=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.about.revisionLabel"}),AboutTocco_ref11=react_default.a.createElement(StyledFormattedMessageWrapper,null,react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.copyright"})),AboutTocco=function(_ref){var niceVersion=_ref.niceVersion,niceRevision=_ref.niceRevision,intl=_ref.intl,msg=function(id){return intl.formatMessage({id:id})};return react_default.a.createElement(src.N.Span,null,AboutTocco_ref2,react_default.a.createElement("div",{dangerouslySetInnerHTML:{__html:msg("client.admin.tocco.address")}}),react_default.a.createElement(src.N.P,null,react_default.a.createElement(src.n,{href:msg("client.admin.tocco.homepage"),neutral:!0,target:"_blank"},AboutTocco_ref3),AboutTocco_ref4,react_default.a.createElement(src.n,{href:"mailto:"+msg("client.admin.tocco.email"),neutral:!0,target:"_blank"},AboutTocco_ref5),AboutTocco_ref6,react_default.a.createElement(src.n,{href:"tel:"+msg("client.admin.tocco.phone"),neutral:!0,target:"_blank"},AboutTocco_ref7)),react_default.a.createElement(StyledBlockWrapper,null,react_default.a.createElement(src.N.P,null,AboutTocco_ref8,":  ",niceVersion,AboutTocco_ref9,AboutTocco_ref10,":  ",niceRevision)),AboutTocco_ref11)};AboutTocco.displayName="AboutTocco",AboutTocco.__docgenInfo={description:"",methods:[],displayName:"AboutTocco",props:{intl:{type:{name:"custom",raw:"intlShape"},required:!1,description:""},niceVersion:{type:{name:"string"},required:!1,description:""},niceRevision:{type:{name:"string"},required:!1,description:""}}};var AboutTocco_AboutTocco=AboutTocco;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/AboutTocco/AboutTocco.js"]={name:"AboutTocco",docgenInfo:AboutTocco.__docgenInfo,path:"packages/admin/src/components/AboutTocco/AboutTocco.js"});var AboutToccoContainer=Object(es.connect)((function(state){return{niceVersion:state.session.serverSettings.niceVersion,niceRevision:state.session.serverSettings.niceRevision}}),null)(Object(index_es.injectIntl)(AboutTocco_AboutTocco));function Header_templateObject(){var data=taggedTemplateLiteral_default()(["\n  margin-top: 2px;\n\n  "," {\n    font-size: ",";\n  }\n"]);return Header_templateObject=function(){return data},data}var StyledBallMenuWrapper=styled_components_browser_esm.default.span(Header_templateObject(),src.D,src.Q.font(1)),Header_ref2=react_default.a.createElement(StyledBackgroundCover,null),Header_ref3=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.menu.passwordUpdate"}),Header_ref4=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.menu.twoFactorConnector"}),Header_ref5=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.menu.logout"}),Header_ref6=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.menu.doc"}),Header_ref7=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.menu.restDoc"}),Header_ref8=react_default.a.createElement(AboutToccoContainer,null),Header_ref9=react_default.a.createElement(index_es.FormattedMessage,{id:"client.admin.menu.aboutToccoTitle"}),Header=function(_ref){var username=_ref.username,currentBusinessUnit=_ref.currentBusinessUnit,businessUnits=_ref.businessUnits,loadBusinessUnits=_ref.loadBusinessUnits,changeBusinessUnit=_ref.changeBusinessUnit,doLogout=_ref.doLogout,runEnv=_ref.runEnv,niceVersion=_ref.niceVersion,openModalComponent=_ref.openModalComponent,removeModalComponent=_ref.removeModalComponent,info=_ref.info,intl=_ref.intl;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(StyledBackgroundLogo,{runEnv:runEnv}),Header_ref2,react_default.a.createElement(StyledHeader,null,react_default.a.createElement(StyledConfig,null,react_default.a.createElement(src.h,{label:currentBusinessUnit.label,onOpen:function handleBusinessUnitOpen(){0===businessUnits.length&&loadBusinessUnits()}},businessUnits.map((function(bU){return react_default.a.createElement(src.r,{key:"buMenu-".concat(bU.id),disabled:bU.id===currentBusinessUnit.id,onClick:function onClick(){changeBusinessUnit(bU.id)}},bU.label)}))),react_default.a.createElement(src.h,{label:username},react_default.a.createElement(src.r,{onClick:function openPasswordUpdate(){openModalComponent("passwordUpdateModal","client.login.passwordUpdate.title",null,(function(){return react_default.a.createElement(main.a,{username:username,success:function success(){removeModalComponent("passwordUpdateModal"),info("success","client.login.passwordUpdate.success")}})}),!0)}},Header_ref3),react_default.a.createElement(src.r,{onClick:function openTwoFactorConnector(){openModalComponent("passwordUpdateModal","client.actions.two-factor-connector.title",null,(function(){return react_default.a.createElement(two_factor_connector_src_main.a,{onSuccess:function onSuccess(){removeModalComponent("passwordUpdateModal")}})}),!0)}},Header_ref4),react_default.a.createElement(src.r,{onClick:doLogout},Header_ref5)),react_default.a.createElement(StyledBallMenuWrapper,null,react_default.a.createElement(src.c,{buttonProps:{icon:"question-circle",title:function msg(id){return intl.formatMessage({id:id})}("client.admin.header.help")}},niceVersion&&react_default.a.createElement(src.r,{onClick:function onClick(){window.open("https://".concat(niceVersion.replace(".",""),".docs.tocco.ch/de/"),"_blank")}},Header_ref6),react_default.a.createElement(src.r,{onClick:function onClick(){window.open("/nice2/swagger","_blank")}},Header_ref7),react_default.a.createElement(src.r,{onClick:function onClick(){openModalComponent("about",null,null,(function(){return Header_ref8}),!0)}},Header_ref9))))))};Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{username:{type:{name:"string"},required:!1,description:""},currentBusinessUnit:{type:{name:"custom",raw:"bUPropType"},required:!1,description:""},businessUnits:{type:{name:"arrayOf",value:{name:"custom",raw:"bUPropType"}},required:!1,description:""},doLogout:{type:{name:"func"},required:!0,description:""},changeBusinessUnit:{type:{name:"func"},required:!0,description:""},loadBusinessUnits:{type:{name:"func"},required:!0,description:""},runEnv:{type:{name:"string"},required:!1,description:""},niceVersion:{type:{name:"string"},required:!1,description:""},openModalComponent:{type:{name:"func"},required:!0,description:""},removeModalComponent:{type:{name:"func"},required:!0,description:""},info:{type:{name:"func"},required:!0,description:""},intl:{type:{name:"custom",raw:"intlShape.isRequired"},required:!1,description:""}}};var Header_Header=Header;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Header/Header.js"]={name:"Header",docgenInfo:Header.__docgenInfo,path:"packages/admin/src/components/Header/Header.js"});var HeaderContainer_mapActionCreators={doLogout:actions.q,loadBusinessUnits:actions.s,changeBusinessUnit:actions.o,openModalComponent:notifier.a.modalComponent,removeModalComponent:notifier.a.removeModalComponent,info:notifier.a.info},HeaderContainer=Object(es.connect)((function(state){return{username:state.session.username,currentBusinessUnit:state.session.currentBusinessUnit,businessUnits:state.session.businessUnits,runEnv:state.session.serverSettings.runEnv,niceVersion:state.session.serverSettings.niceVersion}}),HeaderContainer_mapActionCreators)(Object(index_es.injectIntl)(Header_Header)),slide=__webpack_require__(3720),slide_default=__webpack_require__.n(slide);function Admin_StyledComponents_templateObject3(){var data=taggedTemplateLiteral_default()(["\n  grid-area: menu;\n"]);return Admin_StyledComponents_templateObject3=function(){return data},data}function Admin_StyledComponents_templateObject2(){var data=taggedTemplateLiteral_default()(["\n  grid-area: content;\n  background-color: ",";\n  overflow: hidden;\n  display: flex;\n"]);return Admin_StyledComponents_templateObject2=function(){return data},data}function Admin_StyledComponents_templateObject(){var data=taggedTemplateLiteral_default()(["\n  display: grid;\n  grid-template:\n    'header header' auto\n    'menu content' 1fr / auto 1fr;\n  background-color: ",";\n  height: calc(var(--vh, 1vh) * 100);\n\n  .bm-burger-button button:focus {\n    outline: 0;\n  }\n"]);return Admin_StyledComponents_templateObject=function(){return data},data}var calcViewportHeight=function(){var vh=.01*document.documentElement.clientHeight;document.documentElement.style.setProperty("--vh","".concat(vh,"px"))};calcViewportHeight(),window.addEventListener("resize",(function(){return calcViewportHeight()})),window.addEventListener("orientationchange",(function(){return calcViewportHeight()}));var StyledWrapper=styled_components_browser_esm.default.div(Admin_StyledComponents_templateObject(),src.S.color("paper")),StyledContent=styled_components_browser_esm.default.div(Admin_StyledComponents_templateObject2(),src.S.color("backgroundBody")),StyledMenu=Object(styled_components_browser_esm.default)(slide_default.a)(Admin_StyledComponents_templateObject3()),burgerMenuStyles={bmBurgerButton:{position:"absolute",outline:"0",width:"24px",height:"24px",left:"17px",top:"10px",zIndex:3},bmBurgerBarsHover:{background:"#a90000"},bmMenuWrap:{position:"fixed",height:"100%",width:"16%",minWidth:"350px"},bmMenu:{background:"#fff",padding:"0 0 3rem 0",fontSize:"1.15em",overflow:"hidden"},bmMorphShape:{fill:"#373a47"},bmItemList:{color:"#b8b7ad",height:"100%"},bmItem:{display:"inline-block"},bmOverlay:{background:"rgba(0, 0, 0, 0.3)"}};function Admin_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Admin_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?Admin_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Admin_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var Admin_ref2=react_default.a.createElement(index_es.FormattedMessage,{id:"client.common.ok"}),Admin_ref3=react_default.a.createElement(index_es.FormattedMessage,{id:"client.common.cancel"}),Admin_ref4=react_default.a.createElement(notifier.a.Notifier,null),Admin_ref5=react_default.a.createElement(HeaderContainer,null),Admin_ref7=react_default.a.createElement(react_router.c,{exact:!0,path:"/dashboard",component:components_Dashboard}),Admin_ref8=react_default.a.createElement(react_router.c,{path:"/e",component:routes_entities}),Admin_ref9=react_default.a.createElement(react_router.c,{path:"/s",component:components_Settings}),Admin_ref10=react_default.a.createElement(react_router.c,{path:"/docs",component:docs}),Admin=function(_ref){var initializeNavigation=_ref.initializeNavigation,setMenuOpen=_ref.setMenuOpen,menuOpen=_ref.menuOpen,baseRoute=_ref.baseRoute,confirm=_ref.confirm,loadPrincipal=_ref.loadPrincipal,loadServerSettings=_ref.loadServerSettings,theme=_ref.theme,_useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),history=_useState2[0],setHistory=_useState2[1];Object(react.useEffect)((function(){initializeHistory(),initializeNavigation(),loadPrincipal(),loadServerSettings()}),[]);var initializeHistory=function(){var browserHistory=Object(history_es.a)(Admin_objectSpread(Admin_objectSpread({},baseRoute&&{basename:baseRoute}),{},{getUserConfirmation:function getUserConfirmation(message,confirmCallback){confirm("",message,Admin_ref2,Admin_ref3,(function(){return confirmCallback(!0)}),(function(){return confirmCallback(!1)}))}}));setHistory(browserHistory)};return react_default.a.createElement(src.o,{required:[null!==history]},react_default.a.createElement(react_router.d,{history:history||{}},Admin_ref4,react_default.a.createElement(StyledWrapper,{id:"outer-container"},Admin_ref5,react_default.a.createElement(StyledMenu,{isOpen:menuOpen,onStateChange:function isMenuOpen(state){state.isOpen!==menuOpen&&setMenuOpen(state.isOpen)},customCrossIcon:!1,customBurgerIcon:react_default.a.createElement(src.e,{isOpen:menuOpen,size:"20",color:theme.colors.paper}),styles:burgerMenuStyles,pageWrapId:"page-wrap",outerContainerId:"outer-container"},react_default.a.createElement(components_Navigation,{onClick:function onClick(){setMenuOpen(!1),viewPersistor.a.clearPersistedViews()}})),react_default.a.createElement(StyledContent,{id:"page-wrap"},react_default.a.createElement(react_router.e,null,react_default.a.createElement(react_router.c,{exact:!0,path:"/",render:function render(_ref6){var match=_ref6.match;return react_default.a.createElement(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/dashboard")})}}),Admin_ref7,Admin_ref8,Admin_ref9,Admin_ref10,react_default.a.createElement(react_router.c,{render:function render(_ref11){var match=_ref11.match;return react_default.a.createElement(react_router.b,{to:"".concat(match.url.replace(/\/$/,""),"/dashboard")})}}))))))};Admin.displayName="Admin",Admin.__docgenInfo={description:"",methods:[],displayName:"Admin",props:{baseRoute:{type:{name:"string"},required:!1,description:""},loggedIn:{type:{name:"bool"},required:!1,description:""},menuOpen:{type:{name:"bool"},required:!1,description:""},loadPrincipal:{type:{name:"func"},required:!0,description:""},setMenuOpen:{type:{name:"func"},required:!0,description:""},confirm:{type:{name:"func"},required:!0,description:""},initializeNavigation:{type:{name:"func"},required:!0,description:""},loadServerSettings:{type:{name:"func"},required:!0,description:""},theme:{type:{name:"object"},required:!0,description:""}}};var Admin_Admin=Object(styled_components_browser_esm.withTheme)(Admin);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/Admin/Admin.js"]={name:"Admin",docgenInfo:Admin.__docgenInfo,path:"packages/admin/src/components/Admin/Admin.js"});var AdminContainer_mapActionCreators={loadPrincipal:actions.t,confirm:notifier.a.confirm,initializeNavigation:navigation_actions.g,setMenuOpen:navigation_actions.i,loadServerSettings:actions.u},AdminContainer=Object(es.connect)((function(state){return{baseRoute:state.input.baseRoute,menuOpen:state.navigation.menuOpen}}),AdminContainer_mapActionCreators)(Object(index_es.injectIntl)(Admin_Admin)),LoginGuard_ref2=react_default.a.createElement(Helmet.Helmet,{defer:!1},react_default.a.createElement("title",null,"Tocco")),LoginGuard_ref3=react_default.a.createElement(LoginContainer,null),LoginGuard_ref4=react_default.a.createElement(AdminContainer,null),LoginGuard=function(_ref){var doSessionCheck=_ref.doSessionCheck,loggedIn=_ref.loggedIn;return Object(react.useEffect)((function(){doSessionCheck()}),[]),react_default.a.createElement("div",null,LoginGuard_ref2,react_default.a.createElement(src.o,{required:[void 0!==loggedIn],loadingText:"Logging in..."},react_default.a.createElement("div",null,loggedIn?LoginGuard_ref4:LoginGuard_ref3)))};LoginGuard.displayName="LoginGuard",LoginGuard.__docgenInfo={description:"",methods:[],displayName:"LoginGuard",props:{loggedIn:{type:{name:"bool"},required:!1,description:""},doSessionCheck:{type:{name:"func"},required:!0,description:""}}};var LoginGuard_LoginGuard=LoginGuard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/admin/src/components/LoginGuard/LoginGuard.js"]={name:"LoginGuard",docgenInfo:LoginGuard.__docgenInfo,path:"packages/admin/src/components/LoginGuard/LoginGuard.js"});var LoginGuardContainer_mapActionCreators={doSessionCheck:actions.r,confirm:notifier.a.confirm},LoginGuardContainer=Object(es.connect)((function(state){return{loggedIn:state.session.loggedIn}}),LoginGuardContainer_mapActionCreators)(Object(index_es.injectIntl)(LoginGuard_LoginGuard))}}]);
//# sourceMappingURL=17.6abf12b39f3038b54bc4.bundle.js.map